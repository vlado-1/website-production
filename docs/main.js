var SI=Object.create;var $c=Object.defineProperty,DI=Object.defineProperties,TI=Object.getOwnPropertyDescriptor,AI=Object.getOwnPropertyDescriptors,MI=Object.getOwnPropertyNames,em=Object.getOwnPropertySymbols,NI=Object.getPrototypeOf,nm=Object.prototype.hasOwnProperty,RI=Object.prototype.propertyIsEnumerable;var tm=(e,t,n)=>t in e?$c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||={})nm.call(t,n)&&tm(e,n,t[n]);if(em)for(var n of em(t))RI.call(t,n)&&tm(e,n,t[n]);return e},Me=(e,t)=>DI(e,AI(t));var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kI=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MI(t))!nm.call(e,i)&&i!==n&&$c(e,i,{get:()=>t[i],enumerable:!(r=TI(t,i))||r.enumerable});return e};var OI=(e,t,n)=>(n=e!=null?SI(NI(e)):{},kI(t||!e||!e.__esModule?$c(n,"default",{value:e,enumerable:!0}):n,e));var ge=ae((Oj,ZE)=>{"use strict";ZE.exports={options:{usePureJavaScript:!1}}});var eb=ae((Pj,JE)=>{"use strict";var Zp={};JE.exports=Zp;var XE={};Zp.encode=function(e,t,n){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(n!==void 0&&typeof n!="number")throw new TypeError('"maxline" must be a number.');var r="";if(!(e instanceof Uint8Array))r=C2(e,t);else{var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var l=0,u=e[i];l<a.length;++l)u+=a[l]<<8,a[l]=u%o,u=u/o|0;for(;u>0;)a.push(u%o),u=u/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)r+=s;for(i=a.length-1;i>=0;--i)r+=t[a[i]]}if(n){var c=new RegExp(".{1,"+n+"}","g");r=r.match(c).join(`\r
`)}return r};Zp.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var n=XE[t];if(!n){n=XE[t]=[];for(var r=0;r<t.length;++r)n[t.charCodeAt(r)]=r}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),s=[0],r=0;r<e.length;r++){var a=n[e.charCodeAt(r)];if(a===void 0)return;for(var l=0,u=a;l<s.length;++l)u+=s[l]*i,s[l]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var c=0;e[c]===o&&c<e.length-1;++c)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function C2(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var s=0,a=e.at(n);s<o.length;++s)a+=o[s]<<8,o[s]=a%r,a=a/r|0;for(;a>0;)o.push(a%r),a=a/r|0}var l="";for(n=0;e.at(n)===0&&n<e.length()-1;++n)l+=i;for(n=o.length-1;n>=0;--n)l+=t[o[n]];return l}});var Te=ae((Lj,ib)=>{"use strict";var tb=ge(),nb=eb(),I=ib.exports=tb.util=tb.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){I.nextTick=process.nextTick,typeof setImmediate=="function"?I.setImmediate=setImmediate:I.setImmediate=I.nextTick;return}if(typeof setImmediate=="function"){I.setImmediate=function(){return setImmediate.apply(void 0,arguments)},I.nextTick=function(a){return setImmediate(a)};return}if(I.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(l){if(l.source===window&&l.data===e){l.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(c){c()})}};var s=a,e="forge.setImmediate",t=[];I.setImmediate=function(l){t.push(l),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var n=Date.now(),r=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var l=t.slice();t.length=0,l.forEach(function(u){u()})}).observe(i,{attributes:!0});var o=I.setImmediate;I.setImmediate=function(l){Date.now()-n>15?(n=Date.now(),o(l)):(t.push(l),t.length===1&&i.setAttribute("a",r=!r))}}I.nextTick=I.setImmediate})();I.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;I.globalScope=function(){return I.isNodejs?global:typeof self>"u"?window:self}();I.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};I.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};I.isArrayBufferView=function(e){return e&&I.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Na(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}I.ByteBuffer=Xp;function Xp(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(I.isArrayBuffer(e)||I.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof Xp||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}I.ByteStringBuffer=Xp;var E2=4096;I.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>E2&&(this.data.substr(0,1),this._constructedStringLength=0)};I.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};I.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};I.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};I.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)t&1&&(n+=e),t>>>=1,t>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this};I.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};I.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(I.encodeUtf8(e))};I.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};I.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};I.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};I.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};I.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};I.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};I.ByteStringBuffer.prototype.putInt=function(e,t){Na(t);var n="";do t-=8,n+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(n)};I.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};I.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};I.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};I.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};I.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};I.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};I.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};I.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};I.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};I.ByteStringBuffer.prototype.getInt=function(e){Na(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};I.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t};I.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};I.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};I.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};I.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};I.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};I.ByteStringBuffer.prototype.copy=function(){var e=I.createBuffer(this.data);return e.read=this.read,e};I.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};I.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};I.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};I.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e};I.ByteStringBuffer.prototype.toString=function(){return I.decodeUtf8(this.bytes())};function b2(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=I.isArrayBuffer(e),r=I.isArrayBufferView(e);if(n||r){n?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}I.DataBuffer=b2;I.DataBuffer.prototype.length=function(){return this.write-this.read};I.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};I.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this};I.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};I.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this};I.DataBuffer.prototype.putBytes=function(e,t){if(I.isArrayBufferView(e)){var n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=n.byteLength-n.byteOffset;this.accommodate(r);var i=new Uint8Array(this.data.buffer,this.write);return i.set(n),this.write+=r,this}if(I.isArrayBuffer(e)){var n=new Uint8Array(e);this.accommodate(n.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(n,this.write),this.write+=n.byteLength,this}if(e instanceof I.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&I.isArrayBufferView(e.data)){var n=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(n.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(n),this.write+=n.byteLength,this}if(e instanceof I.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=I.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=I.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=I.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};I.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};I.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};I.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};I.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};I.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};I.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};I.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};I.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};I.DataBuffer.prototype.putInt=function(e,t){Na(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};I.DataBuffer.prototype.putSignedInt=function(e,t){return Na(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};I.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};I.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};I.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};I.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};I.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};I.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};I.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};I.DataBuffer.prototype.getInt=function(e){Na(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};I.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t};I.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};I.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};I.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};I.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};I.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};I.DataBuffer.prototype.copy=function(){return new I.DataBuffer(this)};I.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};I.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};I.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};I.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e};I.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return I.binary.raw.encode(t);if(e==="hex")return I.binary.hex.encode(t);if(e==="base64")return I.binary.base64.encode(t);if(e==="utf8")return I.text.utf8.decode(t);if(e==="utf16")return I.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};I.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=I.encodeUtf8(e)),new I.ByteBuffer(e)};I.fillString=function(e,t){for(var n="";t>0;)t&1&&(n+=e),t>>>=1,t>0&&(e+=e);return n};I.xorBytes=function(e,t,n){for(var r="",i="",o="",s=0,a=0;n>0;--n,++s)i=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(r+=o,o="",a=0),o+=String.fromCharCode(i),++a;return r+=o,r};I.hexToBytes=function(e){var t="",n=0;for(e.length&!0&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t};I.bytesToHex=function(e){return I.createBuffer(e).toHex()};I.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ci=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],rb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";I.encode64=function(e,t){for(var n="",r="",i,o,s,a=0;a<e.length;)i=e.charCodeAt(a++),o=e.charCodeAt(a++),s=e.charCodeAt(a++),n+=ui.charAt(i>>2),n+=ui.charAt((i&3)<<4|o>>4),isNaN(o)?n+="==":(n+=ui.charAt((o&15)<<2|s>>6),n+=isNaN(s)?"=":ui.charAt(s&63)),t&&n.length>t&&(r+=n.substr(0,t)+`\r
`,n=n.substr(t));return r+=n,r};I.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",n,r,i,o,s=0;s<e.length;)n=ci[e.charCodeAt(s++)-43],r=ci[e.charCodeAt(s++)-43],i=ci[e.charCodeAt(s++)-43],o=ci[e.charCodeAt(s++)-43],t+=String.fromCharCode(n<<2|r>>4),i!==64&&(t+=String.fromCharCode((r&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};I.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};I.decodeUtf8=function(e){return decodeURIComponent(escape(e))};I.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:nb.encode,decode:nb.decode}};I.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};I.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length)),n=n||0;for(var i=n,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r};I.binary.hex.encode=I.bytesToHex;I.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2))),n=n||0;var i=0,o=n;for(e.length&1&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r};I.binary.base64.encode=function(e,t){for(var n="",r="",i,o,s,a=0;a<e.byteLength;)i=e[a++],o=e[a++],s=e[a++],n+=ui.charAt(i>>2),n+=ui.charAt((i&3)<<4|o>>4),isNaN(o)?n+="==":(n+=ui.charAt((o&15)<<2|s>>6),n+=isNaN(s)?"=":ui.charAt(s&63)),t&&n.length>t&&(r+=n.substr(0,t)+`\r
`,n=n.substr(t));return r+=n,r};I.binary.base64.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=n||0;for(var i,o,s,a,l=0,u=n;l<e.length;)i=ci[e.charCodeAt(l++)-43],o=ci[e.charCodeAt(l++)-43],s=ci[e.charCodeAt(l++)-43],a=ci[e.charCodeAt(l++)-43],r[u++]=i<<2|o>>4,s!==64&&(r[u++]=(o&15)<<4|s>>2,a!==64&&(r[u++]=(s&3)<<6|a));return t?u-n:r.subarray(0,u)};I.binary.base58.encode=function(e,t){return I.binary.baseN.encode(e,rb,t)};I.binary.base58.decode=function(e,t){return I.binary.baseN.decode(e,rb,t)};I.text={utf8:{},utf16:{}};I.text.utf8.encode=function(e,t,n){e=I.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length)),n=n||0;for(var i=n,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r};I.text.utf8.decode=function(e){return I.decodeUtf8(String.fromCharCode.apply(null,e))};I.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length*2));var i=new Uint16Array(r.buffer);n=n||0;for(var o=n,s=n,a=0;a<e.length;++a)i[s++]=e.charCodeAt(a),o+=2;return t?o-n:r};I.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};I.deflate=function(e,t,n){if(t=I.decode64(e.deflate(I.encode64(t)).rval),n){var r=2,i=t.charCodeAt(1);i&32&&(r=6),t=t.substring(r,t.length-4)}return t};I.inflate=function(e,t,n){var r=e.inflate(I.encode64(t)).rval;return r===null?null:I.decode64(r)};var Jp=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(n===null?r=e.removeItem(t):(n=I.encode64(JSON.stringify(n)),r=e.setItem(t,n)),typeof r<"u"&&r.rval!==!0){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},eg=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(n.rval===null){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return n!==null&&(n=JSON.parse(I.decode64(n))),n},x2=function(e,t,n,r){var i=eg(e,t);i===null&&(i={}),i[n]=r,Jp(e,t,i)},I2=function(e,t,n){var r=eg(e,t);return r!==null&&(r=n in r?r[n]:null),r},w2=function(e,t,n){var r=eg(e,t);if(r!==null&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),Jp(e,t,r)}},_2=function(e,t){Jp(e,t,null)},lc=function(e,t,n){var r=null;typeof n>"u"&&(n=["web","flash"]);var i,o=!1,s=null;for(var a in n){i=n[a];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");r=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,r=e.apply(this,t),o=!0)}catch(l){s=l}if(o)break}if(!o)throw s;return r};I.setItem=function(e,t,n,r,i){lc(x2,arguments,i)};I.getItem=function(e,t,n,r){return lc(I2,arguments,r)};I.removeItem=function(e,t,n,r){lc(w2,arguments,r)};I.clearItems=function(e,t,n){lc(_2,arguments,n)};I.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};I.format=function(e){for(var t=/%./g,n,r,i=0,o=[],s=0;n=t.exec(e);){r=e.substring(s,t.lastIndex-2),r.length>0&&o.push(r),s=t.lastIndex;var a=n[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(e.substring(s)),o.join("")};I.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=n===void 0?",":n,a=r===void 0?".":r,l=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+a:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-u).toFixed(o).slice(2):"")};I.formatSize=function(e){return e>=1073741824?e=I.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=I.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=I.formatNumber(e/1024,0)+" KiB":e=I.formatNumber(e,0)+" bytes",e};I.bytesFromIP=function(e){return e.indexOf(".")!==-1?I.bytesFromIPv4(e):e.indexOf(":")!==-1?I.bytesFromIPv6(e):null};I.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=I.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()};I.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var n=(8-e.length+t)*2,r=I.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){r.fillWithByte(0,n),n=0;continue}var o=I.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}return r.getBytes()};I.bytesToIP=function(e){return e.length===4?I.bytesToIPv4(e):e.length===16?I.bytesToIPv6(e):null};I.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")};I.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=I.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var s=n[n.length-1],a=t.length;!s||a!==s.end+1?n.push({start:a,end:a}):(s.end=a,s.end-s.start>n[r].end-n[r].start&&(r=n.length-1))}t.push(o)}if(n.length>0){var l=n[r];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),l.start===0&&t.unshift(""),l.end===7&&t.push(""))}return t.join(":")};I.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in I&&!e.update)return t(null,I.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return I.cores=navigator.hardwareConcurrency,t(null,I.cores);if(typeof Worker>"u")return I.cores=1,t(null,I.cores);if(typeof Blob>"u")return I.cores=2,t(null,I.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var a=Date.now(),l=a+4;Date.now()<l;);self.postMessage({st:a,et:l})})}.toString(),")()"],{type:"application/javascript"}));r([],5,16);function r(s,a,l){if(a===0){var u=Math.floor(s.reduce(function(c,d){return c+d},0)/s.length);return I.cores=Math.max(1,u),URL.revokeObjectURL(n),t(null,I.cores)}i(l,function(c,d){s.push(o(l,d)),r(s,a-1,l)})}function i(s,a){for(var l=[],u=[],c=0;c<s;++c){var d=new Worker(n);d.addEventListener("message",function(f){if(u.push(f.data),u.length===s){for(var v=0;v<s;++v)l[v].terminate();a(null,u)}}),l.push(d)}for(var c=0;c<s;++c)l[c].postMessage(c)}function o(s,a){for(var l=[],u=0;u<s;++u)for(var c=a[u],d=l[u]=[],f=0;f<s;++f)if(u!==f){var v=a[f];(c.st>v.st&&c.st<v.et||v.st>c.st&&v.st<c.et)&&d.push(f)}return l.reduce(function(m,y){return Math.max(m,y.length)},0)}}});var uc=ae((Fj,ob)=>{"use strict";var yt=ge();Te();ob.exports=yt.cipher=yt.cipher||{};yt.cipher.algorithms=yt.cipher.algorithms||{};yt.cipher.createCipher=function(e,t){var n=e;if(typeof n=="string"&&(n=yt.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+e);return new yt.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})};yt.cipher.createDecipher=function(e,t){var n=e;if(typeof n=="string"&&(n=yt.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+e);return new yt.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})};yt.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),yt.cipher.algorithms[e]=t};yt.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in yt.cipher.algorithms?yt.cipher.algorithms[e]:null};var tg=yt.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};tg.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt,this._finish=!1,this._input=yt.util.createBuffer(),this.output=e.output||yt.util.createBuffer(),this.mode.start(t)};tg.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};tg.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(n){return e(this.blockSize,n,!1)},this.mode.unpad=function(n){return e(this.blockSize,n,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var rg=ae((Bj,sb)=>{"use strict";var Ct=ge();Te();Ct.cipher=Ct.cipher||{};var Ce=sb.exports=Ct.cipher.modes=Ct.cipher.modes||{};Ce.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ce.ecb.prototype.start=function(e){};Ce.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])};Ce.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])};Ce.ecb.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0};Ce.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return r>this.blockSize<<2?!1:(e.truncate(r),!0)};Ce.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ce.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=cc(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ce.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};Ce.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};Ce.cbc.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0};Ce.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return r>this.blockSize<<2?!1:(e.truncate(r),!0)};Ce.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ct.util.createBuffer(),this._partialBytes=0};Ce.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=cc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ce.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(r===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&r>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0};Ce.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(r===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&r>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0};Ce.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ct.util.createBuffer(),this._partialBytes=0};Ce.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=cc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ce.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0};Ce.ofb.prototype.decrypt=Ce.ofb.prototype.encrypt;Ce.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ct.util.createBuffer(),this._partialBytes=0};Ce.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=cc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ce.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(r===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}dc(this._inBlock)};Ce.ctr.prototype.decrypt=Ce.ctr.prototype.encrypt;Ce.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ct.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ce.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ct.util.createBuffer(e.iv);this._cipherLength=0;var n;if("additionalData"in e?n=Ct.util.createBuffer(e.additionalData):n=Ct.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ct.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var r=t.length();if(r===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(ng(r*8)))}this._inBlock=this._j0.slice(0),dc(this._inBlock),this._partialBytes=0,n=Ct.util.createBuffer(n),this._aDataLength=ng(n.length()*8);var i=n.length()%this.blockSize;for(i&&n.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];n.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()])};Ce.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(r===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||n){if(n){var s=r%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),dc(this._inBlock)};Ce.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),dc(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize};Ce.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ct.util.createBuffer();var r=this._aDataLength.concat(ng(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,r);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n};Ce.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),this.pow(r,r)}return n};Ce.gcm.prototype.pow=function(e,t){for(var n=e[3]&1,r=3;r>0;--r)t[r]=e[r]>>>1|(e[r-1]&1)<<31;t[0]=e[0]>>>1,n&&(t[0]^=this._R)};Ce.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=n/8|0,i=e[r]>>>(7-n%8)*4&15,o=this._m[n][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};Ce.gcm.prototype.ghash=function(e,t,n){return t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],this.tableMultiply(t)};Ce.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,i=16*n,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],l=s/r|0,u=(r-1-s%r)*t;a[l]=1<<t-1<<u,o[s]=this.generateSubHashTable(this.multiply(a,e),t)}return o};Ce.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,i=new Array(n);i[r]=e.slice(0);for(var o=r>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<r;){for(var s=1;s<o;++s){var a=i[o],l=i[s];i[o+s]=[a[0]^l[0],a[1]^l[1],a[2]^l[2],a[3]^l[3]]}o*=2}for(i[0]=[0,0,0,0],o=r+1;o<n;++o){var u=i[o^r];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function cc(e,t){if(typeof e=="string"&&(e=Ct.util.createBuffer(e)),Ct.util.isArray(e)&&e.length>4){var n=e;e=Ct.util.createBuffer();for(var r=0;r<n.length;++r)e.putByte(n[r])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ct.util.isArray(e)){for(var i=[],o=t/4,r=0;r<o;++r)i.push(e.getInt32());e=i}return e}function dc(e){e[e.length-1]=e[e.length-1]+1&4294967295}function ng(e){return[e/4294967296|0,e&4294967295]}});var di=ae((Vj,cb)=>{"use strict";var ze=ge();uc();rg();Te();cb.exports=ze.aes=ze.aes||{};ze.aes.startEncrypting=function(e,t,n,r){var i=fc({key:e,output:n,decrypt:!1,mode:r});return i.start(t),i};ze.aes.createEncryptionCipher=function(e,t){return fc({key:e,output:null,decrypt:!1,mode:t})};ze.aes.startDecrypting=function(e,t,n,r){var i=fc({key:e,output:n,decrypt:!0,mode:r});return i.start(t),i};ze.aes.createDecryptionCipher=function(e,t){return fc({key:e,output:null,decrypt:!0,mode:t})};ze.aes.Algorithm=function(e,t){sg||lb();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(r,i){return og(n._w,r,i,!1)},decrypt:function(r,i){return og(n._w,r,i,!0)}}}),n._init=!1};ze.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,n;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ze.util.createBuffer(t);else if(ze.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){n=t,t=ze.util.createBuffer();for(var r=0;r<n.length;++r)t.putByte(n[r])}if(!ze.util.isArray(t)){n=t,t=[];var i=n.length();if(i===16||i===24||i===32){i=i>>>2;for(var r=0;r<i;++r)t.push(n.getInt32())}}if(!ze.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=ub(t,e.decrypt&&!s),this._init=!0}};ze.aes._expandKey=function(e,t){return sg||lb(),ub(e,t)};ze.aes._updateBlock=og;as("AES-ECB",ze.cipher.modes.ecb);as("AES-CBC",ze.cipher.modes.cbc);as("AES-CFB",ze.cipher.modes.cfb);as("AES-OFB",ze.cipher.modes.ofb);as("AES-CTR",ze.cipher.modes.ctr);as("AES-GCM",ze.cipher.modes.gcm);function as(e,t){var n=function(){return new ze.aes.Algorithm(e,t)};ze.cipher.registerAlgorithm(e,n)}var sg=!1,ss=4,Zt,ig,ab,to,qn;function lb(){sg=!0,ab=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Zt=new Array(256),ig=new Array(256),to=new Array(4),qn=new Array(4);for(var t=0;t<4;++t)to[t]=new Array(256),qn[t]=new Array(256);for(var n=0,r=0,i,o,s,a,l,u,c,t=0;t<256;++t){a=r^r<<1^r<<2^r<<3^r<<4,a=a>>8^a&255^99,Zt[n]=a,ig[a]=n,l=e[a],i=e[n],o=e[i],s=e[o],u=l<<24^a<<16^a<<8^(a^l),c=(i^o^s)<<24^(n^s)<<16^(n^o^s)<<8^(n^i^s);for(var d=0;d<4;++d)to[d][n]=u,qn[d][a]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;n===0?n=r=1:(n=i^e[e[e[i^s]]],r^=e[e[r]])}}function ub(e,t){for(var n=e.slice(0),r,i=1,o=n.length,s=o+6+1,a=ss*s,l=o;l<a;++l)r=n[l-1],l%o===0?(r=Zt[r>>>16&255]<<24^Zt[r>>>8&255]<<16^Zt[r&255]<<8^Zt[r>>>24]^ab[i]<<24,i++):o>6&&l%o===4&&(r=Zt[r>>>24]<<24^Zt[r>>>16&255]<<16^Zt[r>>>8&255]<<8^Zt[r&255]),n[l]=n[l-o]^r;if(t){var u,c=qn[0],d=qn[1],f=qn[2],v=qn[3],m=n.slice(0);a=n.length;for(var l=0,y=a-ss;l<a;l+=ss,y-=ss)if(l===0||l===a-ss)m[l]=n[y],m[l+1]=n[y+3],m[l+2]=n[y+2],m[l+3]=n[y+1];else for(var E=0;E<ss;++E)u=n[y+E],m[l+(3&-E)]=c[Zt[u>>>24]]^d[Zt[u>>>16&255]]^f[Zt[u>>>8&255]]^v[Zt[u&255]];n=m}return n}function og(e,t,n,r){var i=e.length/4-1,o,s,a,l,u;r?(o=qn[0],s=qn[1],a=qn[2],l=qn[3],u=ig):(o=to[0],s=to[1],a=to[2],l=to[3],u=Zt);var c,d,f,v,m,y,E;c=t[0]^e[0],d=t[r?3:1]^e[1],f=t[2]^e[2],v=t[r?1:3]^e[3];for(var x=3,S=1;S<i;++S)m=o[c>>>24]^s[d>>>16&255]^a[f>>>8&255]^l[v&255]^e[++x],y=o[d>>>24]^s[f>>>16&255]^a[v>>>8&255]^l[c&255]^e[++x],E=o[f>>>24]^s[v>>>16&255]^a[c>>>8&255]^l[d&255]^e[++x],v=o[v>>>24]^s[c>>>16&255]^a[d>>>8&255]^l[f&255]^e[++x],c=m,d=y,f=E;n[0]=u[c>>>24]<<24^u[d>>>16&255]<<16^u[f>>>8&255]<<8^u[v&255]^e[++x],n[r?3:1]=u[d>>>24]<<24^u[f>>>16&255]<<16^u[v>>>8&255]<<8^u[c&255]^e[++x],n[2]=u[f>>>24]<<24^u[v>>>16&255]<<16^u[c>>>8&255]<<8^u[d&255]^e[++x],n[r?1:3]=u[v>>>24]<<24^u[c>>>16&255]<<16^u[d>>>8&255]<<8^u[f&255]^e[++x]}function fc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),n="AES-"+t,r;e.decrypt?r=ze.cipher.createDecipher(n,e.key):r=ze.cipher.createCipher(n,e.key);var i=r.start;return r.start=function(o,s){var a=null;s instanceof ze.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(r,s)},r}});var fi=ae((Uj,db)=>{"use strict";var Ra=ge();Ra.pki=Ra.pki||{};var ag=db.exports=Ra.pki.oids=Ra.oids=Ra.oids||{};function R(e,t){ag[e]=t,ag[t]=e}function Pe(e,t){ag[e]=t}R("1.2.840.113549.1.1.1","rsaEncryption");R("1.2.840.113549.1.1.4","md5WithRSAEncryption");R("1.2.840.113549.1.1.5","sha1WithRSAEncryption");R("1.2.840.113549.1.1.7","RSAES-OAEP");R("1.2.840.113549.1.1.8","mgf1");R("1.2.840.113549.1.1.9","pSpecified");R("1.2.840.113549.1.1.10","RSASSA-PSS");R("1.2.840.113549.1.1.11","sha256WithRSAEncryption");R("1.2.840.113549.1.1.12","sha384WithRSAEncryption");R("1.2.840.113549.1.1.13","sha512WithRSAEncryption");R("1.3.101.112","EdDSA25519");R("1.2.840.10040.4.3","dsa-with-sha1");R("1.3.14.3.2.7","desCBC");R("1.3.14.3.2.26","sha1");R("1.3.14.3.2.29","sha1WithRSASignature");R("2.16.840.1.101.3.4.2.1","sha256");R("2.16.840.1.101.3.4.2.2","sha384");R("2.16.840.1.101.3.4.2.3","sha512");R("2.16.840.1.101.3.4.2.4","sha224");R("2.16.840.1.101.3.4.2.5","sha512-224");R("2.16.840.1.101.3.4.2.6","sha512-256");R("1.2.840.113549.2.2","md2");R("1.2.840.113549.2.5","md5");R("1.2.840.113549.1.7.1","data");R("1.2.840.113549.1.7.2","signedData");R("1.2.840.113549.1.7.3","envelopedData");R("1.2.840.113549.1.7.4","signedAndEnvelopedData");R("1.2.840.113549.1.7.5","digestedData");R("1.2.840.113549.1.7.6","encryptedData");R("1.2.840.113549.1.9.1","emailAddress");R("1.2.840.113549.1.9.2","unstructuredName");R("1.2.840.113549.1.9.3","contentType");R("1.2.840.113549.1.9.4","messageDigest");R("1.2.840.113549.1.9.5","signingTime");R("1.2.840.113549.1.9.6","counterSignature");R("1.2.840.113549.1.9.7","challengePassword");R("1.2.840.113549.1.9.8","unstructuredAddress");R("1.2.840.113549.1.9.14","extensionRequest");R("1.2.840.113549.1.9.20","friendlyName");R("1.2.840.113549.1.9.21","localKeyId");R("1.2.840.113549.1.9.22.1","x509Certificate");R("1.2.840.113549.1.12.10.1.1","keyBag");R("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");R("1.2.840.113549.1.12.10.1.3","certBag");R("1.2.840.113549.1.12.10.1.4","crlBag");R("1.2.840.113549.1.12.10.1.5","secretBag");R("1.2.840.113549.1.12.10.1.6","safeContentsBag");R("1.2.840.113549.1.5.13","pkcs5PBES2");R("1.2.840.113549.1.5.12","pkcs5PBKDF2");R("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");R("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");R("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");R("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");R("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");R("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");R("1.2.840.113549.2.7","hmacWithSHA1");R("1.2.840.113549.2.8","hmacWithSHA224");R("1.2.840.113549.2.9","hmacWithSHA256");R("1.2.840.113549.2.10","hmacWithSHA384");R("1.2.840.113549.2.11","hmacWithSHA512");R("1.2.840.113549.3.7","des-EDE3-CBC");R("2.16.840.1.101.3.4.1.2","aes128-CBC");R("2.16.840.1.101.3.4.1.22","aes192-CBC");R("2.16.840.1.101.3.4.1.42","aes256-CBC");R("2.5.4.3","commonName");R("2.5.4.4","surname");R("2.5.4.5","serialNumber");R("2.5.4.6","countryName");R("2.5.4.7","localityName");R("2.5.4.8","stateOrProvinceName");R("2.5.4.9","streetAddress");R("2.5.4.10","organizationName");R("2.5.4.11","organizationalUnitName");R("2.5.4.12","title");R("2.5.4.13","description");R("2.5.4.15","businessCategory");R("2.5.4.17","postalCode");R("2.5.4.42","givenName");R("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");R("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");R("2.16.840.1.113730.1.1","nsCertType");R("2.16.840.1.113730.1.13","nsComment");Pe("2.5.29.1","authorityKeyIdentifier");Pe("2.5.29.2","keyAttributes");Pe("2.5.29.3","certificatePolicies");Pe("2.5.29.4","keyUsageRestriction");Pe("2.5.29.5","policyMapping");Pe("2.5.29.6","subtreesConstraint");Pe("2.5.29.7","subjectAltName");Pe("2.5.29.8","issuerAltName");Pe("2.5.29.9","subjectDirectoryAttributes");Pe("2.5.29.10","basicConstraints");Pe("2.5.29.11","nameConstraints");Pe("2.5.29.12","policyConstraints");Pe("2.5.29.13","basicConstraints");R("2.5.29.14","subjectKeyIdentifier");R("2.5.29.15","keyUsage");Pe("2.5.29.16","privateKeyUsagePeriod");R("2.5.29.17","subjectAltName");R("2.5.29.18","issuerAltName");R("2.5.29.19","basicConstraints");Pe("2.5.29.20","cRLNumber");Pe("2.5.29.21","cRLReason");Pe("2.5.29.22","expirationDate");Pe("2.5.29.23","instructionCode");Pe("2.5.29.24","invalidityDate");Pe("2.5.29.25","cRLDistributionPoints");Pe("2.5.29.26","issuingDistributionPoint");Pe("2.5.29.27","deltaCRLIndicator");Pe("2.5.29.28","issuingDistributionPoint");Pe("2.5.29.29","certificateIssuer");Pe("2.5.29.30","nameConstraints");R("2.5.29.31","cRLDistributionPoints");R("2.5.29.32","certificatePolicies");Pe("2.5.29.33","policyMappings");Pe("2.5.29.34","policyConstraints");R("2.5.29.35","authorityKeyIdentifier");Pe("2.5.29.36","policyConstraints");R("2.5.29.37","extKeyUsage");Pe("2.5.29.46","freshestCRL");Pe("2.5.29.54","inhibitAnyPolicy");R("1.3.6.1.4.1.11129.2.4.2","timestampList");R("1.3.6.1.5.5.7.1.1","authorityInfoAccess");R("1.3.6.1.5.5.7.3.1","serverAuth");R("1.3.6.1.5.5.7.3.2","clientAuth");R("1.3.6.1.5.5.7.3.3","codeSigning");R("1.3.6.1.5.5.7.3.4","emailProtection");R("1.3.6.1.5.5.7.3.8","timeStamping")});var zn=ae((jj,hb)=>{"use strict";var Je=ge();Te();fi();var V=hb.exports=Je.asn1=Je.asn1||{};V.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};V.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};V.create=function(e,t,n,r,i){if(Je.util.isArray(r)){for(var o=[],s=0;s<r.length;++s)r[s]!==void 0&&o.push(r[s]);r=o}var a={tagClass:e,type:t,constructed:n,composed:n||Je.util.isArray(r),value:r};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=V.copy(a)),a};V.copy=function(e,t){var n;if(Je.util.isArray(e)){n=[];for(var r=0;r<e.length;++r)n.push(V.copy(e[r],t));return n}return typeof e=="string"?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:V.copy(e.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)};V.equals=function(e,t,n){if(Je.util.isArray(e)){if(!Je.util.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!V.equals(e[r],t[r]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&V.equals(e.value,t.value);return n&&n.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};V.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var n,r=t&128;return r?n=e.getInt((t&127)<<3):n=t,n}};function ka(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=n,r}}var S2=function(e,t){var n=e.getByte();if(t--,n!==128){var r,i=n&128;if(!i)r=n;else{var o=n&127;ka(e,t,o),r=e.getInt(o<<3)}if(r<0)throw new Error("Negative length: "+r);return r}};V.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Je.util.createBuffer(e));var n=e.length(),r=hc(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=n,i.remaining=e.length(),i}return r};function hc(e,t,n,r){var i;ka(e,t,2);var o=e.getByte();t--;var s=o&192,a=o&31;i=e.length();var l=S2(e,t);if(t-=i-e.length(),l!==void 0&&l>t){if(r.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=l,u}l=t}var c,d,f=(o&32)===32;if(f)if(c=[],l===void 0)for(;;){if(ka(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),c.push(hc(e,t,n+1,r)),t-=i-e.length()}else for(;l>0;)i=e.length(),c.push(hc(e,l,n+1,r)),t-=i-e.length(),l-=i-e.length();if(c===void 0&&s===V.Class.UNIVERSAL&&a===V.Type.BITSTRING&&(d=e.bytes(l)),c===void 0&&r.decodeBitStrings&&s===V.Class.UNIVERSAL&&a===V.Type.BITSTRING&&l>1){var v=e.read,m=t,y=0;if(a===V.Type.BITSTRING&&(ka(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var E={strict:!0,decodeBitStrings:!0},x=hc(e,t,n+1,E),S=i-e.length();t-=S,a==V.Type.BITSTRING&&S++;var _=x.tagClass;S===l&&(_===V.Class.UNIVERSAL||_===V.Class.CONTEXT_SPECIFIC)&&(c=[x])}catch{}c===void 0&&(e.read=v,t=m)}if(c===void 0){if(l===void 0){if(r.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=t}if(a===V.Type.BMPSTRING)for(c="";l>0;l-=2)ka(e,t,2),c+=String.fromCharCode(e.getInt16()),t-=2;else c=e.getBytes(l),t-=l}var k=d===void 0?null:{bitStringContents:d};return V.create(s,a,f,c,k)}V.toDer=function(e){var t=Je.util.createBuffer(),n=e.tagClass|e.type,r=Je.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=V.equals(e,e.original))),i)r.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:r.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&r.putBuffer(V.toDer(e.value[o]))}else if(e.type===V.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)r.putInt16(e.value.charCodeAt(o));else e.type===V.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?r.putBytes(e.value.substr(1)):r.putBytes(e.value);if(t.putByte(n),r.length()<=127)t.putByte(r.length()&127);else{var s=r.length(),a="";do a+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(a.length|128);for(var o=a.length-1;o>=0;--o)t.putByte(a.charCodeAt(o))}return t.putBuffer(r),t};V.oidToDer=function(e){var t=e.split("."),n=Je.util.createBuffer();n.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var r,i,o,s,a=2;a<t.length;++a){r=!0,i=[],o=parseInt(t[a],10);do s=o&127,o=o>>>7,r||(s|=128),i.push(s),r=!1;while(o>0);for(var l=i.length-1;l>=0;--l)n.putByte(i[l])}return n};V.derToOid=function(e){var t;typeof e=="string"&&(e=Je.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var r=0;e.length()>0;)n=e.getByte(),r=r<<7,n&128?r+=n&127:(t+="."+(r+n),r=0);return t};V.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var r=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var l=e.charAt(10),u=10;l!=="+"&&l!=="-"&&(a=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(n,r,i),t.setUTCHours(o,s,a,0),u&&(l=e.charAt(u),l==="+"||l==="-")){var c=parseInt(e.substr(u+1,2),10),d=parseInt(e.substr(u+4,2),10),f=c*60+d;f*=6e4,l==="+"?t.setTime(+t-f):t.setTime(+t+f)}return t};V.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),l=0,u=0,c=!1;e.charAt(e.length-1)==="Z"&&(c=!0);var d=e.length-5,f=e.charAt(d);if(f==="+"||f==="-"){var v=parseInt(e.substr(d+1,2),10),m=parseInt(e.substr(d+4,2),10);u=v*60+m,u*=6e4,f==="+"&&(u*=-1),c=!0}return e.charAt(14)==="."&&(l=parseFloat(e.substr(14),10)*1e3),c?(t.setUTCFullYear(n,r,i),t.setUTCHours(o,s,a,l),t.setTime(+t+u)):(t.setFullYear(n,r,i),t.setHours(o,s,a,l)),t};V.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z",t};V.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z",t};V.integerToDer=function(e){var t=Je.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n};V.derToInteger=function(e){typeof e=="string"&&(e=Je.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};V.validate=function(e,t,n,r){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Je.util.isArray(t.value))for(var o=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[o]&&(i=V.validate(e.value[o],t.value[s],n,r),i?++o:t.value[s].optional&&(i=!0)),!i&&r&&r.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&n&&(t.capture&&(n[t.capture]=e.value),t.captureAsn1&&(n[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var a;if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{var l=e.bitStringContents.charCodeAt(0);if(l!==0)throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else r&&r.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else r&&(e.tagClass!==t.tagClass&&r.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&r.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var fb=/[^\\u0000-\\u00ff]/;V.prettyPrint=function(e,t,n){var r="";t=t||0,n=n||2,t>0&&(r+=`
`);for(var i="",o=0;o<t*n;++o)i+=" ";switch(r+=i+"Tag: ",e.tagClass){case V.Class.UNIVERSAL:r+="Universal:";break;case V.Class.APPLICATION:r+="Application:";break;case V.Class.CONTEXT_SPECIFIC:r+="Context-Specific:";break;case V.Class.PRIVATE:r+="Private:";break}if(e.tagClass===V.Class.UNIVERSAL)switch(r+=e.type,e.type){case V.Type.NONE:r+=" (None)";break;case V.Type.BOOLEAN:r+=" (Boolean)";break;case V.Type.INTEGER:r+=" (Integer)";break;case V.Type.BITSTRING:r+=" (Bit string)";break;case V.Type.OCTETSTRING:r+=" (Octet string)";break;case V.Type.NULL:r+=" (Null)";break;case V.Type.OID:r+=" (Object Identifier)";break;case V.Type.ODESC:r+=" (Object Descriptor)";break;case V.Type.EXTERNAL:r+=" (External or Instance of)";break;case V.Type.REAL:r+=" (Real)";break;case V.Type.ENUMERATED:r+=" (Enumerated)";break;case V.Type.EMBEDDED:r+=" (Embedded PDV)";break;case V.Type.UTF8:r+=" (UTF8)";break;case V.Type.ROID:r+=" (Relative Object Identifier)";break;case V.Type.SEQUENCE:r+=" (Sequence)";break;case V.Type.SET:r+=" (Set)";break;case V.Type.PRINTABLESTRING:r+=" (Printable String)";break;case V.Type.IA5String:r+=" (IA5String (ASCII))";break;case V.Type.UTCTIME:r+=" (UTC time)";break;case V.Type.GENERALIZEDTIME:r+=" (Generalized time)";break;case V.Type.BMPSTRING:r+=" (BMP String)";break}else r+=e.type;if(r+=`
`,r+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,a="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(s+=1,a+=V.prettyPrint(e.value[o],t+1,n),o+1<e.value.length&&(a+=","));r+=i+"Sub values: "+s+a}else{if(r+=i+"Value: ",e.type===V.Type.OID){var l=V.derToOid(e.value);r+=l,Je.pki&&Je.pki.oids&&l in Je.pki.oids&&(r+=" ("+Je.pki.oids[l]+") ")}if(e.type===V.Type.INTEGER)try{r+=V.derToInteger(e.value)}catch{r+="0x"+Je.util.bytesToHex(e.value)}else if(e.type===V.Type.BITSTRING){if(e.value.length>1?r+="0x"+Je.util.bytesToHex(e.value.slice(1)):r+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?r+=" (1 unused bit shown)":u>1&&(r+=" ("+u+" unused bits shown)")}}else if(e.type===V.Type.OCTETSTRING)fb.test(e.value)||(r+="("+e.value+") "),r+="0x"+Je.util.bytesToHex(e.value);else if(e.type===V.Type.UTF8)try{r+=Je.util.decodeUtf8(e.value)}catch(c){if(c.message==="URI malformed")r+="0x"+Je.util.bytesToHex(e.value)+" (malformed UTF8)";else throw c}else e.type===V.Type.PRINTABLESTRING||e.type===V.Type.IA5String?r+=e.value:fb.test(e.value)?r+="0x"+Je.util.bytesToHex(e.value):e.value.length===0?r+="[null]":r+=e.value}return r}});var sr=ae(($j,pb)=>{"use strict";var pc=ge();pb.exports=pc.md=pc.md||{};pc.md.algorithms=pc.md.algorithms||{}});var ls=ae((Hj,gb)=>{"use strict";var Vr=ge();sr();Te();var D2=gb.exports=Vr.hmac=Vr.hmac||{};D2.create=function(){var e=null,t=null,n=null,r=null,i={};return i.start=function(o,s){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Vr.md.algorithms)t=Vr.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(s===null)s=e;else{if(typeof s=="string")s=Vr.util.createBuffer(s);else if(Vr.util.isArray(s)){var a=s;s=Vr.util.createBuffer();for(var l=0;l<a.length;++l)s.putByte(a[l])}var u=s.length();u>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),n=Vr.util.createBuffer(),r=Vr.util.createBuffer(),u=s.length();for(var l=0;l<u;++l){var a=s.at(l);n.putByte(54^a),r.putByte(92^a)}if(u<t.blockLength)for(var a=t.blockLength-u,l=0;l<a;++l)n.putByte(54),r.putByte(92);e=s,n=n.bytes(),r=r.bytes()}t.start(),t.update(n)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(r),t.update(o),t.digest()},i.digest=i.getMac,i}});var mc=ae((qj,Cb)=>{"use strict";var ar=ge();sr();Te();var vb=Cb.exports=ar.md5=ar.md5||{};ar.md.md5=ar.md.algorithms.md5=vb;vb.create=function(){yb||T2();var e=null,t=ar.util.createBuffer(),n=new Array(16),r={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return r.start=function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,o=0;o<i;++o)r.fullMessageLength.push(0);return t=ar.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},r},r.start(),r.update=function(i,o){o==="utf8"&&(i=ar.util.encodeUtf8(i));var s=i.length;r.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=r.fullMessageLength.length-1;a>=0;--a)r.fullMessageLength[a]+=s[1],s[1]=s[0]+(r.fullMessageLength[a]/4294967296>>>0),r.fullMessageLength[a]=r.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),mb(e,n,t),(t.read>2048||t.length()===0)&&t.compact(),r},r.digest=function(){var i=ar.util.createBuffer();i.putBytes(t.bytes());var o=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,s=o&r.blockLength-1;i.putBytes(lg.substr(0,r.blockLength-s));for(var a,l=0,u=r.fullMessageLength.length-1;u>=0;--u)a=r.fullMessageLength[u]*8+l,l=a/4294967296>>>0,i.putInt32Le(a>>>0);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};mb(c,n,i);var d=ar.util.createBuffer();return d.putInt32Le(c.h0),d.putInt32Le(c.h1),d.putInt32Le(c.h2),d.putInt32Le(c.h3),d},r};var lg=null,gc=null,Oa=null,us=null,yb=!1;function T2(){lg="\x80",lg+=ar.util.fillString("\0",64),gc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Oa=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],us=new Array(64);for(var e=0;e<64;++e)us[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);yb=!0}function mb(e,t,n){for(var r,i,o,s,a,l,u,c,d=n.length();d>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,c=0;c<16;++c)t[c]=n.getInt32Le(),l=a^o&(s^a),r=i+l+us[c]+t[c],u=Oa[c],i=a,a=s,s=o,o+=r<<u|r>>>32-u;for(;c<32;++c)l=s^a&(o^s),r=i+l+us[c]+t[gc[c]],u=Oa[c],i=a,a=s,s=o,o+=r<<u|r>>>32-u;for(;c<48;++c)l=o^s^a,r=i+l+us[c]+t[gc[c]],u=Oa[c],i=a,a=s,s=o,o+=r<<u|r>>>32-u;for(;c<64;++c)l=s^(o|~a),r=i+l+us[c]+t[gc[c]],u=Oa[c],i=a,a=s,s=o,o+=r<<u|r>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,d-=64}}});var no=ae((zj,bb)=>{"use strict";var yc=ge();Te();var Eb=bb.exports=yc.pem=yc.pem||{};Eb.encode=function(e,t){t=t||{};var n="-----BEGIN "+e.type+`-----\r
`,r;if(e.procType&&(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},n+=vc(r)),e.contentDomain&&(r={name:"Content-Domain",values:[e.contentDomain]},n+=vc(r)),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),n+=vc(r)),e.headers)for(var i=0;i<e.headers.length;++i)n+=vc(e.headers[i]);return e.procType&&(n+=`\r
`),n+=yc.util.encode64(e.body,t.maxline||64)+`\r
`,n+="-----END "+e.type+`-----\r
`,n};Eb.decode=function(e){for(var t=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,r=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=n.exec(e),!!o;){var s=o[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var a={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:yc.util.decode64(o[3])};if(t.push(a),!!o[2]){for(var l=o[2].split(i),u=0;o&&u<l.length;){for(var c=l[u].replace(/\s+$/,""),d=u+1;d<l.length;++d){var f=l[d];if(!/\s/.test(f[0]))break;c+=f,u=d}if(o=c.match(r),o){for(var v={name:o[1],values:[]},m=o[2].split(","),y=0;y<m.length;++y)v.values.push(A2(m[y]));if(a.procType)if(!a.contentDomain&&v.name==="Content-Domain")a.contentDomain=m[0]||"";else if(!a.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:m[0],parameters:m[1]||null}}else a.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:m[0],type:m[1]}}}++u}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function vc(e){for(var t=e.name+": ",n=[],r=function(l,u){return" "+u},i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,r));t+=n.join(",")+`\r
`;for(var o=0,s=-1,i=0;i<t.length;++i,++o)if(o>65&&s!==-1){var a=t[s];a===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+a+t.substr(s+1),o=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function A2(e){return e.replace(/^\s+/,"")}});var Pa=ae((Gj,Ib)=>{"use strict";var nt=ge();uc();rg();Te();Ib.exports=nt.des=nt.des||{};nt.des.startEncrypting=function(e,t,n,r){var i=Cc({key:e,output:n,decrypt:!1,mode:r||(t===null?"ECB":"CBC")});return i.start(t),i};nt.des.createEncryptionCipher=function(e,t){return Cc({key:e,output:null,decrypt:!1,mode:t})};nt.des.startDecrypting=function(e,t,n,r){var i=Cc({key:e,output:n,decrypt:!0,mode:r||(t===null?"ECB":"CBC")});return i.start(t),i};nt.des.createDecryptionCipher=function(e,t){return Cc({key:e,output:null,decrypt:!0,mode:t})};nt.des.Algorithm=function(e,t){var n=this;n.name=e,n.mode=new t({blockSize:8,cipher:{encrypt:function(r,i){return xb(n._keys,r,i,!1)},decrypt:function(r,i){return xb(n._keys,r,i,!0)}}}),n._init=!1};nt.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=nt.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=B2(t),this._init=!0}};lr("DES-ECB",nt.cipher.modes.ecb);lr("DES-CBC",nt.cipher.modes.cbc);lr("DES-CFB",nt.cipher.modes.cfb);lr("DES-OFB",nt.cipher.modes.ofb);lr("DES-CTR",nt.cipher.modes.ctr);lr("3DES-ECB",nt.cipher.modes.ecb);lr("3DES-CBC",nt.cipher.modes.cbc);lr("3DES-CFB",nt.cipher.modes.cfb);lr("3DES-OFB",nt.cipher.modes.ofb);lr("3DES-CTR",nt.cipher.modes.ctr);function lr(e,t){var n=function(){return new nt.des.Algorithm(e,t)};nt.cipher.registerAlgorithm(e,n)}var M2=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],N2=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],R2=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],k2=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],O2=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],P2=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],L2=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],F2=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function B2(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],r=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,E=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,_,k=0;k<y;k++){var M=e.getInt32(),N=e.getInt32();_=(M>>>4^N)&252645135,N^=_,M^=_<<4,_=(N>>>-16^M)&65535,M^=_,N^=_<<-16,_=(M>>>2^N)&858993459,N^=_,M^=_<<2,_=(N>>>-16^M)&65535,M^=_,N^=_<<-16,_=(M>>>1^N)&1431655765,N^=_,M^=_<<1,_=(N>>>8^M)&16711935,M^=_,N^=_<<8,_=(M>>>1^N)&1431655765,N^=_,M^=_<<1,_=M<<8|N>>>20&240,M=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=_;for(var ee=0;ee<x.length;++ee){x[ee]?(M=M<<2|M>>>26,N=N<<2|N>>>26):(M=M<<1|M>>>27,N=N<<1|N>>>27),M&=-15,N&=-15;var he=t[M>>>28]|n[M>>>24&15]|r[M>>>20&15]|i[M>>>16&15]|o[M>>>12&15]|s[M>>>8&15]|a[M>>>4&15],ke=l[N>>>28]|u[N>>>24&15]|c[N>>>20&15]|d[N>>>16&15]|f[N>>>12&15]|v[N>>>8&15]|m[N>>>4&15];_=(ke>>>16^he)&65535,E[S++]=he^_,E[S++]=ke^_<<16}}return E}function xb(e,t,n,r){var i=e.length===32?3:9,o;i===3?o=r?[30,-2,-2]:[0,32,2]:o=r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,a=t[0],l=t[1];s=(a>>>4^l)&252645135,l^=s,a^=s<<4,s=(a>>>16^l)&65535,l^=s,a^=s<<16,s=(l>>>2^a)&858993459,a^=s,l^=s<<2,s=(l>>>8^a)&16711935,a^=s,l^=s<<8,s=(a>>>1^l)&1431655765,l^=s,a^=s<<1,a=a<<1|a>>>31,l=l<<1|l>>>31;for(var u=0;u<i;u+=3){for(var c=o[u+1],d=o[u+2],f=o[u];f!=c;f+=d){var v=l^e[f],m=(l>>>4|l<<28)^e[f+1];s=a,a=l,l=s^(N2[v>>>24&63]|k2[v>>>16&63]|P2[v>>>8&63]|F2[v&63]|M2[m>>>24&63]|R2[m>>>16&63]|O2[m>>>8&63]|L2[m&63])}s=a,a=l,l=s}a=a>>>1|a<<31,l=l>>>1|l<<31,s=(a>>>1^l)&1431655765,l^=s,a^=s<<1,s=(l>>>8^a)&16711935,a^=s,l^=s<<8,s=(l>>>2^a)&858993459,a^=s,l^=s<<2,s=(a>>>16^l)&65535,l^=s,a^=s<<16,s=(a>>>4^l)&252645135,l^=s,a^=s<<4,n[0]=a,n[1]=l}function Cc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),n="DES-"+t,r;e.decrypt?r=nt.cipher.createDecipher(n,e.key):r=nt.cipher.createCipher(n,e.key);var i=r.start;return r.start=function(o,s){var a=null;s instanceof nt.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(r,s)},r}});var Ec=ae(()=>{"use strict"});var bc=ae((Qj,wb)=>{"use strict";var Xt=ge();ls();sr();Te();var V2=Xt.pkcs5=Xt.pkcs5||{},Ur;Xt.util.isNodejs&&!Xt.options.usePureJavaScript&&(Ur=Ec());wb.exports=Xt.pbkdf2=V2.pbkdf2=function(e,t,n,r,i,o){if(typeof i=="function"&&(o=i,i=null),Xt.util.isNodejs&&!Xt.options.usePureJavaScript&&Ur.pbkdf2&&(i===null||typeof i!="object")&&(Ur.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?Ur.pbkdf2Sync.length===4?Ur.pbkdf2(e,t,n,r,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):Ur.pbkdf2(e,t,n,r,i,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):Ur.pbkdf2Sync.length===4?Ur.pbkdf2Sync(e,t,n,r).toString("binary"):Ur.pbkdf2Sync(e,t,n,r,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Xt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Xt.md[i].create()}var s=i.digestLength;if(r>4294967295*s){var a=new Error("Derived key is too long.");if(o)return o(a);throw a}var l=Math.ceil(r/s),u=r-(l-1)*s,c=Xt.hmac.create();c.start(i,e);var d="",f,v,m;if(!o){for(var y=1;y<=l;++y){c.start(null,null),c.update(t),c.update(Xt.util.int32ToBytes(y)),f=m=c.digest().getBytes();for(var E=2;E<=n;++E)c.start(null,null),c.update(m),v=c.digest().getBytes(),f=Xt.util.xorBytes(f,v,s),m=v;d+=y<l?f:f.substr(0,u)}return d}var y=1,E;function x(){if(y>l)return o(null,d);c.start(null,null),c.update(t),c.update(Xt.util.int32ToBytes(y)),f=m=c.digest().getBytes(),E=2,S()}function S(){if(E<=n)return c.start(null,null),c.update(m),v=c.digest().getBytes(),f=Xt.util.xorBytes(f,v,s),m=v,++E,Xt.util.setImmediate(S);d+=y<l?f:f.substr(0,u),++y,x()}x()}});var cg=ae((Yj,Ab)=>{"use strict";var ur=ge();sr();Te();var Sb=Ab.exports=ur.sha256=ur.sha256||{};ur.md.sha256=ur.md.algorithms.sha256=Sb;Sb.create=function(){Db||U2();var e=null,t=ur.util.createBuffer(),n=new Array(64),r={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return r.start=function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,o=0;o<i;++o)r.fullMessageLength.push(0);return t=ur.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},r},r.start(),r.update=function(i,o){o==="utf8"&&(i=ur.util.encodeUtf8(i));var s=i.length;r.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=r.fullMessageLength.length-1;a>=0;--a)r.fullMessageLength[a]+=s[1],s[1]=s[0]+(r.fullMessageLength[a]/4294967296>>>0),r.fullMessageLength[a]=r.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),_b(e,n,t),(t.read>2048||t.length()===0)&&t.compact(),r},r.digest=function(){var i=ur.util.createBuffer();i.putBytes(t.bytes());var o=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,s=o&r.blockLength-1;i.putBytes(ug.substr(0,r.blockLength-s));for(var a,l,u=r.fullMessageLength[0]*8,c=0;c<r.fullMessageLength.length-1;++c)a=r.fullMessageLength[c+1]*8,l=a/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=a>>>0;i.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};_b(d,n,i);var f=ur.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f.putInt32(d.h5),f.putInt32(d.h6),f.putInt32(d.h7),f},r};var ug=null,Db=!1,Tb=null;function U2(){ug="\x80",ug+=ur.util.fillString("\0",64),Tb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Db=!0}function _b(e,t,n){for(var r,i,o,s,a,l,u,c,d,f,v,m,y,E,x,S=n.length();S>=64;){for(u=0;u<16;++u)t[u]=n.getInt32();for(;u<64;++u)r=t[u-2],r=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=r+t[u-7]+i+t[u-16]|0;for(c=e.h0,d=e.h1,f=e.h2,v=e.h3,m=e.h4,y=e.h5,E=e.h6,x=e.h7,u=0;u<64;++u)s=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),a=E^m&(y^E),o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),l=c&d|f&(c^d),r=x+s+a+Tb[u]+t[u],i=o+l,x=E,E=y,y=m,m=v+r>>>0,v=f,f=d,d=c,c=r+i>>>0;e.h0=e.h0+c|0,e.h1=e.h1+d|0,e.h2=e.h2+f|0,e.h3=e.h3+v|0,e.h4=e.h4+m|0,e.h5=e.h5+y|0,e.h6=e.h6+E|0,e.h7=e.h7+x|0,S-=64}}});var dg=ae((Zj,Mb)=>{"use strict";var cr=ge();Te();var xc=null;cr.util.isNodejs&&!cr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(xc=Ec());var j2=Mb.exports=cr.prng=cr.prng||{};j2.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,r=new Array(32),i=0;i<32;++i)r[i]=n.create();t.pools=r,t.pool=0,t.generate=function(u,c){if(!c)return t.generateSync(u);var d=t.plugin.cipher,f=t.plugin.increment,v=t.plugin.formatKey,m=t.plugin.formatSeed,y=cr.util.createBuffer();t.key=null,E();function E(x){if(x)return c(x);if(y.length()>=u)return c(null,y.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return cr.util.nextTick(function(){o(E)});var S=d(t.key,t.seed);t.generated+=S.length,y.putBytes(S),t.key=v(d(t.key,f(t.seed))),t.seed=m(d(t.key,t.seed)),cr.util.setImmediate(E)}},t.generateSync=function(u){var c=t.plugin.cipher,d=t.plugin.increment,f=t.plugin.formatKey,v=t.plugin.formatSeed;t.key=null;for(var m=cr.util.createBuffer();m.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&s();var y=c(t.key,t.seed);t.generated+=y.length,m.putBytes(y),t.key=f(c(t.key,d(t.seed))),t.seed=v(c(t.key,t.seed))}return m.getBytes(u)};function o(u){if(t.pools[0].messageLength>=32)return a(),u();var c=32-t.pools[0].messageLength<<5;t.seedFile(c,function(d,f){if(d)return u(d);t.collect(f),a(),u()})}function s(){if(t.pools[0].messageLength>=32)return a();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),a()}function a(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var c=1,d=0;d<32;++d)t.reseeds%c===0&&(u.update(t.pools[d].digest().getBytes()),t.pools[d].start()),c=c<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var f=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(f),t.generated=0}function l(u){var c=null,d=cr.util.globalScope,f=d.crypto||d.msCrypto;f&&f.getRandomValues&&(c=function(M){return f.getRandomValues(M)});var v=cr.util.createBuffer();if(c)for(;v.length()<u;){var m=Math.max(1,Math.min(u-v.length(),65536)/4),y=new Uint32Array(Math.floor(m));try{c(y);for(var E=0;E<y.length;++E)v.putInt32(y[E])}catch(M){if(!(typeof QuotaExceededError<"u"&&M instanceof QuotaExceededError))throw M}}if(v.length()<u)for(var x,S,_,k=Math.floor(Math.random()*65536);v.length()<u;){S=16807*(k&65535),x=16807*(k>>16),S+=(x&32767)<<16,S+=x>>15,S=(S&2147483647)+(S>>31),k=S&4294967295;for(var E=0;E<3;++E)_=k>>>(E<<3),_^=Math.floor(Math.random()*256),v.putByte(_&255)}return v.getBytes(u)}return xc?(t.seedFile=function(u,c){xc.randomBytes(u,function(d,f){if(d)return c(d);c(null,f.toString())})},t.seedFileSync=function(u){return xc.randomBytes(u).toString()}):(t.seedFile=function(u,c){try{c(null,l(u))}catch(d){c(d)}},t.seedFileSync=l),t.collect=function(u){for(var c=u.length,d=0;d<c;++d)t.pools[t.pool].update(u.substr(d,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,c){for(var d="",f=0;f<c;f+=8)d+=String.fromCharCode(u>>f&255);t.collect(d)},t.registerWorker=function(u){if(u===self)t.seedFile=function(d,f){function v(m){var y=m.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",v),f(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:d}}})};else{var c=function(d){var f=d.data;f.forge&&f.forge.prng&&t.seedFile(f.forge.prng.needed,function(v,m){u.postMessage({forge:{prng:{err:v,bytes:m}}})})};u.addEventListener("message",c)}},t}});var Sn=ae((Xj,fg)=>{"use strict";var Et=ge();di();cg();dg();Te();(function(){if(Et.random&&Et.random.getBytes){fg.exports=Et.random;return}(function(e){var t={},n=new Array(4),r=Et.util.createBuffer();t.formatKey=function(d){var f=Et.util.createBuffer(d);return d=new Array(4),d[0]=f.getInt32(),d[1]=f.getInt32(),d[2]=f.getInt32(),d[3]=f.getInt32(),Et.aes._expandKey(d,!1)},t.formatSeed=function(d){var f=Et.util.createBuffer(d);return d=new Array(4),d[0]=f.getInt32(),d[1]=f.getInt32(),d[2]=f.getInt32(),d[3]=f.getInt32(),d},t.cipher=function(d,f){return Et.aes._updateBlock(d,f,n,!1),r.putInt32(n[0]),r.putInt32(n[1]),r.putInt32(n[2]),r.putInt32(n[3]),r.getBytes()},t.increment=function(d){return++d[3],d},t.md=Et.md.sha256;function i(){var d=Et.prng.create(t);return d.getBytes=function(f,v){return d.generate(f,v)},d.getBytesSync=function(f){return d.generate(f)},d}var o=i(),s=null,a=Et.util.globalScope,l=a.crypto||a.msCrypto;if(l&&l.getRandomValues&&(s=function(d){return l.getRandomValues(d)}),Et.options.usePureJavaScript||!Et.util.isNodejs&&!s){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch{}o.collect(u),u=null}e&&(e().mousemove(function(d){o.collectInt(d.clientX,16),o.collectInt(d.clientY,16)}),e().keypress(function(d){o.collectInt(d.charCode,8)}))}if(!Et.random)Et.random=o;else for(var c in o)Et.random[c]=o[c];Et.random.createInstance=i,fg.exports=Et.random})(typeof jQuery<"u"?jQuery:null)})()});var pg=ae((Jj,kb)=>{"use strict";var ln=ge();Te();var hg=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Nb=[1,2,3,5],$2=function(e,t){return e<<t&65535|(e&65535)>>16-t},H2=function(e,t){return(e&65535)>>t|e<<16-t&65535};kb.exports=ln.rc2=ln.rc2||{};ln.rc2.expandKey=function(e,t){typeof e=="string"&&(e=ln.util.createBuffer(e)),t=t||128;var n=e,r=e.length(),i=t,o=Math.ceil(i/8),s=255>>(i&7),a;for(a=r;a<128;a++)n.putByte(hg[n.at(a-1)+n.at(a-r)&255]);for(n.setAt(128-o,hg[n.at(128-o)&s]),a=127-o;a>=0;a--)n.setAt(a,hg[n.at(a+1)^n.at(a+o)]);return n};var Rb=function(e,t,n){var r=!1,i=null,o=null,s=null,a,l,u,c,d=[];for(e=ln.rc2.expandKey(e,t),u=0;u<64;u++)d.push(e.getInt16Le());n?(a=function(m){for(u=0;u<4;u++)m[u]+=d[c]+(m[(u+3)%4]&m[(u+2)%4])+(~m[(u+3)%4]&m[(u+1)%4]),m[u]=$2(m[u],Nb[u]),c++},l=function(m){for(u=0;u<4;u++)m[u]+=d[m[(u+3)%4]&63]}):(a=function(m){for(u=3;u>=0;u--)m[u]=H2(m[u],Nb[u]),m[u]-=d[c]+(m[(u+3)%4]&m[(u+2)%4])+(~m[(u+3)%4]&m[(u+1)%4]),c--},l=function(m){for(u=3;u>=0;u--)m[u]-=d[m[(u+3)%4]&63]});var f=function(m){var y=[];for(u=0;u<4;u++){var E=i.getInt16Le();s!==null&&(n?E^=s.getInt16Le():s.putInt16Le(E)),y.push(E&65535)}c=n?0:63;for(var x=0;x<m.length;x++)for(var S=0;S<m[x][0];S++)m[x][1](y);for(u=0;u<4;u++)s!==null&&(n?s.putInt16Le(y[u]):y[u]^=s.getInt16Le()),o.putInt16Le(y[u])},v=null;return v={start:function(m,y){m&&typeof m=="string"&&(m=ln.util.createBuffer(m)),r=!1,i=ln.util.createBuffer(),o=y||new ln.util.createBuffer,s=m,v.output=o},update:function(m){for(r||i.putBuffer(m);i.length()>=8;)f([[5,a],[1,l],[6,a],[1,l],[5,a]])},finish:function(m){var y=!0;if(n)if(m)y=m(8,i,!n);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(y&&(r=!0,v.update()),!n&&(y=i.length()===0,y))if(m)y=m(8,o,!n);else{var x=o.length(),S=o.at(x-1);S>x?y=!1:o.truncate(S)}return y}},v};ln.rc2.startEncrypting=function(e,t,n){var r=ln.rc2.createEncryptionCipher(e,128);return r.start(t,n),r};ln.rc2.createEncryptionCipher=function(e,t){return Rb(e,t,!0)};ln.rc2.startDecrypting=function(e,t,n){var r=ln.rc2.createDecryptionCipher(e,128);return r.start(t,n),r};ln.rc2.createDecryptionCipher=function(e,t){return Rb(e,t,!1)}});var Fa=ae((e6,jb)=>{"use strict";var gg=ge();jb.exports=gg.jsbn=gg.jsbn||{};var jr,q2=0xdeadbeefcafe,Ob=(q2&16777215)==15715070;function T(e,t,n){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,n):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}gg.jsbn.BigInteger=T;function Ae(){return new T(null)}function z2(e,t,n,r,i,o){for(;--o>=0;){var s=t*this.data[e++]+n.data[r]+i;i=Math.floor(s/67108864),n.data[r++]=s&67108863}return i}function G2(e,t,n,r,i,o){for(var s=t&32767,a=t>>15;--o>=0;){var l=this.data[e]&32767,u=this.data[e++]>>15,c=a*l+u*s;l=s*l+((c&32767)<<15)+n.data[r]+(i&1073741823),i=(l>>>30)+(c>>>15)+a*u+(i>>>30),n.data[r++]=l&1073741823}return i}function Pb(e,t,n,r,i,o){for(var s=t&16383,a=t>>14;--o>=0;){var l=this.data[e]&16383,u=this.data[e++]>>14,c=a*l+u*s;l=s*l+((c&16383)<<14)+n.data[r]+i,i=(l>>28)+(c>>14)+a*u,n.data[r++]=l&268435455}return i}typeof navigator>"u"?(T.prototype.am=Pb,jr=28):Ob&&navigator.appName=="Microsoft Internet Explorer"?(T.prototype.am=G2,jr=30):Ob&&navigator.appName!="Netscape"?(T.prototype.am=z2,jr=26):(T.prototype.am=Pb,jr=28);T.prototype.DB=jr;T.prototype.DM=(1<<jr)-1;T.prototype.DV=1<<jr;var mg=52;T.prototype.FV=Math.pow(2,mg);T.prototype.F1=mg-jr;T.prototype.F2=2*jr-mg;var K2="0123456789abcdefghijklmnopqrstuvwxyz",Ic=new Array,cs,Dn;cs=48;for(Dn=0;Dn<=9;++Dn)Ic[cs++]=Dn;cs=97;for(Dn=10;Dn<36;++Dn)Ic[cs++]=Dn;cs=65;for(Dn=10;Dn<36;++Dn)Ic[cs++]=Dn;function Lb(e){return K2.charAt(e)}function Fb(e,t){var n=Ic[e.charCodeAt(t)];return n??-1}function W2(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function Q2(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function hi(e){var t=Ae();return t.fromInt(e),t}function Y2(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==256)n=8;else if(t==2)n=1;else if(t==32)n=5;else if(t==4)n=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=n==8?e[r]&255:Fb(e,r);if(s<0){e.charAt(r)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=s:o+n>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB)}n==8&&e[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&T.ZERO.subTo(this,this)}function Z2(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function X2(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var n=(1<<t)-1,r,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this.data[s]>>a)>0&&(i=!0,o=Lb(r));s>=0;)a<t?(r=(this.data[s]&(1<<a)-1)<<t-a,r|=this.data[--s]>>(a+=this.DB-t)):(r=this.data[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=Lb(r));return i?o:"0"}function J2(){var e=Ae();return T.ZERO.subTo(this,e),e}function ek(){return this.s<0?this.negate():this}function tk(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t;if(t=n-e.t,t!=0)return this.s<0?-t:t;for(;--n>=0;)if((t=this.data[n]-e.data[n])!=0)return t;return 0}function wc(e){var t=1,n;return(n=e>>>16)!=0&&(e=n,t+=16),(n=e>>8)!=0&&(e=n,t+=8),(n=e>>4)!=0&&(e=n,t+=4),(n=e>>2)!=0&&(e=n,t+=2),(n=e>>1)!=0&&(e=n,t+=1),t}function nk(){return this.t<=0?0:this.DB*(this.t-1)+wc(this.data[this.t-1]^this.s&this.DM)}function rk(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e,t.s=this.s}function ik(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0),t.s=this.s}function ok(e,t){var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a)t.data[a+o+1]=this.data[a]>>r|s,s=(this.data[a]&i)<<n;for(a=o-1;a>=0;--a)t.data[a]=0;t.data[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function sk(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var s=n+1;s<this.t;++s)t.data[s-n-1]|=(this.data[s]&o)<<i,t.data[s-n]=this.data[s]>>r;r>0&&(t.data[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function ak(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]-e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r),t.t=n,t.clamp()}function lk(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t.data[i]=0;for(i=0;i<r.t;++i)t.data[i+n.t]=n.am(0,r.data[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&T.ZERO.subTo(t,t)}function uk(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);(e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e.data[n+t.t]-=t.DV,e.data[n+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1)),e.s=0,e.clamp()}function ck(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t){t?.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=Ae());var o=Ae(),s=this.s,a=e.s,l=this.DB-wc(r.data[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,c=o.data[u-1];if(c!=0){var d=c*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),f=this.FV/d,v=(1<<this.F1)/d,m=1<<this.F2,y=n.t,E=y-u,x=t??Ae();for(o.dlShiftTo(E,x),n.compareTo(x)>=0&&(n.data[n.t++]=1,n.subTo(x,n)),T.ONE.dlShiftTo(u,x),x.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--E>=0;){var S=n.data[--y]==c?this.DM:Math.floor(n.data[y]*f+(n.data[y-1]+m)*v);if((n.data[y]+=o.am(0,S,n,E,0,u))<S)for(o.dlShiftTo(E,x),n.subTo(x,n);n.data[y]<--S;)n.subTo(x,n)}t!=null&&(n.drShiftTo(u,t),s!=a&&T.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),s<0&&T.ZERO.subTo(n,n)}}}function dk(e){var t=Ae();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(T.ZERO)>0&&e.subTo(t,t),t}function ro(e){this.m=e}function fk(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function hk(e){return e}function pk(e){e.divRemTo(this.m,null,e)}function gk(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function mk(e,t){e.squareTo(t),this.reduce(t)}ro.prototype.convert=fk;ro.prototype.revert=hk;ro.prototype.reduce=pk;ro.prototype.mulTo=gk;ro.prototype.sqrTo=mk;function vk(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function io(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function yk(e){var t=Ae();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(T.ZERO)>0&&this.m.subTo(t,t),t}function Ck(e){var t=Ae();return e.copyTo(t),this.reduce(t),t}function Ek(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=e.data[t]&32767,r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function bk(e,t){e.squareTo(t),this.reduce(t)}function xk(e,t,n){e.multiplyTo(t,n),this.reduce(n)}io.prototype.convert=yk;io.prototype.revert=Ck;io.prototype.reduce=Ek;io.prototype.mulTo=xk;io.prototype.sqrTo=bk;function Ik(){return(this.t>0?this.data[0]&1:this.s)==0}function wk(e,t){if(e>4294967295||e<1)return T.ONE;var n=Ae(),r=Ae(),i=t.convert(this),o=wc(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)}function _k(e,t){var n;return e<256||t.isEven()?n=new ro(t):n=new io(t),this.exp(e,n)}T.prototype.copyTo=W2;T.prototype.fromInt=Q2;T.prototype.fromString=Y2;T.prototype.clamp=Z2;T.prototype.dlShiftTo=rk;T.prototype.drShiftTo=ik;T.prototype.lShiftTo=ok;T.prototype.rShiftTo=sk;T.prototype.subTo=ak;T.prototype.multiplyTo=lk;T.prototype.squareTo=uk;T.prototype.divRemTo=ck;T.prototype.invDigit=vk;T.prototype.isEven=Ik;T.prototype.exp=wk;T.prototype.toString=X2;T.prototype.negate=J2;T.prototype.abs=ek;T.prototype.compareTo=tk;T.prototype.bitLength=nk;T.prototype.mod=dk;T.prototype.modPowInt=_k;T.ZERO=hi(0);T.ONE=hi(1);function Sk(){var e=Ae();return this.copyTo(e),e}function Dk(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Tk(){return this.t==0?this.s:this.data[0]<<24>>24}function Ak(){return this.t==0?this.s:this.data[0]<<16>>16}function Mk(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Nk(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Rk(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=hi(n),i=Ae(),o=Ae(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s}function kk(e,t){this.fromInt(0),t==null&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,a=0;a<e.length;++a){var l=Fb(e,a);if(l<0){e.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&T.ZERO.subTo(this,this)}function Ok(e,t,n){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(T.ONE.shiftLeft(e-1),vg,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(T.ONE.shiftLeft(e-1),this);else{var r=new Array,i=e&7;r.length=(e>>3)+1,t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function Pk(){var e=this.t,t=new Array;t[0]=this.s;var n=this.DB-e*this.DB%8,r,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),r&128&&(r|=-256),i==0&&(this.s&128)!=(r&128)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t}function Lk(e){return this.compareTo(e)==0}function Fk(e){return this.compareTo(e)<0?this:e}function Bk(e){return this.compareTo(e)>0?this:e}function Vk(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n.data[r]=t(this.data[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n.data[r]=t(i,e.data[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function Uk(e,t){return e&t}function jk(e){var t=Ae();return this.bitwiseTo(e,Uk,t),t}function vg(e,t){return e|t}function $k(e){var t=Ae();return this.bitwiseTo(e,vg,t),t}function Bb(e,t){return e^t}function Hk(e){var t=Ae();return this.bitwiseTo(e,Bb,t),t}function Vb(e,t){return e&~t}function qk(e){var t=Ae();return this.bitwiseTo(e,Vb,t),t}function zk(){for(var e=Ae(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function Gk(e){var t=Ae();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Kk(e){var t=Ae();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Wk(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function Qk(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Wk(this.data[e]);return this.s<0?this.t*this.DB:-1}function Yk(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function Zk(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=Yk(this.data[n]^t);return e}function Xk(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function Jk(e,t){var n=T.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function eO(e){return this.changeBit(e,vg)}function tO(e){return this.changeBit(e,Vb)}function nO(e){return this.changeBit(e,Bb)}function rO(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]+e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r),t.t=n,t.clamp()}function iO(e){var t=Ae();return this.addTo(e,t),t}function oO(e){var t=Ae();return this.subTo(e,t),t}function sO(e){var t=Ae();return this.multiplyTo(e,t),t}function aO(e){var t=Ae();return this.divRemTo(e,t,null),t}function lO(e){var t=Ae();return this.divRemTo(e,null,t),t}function uO(e){var t=Ae(),n=Ae();return this.divRemTo(e,t,n),new Array(t,n)}function cO(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function dO(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function La(){}function Ub(e){return e}function fO(e,t,n){e.multiplyTo(t,n)}function hO(e,t){e.squareTo(t)}La.prototype.convert=Ub;La.prototype.revert=Ub;La.prototype.mulTo=fO;La.prototype.sqrTo=hO;function pO(e){return this.exp(e,new La)}function gO(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n.data[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n.data[r+this.t]=this.am(0,e.data[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e.data[r],n,r,0,t-r);n.clamp()}function mO(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function ds(e){this.r2=Ae(),this.q3=Ae(),T.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function vO(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ae();return e.copyTo(t),this.reduce(t),t}function yO(e){return e}function CO(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function EO(e,t){e.squareTo(t),this.reduce(t)}function bO(e,t,n){e.multiplyTo(t,n),this.reduce(n)}ds.prototype.convert=vO;ds.prototype.revert=yO;ds.prototype.reduce=CO;ds.prototype.mulTo=bO;ds.prototype.sqrTo=EO;function xO(e,t){var n=e.bitLength(),r,i=hi(1),o;if(n<=0)return i;n<18?r=1:n<48?r=3:n<144?r=4:n<768?r=5:r=6,n<8?o=new ro(t):t.isEven()?o=new ds(t):o=new io(t);var s=new Array,a=3,l=r-1,u=(1<<r)-1;if(s[1]=o.convert(this),r>1){var c=Ae();for(o.sqrTo(s[1],c);a<=u;)s[a]=Ae(),o.mulTo(c,s[a-2],s[a]),a+=2}var d=e.t-1,f,v=!0,m=Ae(),y;for(n=wc(e.data[d])-1;d>=0;){for(n>=l?f=e.data[d]>>n-l&u:(f=(e.data[d]&(1<<n+1)-1)<<l-n,d>0&&(f|=e.data[d-1]>>this.DB+n-l)),a=r;!(f&1);)f>>=1,--a;if((n-=a)<0&&(n+=this.DB,--d),v)s[f].copyTo(i),v=!1;else{for(;a>1;)o.sqrTo(i,m),o.sqrTo(m,i),a-=2;a>0?o.sqrTo(i,m):(y=i,i=m,m=y),o.mulTo(m,s[f],i)}for(;d>=0&&!(e.data[d]&1<<n);)o.sqrTo(i,m),y=i,i=m,m=y,--n<0&&(n=this.DB-1,--d)}return o.revert(i)}function IO(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function wO(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(t==0)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n}function _O(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return T.ZERO;for(var n=e.clone(),r=this.clone(),i=hi(1),o=hi(0),s=hi(0),a=hi(1);n.signum()!=0;){for(;n.isEven();)n.rShiftTo(1,n),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}if(r.compareTo(T.ONE)!=0)return T.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var Gn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],SO=(1<<26)/Gn[Gn.length-1];function DO(e){var t,n=this.abs();if(n.t==1&&n.data[0]<=Gn[Gn.length-1]){for(t=0;t<Gn.length;++t)if(n.data[0]==Gn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Gn.length;){for(var r=Gn[t],i=t+1;i<Gn.length&&r<SO;)r*=Gn[i++];for(r=n.modInt(r);t<i;)if(r%Gn[t++]==0)return!1}return n.millerRabin(e)}function TO(e){var t=this.subtract(T.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var r=t.shiftRight(n),i=AO(),o,s=0;s<e;++s){do o=new T(this.bitLength(),i);while(o.compareTo(T.ONE)<=0||o.compareTo(t)>=0);var a=o.modPow(r,this);if(a.compareTo(T.ONE)!=0&&a.compareTo(t)!=0){for(var l=1;l++<n&&a.compareTo(t)!=0;)if(a=a.modPowInt(2,this),a.compareTo(T.ONE)==0)return!1;if(a.compareTo(t)!=0)return!1}}return!0}function AO(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}T.prototype.chunkSize=Mk;T.prototype.toRadix=Rk;T.prototype.fromRadix=kk;T.prototype.fromNumber=Ok;T.prototype.bitwiseTo=Vk;T.prototype.changeBit=Jk;T.prototype.addTo=rO;T.prototype.dMultiply=cO;T.prototype.dAddOffset=dO;T.prototype.multiplyLowerTo=gO;T.prototype.multiplyUpperTo=mO;T.prototype.modInt=wO;T.prototype.millerRabin=TO;T.prototype.clone=Sk;T.prototype.intValue=Dk;T.prototype.byteValue=Tk;T.prototype.shortValue=Ak;T.prototype.signum=Nk;T.prototype.toByteArray=Pk;T.prototype.equals=Lk;T.prototype.min=Fk;T.prototype.max=Bk;T.prototype.and=jk;T.prototype.or=$k;T.prototype.xor=Hk;T.prototype.andNot=qk;T.prototype.not=zk;T.prototype.shiftLeft=Gk;T.prototype.shiftRight=Kk;T.prototype.getLowestSetBit=Qk;T.prototype.bitCount=Zk;T.prototype.testBit=Xk;T.prototype.setBit=eO;T.prototype.clearBit=tO;T.prototype.flipBit=nO;T.prototype.add=iO;T.prototype.subtract=oO;T.prototype.multiply=sO;T.prototype.divide=aO;T.prototype.remainder=lO;T.prototype.divideAndRemainder=uO;T.prototype.modPow=xO;T.prototype.modInverse=_O;T.prototype.pow=pO;T.prototype.gcd=IO;T.prototype.isProbablePrime=DO});var fs=ae((t6,zb)=>{"use strict";var dr=ge();sr();Te();var Hb=zb.exports=dr.sha1=dr.sha1||{};dr.md.sha1=dr.md.algorithms.sha1=Hb;Hb.create=function(){qb||MO();var e=null,t=dr.util.createBuffer(),n=new Array(80),r={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return r.start=function(){r.messageLength=0,r.fullMessageLength=r.messageLength64=[];for(var i=r.messageLengthSize/4,o=0;o<i;++o)r.fullMessageLength.push(0);return t=dr.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},r},r.start(),r.update=function(i,o){o==="utf8"&&(i=dr.util.encodeUtf8(i));var s=i.length;r.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=r.fullMessageLength.length-1;a>=0;--a)r.fullMessageLength[a]+=s[1],s[1]=s[0]+(r.fullMessageLength[a]/4294967296>>>0),r.fullMessageLength[a]=r.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),$b(e,n,t),(t.read>2048||t.length()===0)&&t.compact(),r},r.digest=function(){var i=dr.util.createBuffer();i.putBytes(t.bytes());var o=r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize,s=o&r.blockLength-1;i.putBytes(yg.substr(0,r.blockLength-s));for(var a,l,u=r.fullMessageLength[0]*8,c=0;c<r.fullMessageLength.length-1;++c)a=r.fullMessageLength[c+1]*8,l=a/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=a>>>0;i.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};$b(d,n,i);var f=dr.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f},r};var yg=null,qb=!1;function MO(){yg="\x80",yg+=dr.util.fillString("\0",64),qb=!0}function $b(e,t,n){for(var r,i,o,s,a,l,u,c,d=n.length();d>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,l=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,u=a^o&(s^a),r=(i<<5|i>>>27)+u+l+1518500249+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<20;++c)r=t[c-3]^t[c-8]^t[c-14]^t[c-16],r=r<<1|r>>>31,t[c]=r,u=a^o&(s^a),r=(i<<5|i>>>27)+u+l+1518500249+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<32;++c)r=t[c-3]^t[c-8]^t[c-14]^t[c-16],r=r<<1|r>>>31,t[c]=r,u=o^s^a,r=(i<<5|i>>>27)+u+l+1859775393+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<40;++c)r=t[c-6]^t[c-16]^t[c-28]^t[c-32],r=r<<2|r>>>30,t[c]=r,u=o^s^a,r=(i<<5|i>>>27)+u+l+1859775393+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<60;++c)r=t[c-6]^t[c-16]^t[c-28]^t[c-32],r=r<<2|r>>>30,t[c]=r,u=o&s|a&(o^s),r=(i<<5|i>>>27)+u+l+2400959708+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<80;++c)r=t[c-6]^t[c-16]^t[c-28]^t[c-32],r=r<<2|r>>>30,t[c]=r,u=o^s^a,r=(i<<5|i>>>27)+u+l+3395469782+r,l=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+l|0,d-=64}}});var Cg=ae((n6,Kb)=>{"use strict";var fr=ge();Te();Sn();fs();var Gb=Kb.exports=fr.pkcs1=fr.pkcs1||{};Gb.encode_rsa_oaep=function(e,t,n){var r,i,o,s;typeof n=="string"?(r=n,i=arguments[3]||void 0,o=arguments[4]||void 0):n&&(r=n.label||void 0,i=n.seed||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md)),o?o.start():o=fr.md.sha1.create(),s||(s=o);var a=Math.ceil(e.n.bitLength()/8),l=a-2*o.digestLength-2;if(t.length>l){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=l,u}r||(r=""),o.update(r,"raw");for(var c=o.digest(),d="",f=l-t.length,v=0;v<f;v++)d+="\0";var m=c.getBytes()+d+""+t;if(!i)i=fr.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=o.digestLength,u}var y=_c(i,a-o.digestLength-1,s),E=fr.util.xorBytes(m,y,m.length),x=_c(E,o.digestLength,s),S=fr.util.xorBytes(i,x,i.length);return"\0"+S+E};Gb.decode_rsa_oaep=function(e,t,n){var r,i,o;typeof n=="string"?(r=n,i=arguments[3]||void 0):n&&(r=n.label||void 0,i=n.md||void 0,n.mgf1&&n.mgf1.md&&(o=n.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=s,E}if(i===void 0?i=fr.md.sha1.create():i.start(),o||(o=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");r||(r=""),i.update(r,"raw");for(var a=i.digest().getBytes(),l=t.charAt(0),u=t.substring(1,i.digestLength+1),c=t.substring(1+i.digestLength),d=_c(c,i.digestLength,o),f=fr.util.xorBytes(u,d,u.length),v=_c(f,s-i.digestLength-1,o),m=fr.util.xorBytes(c,v,c.length),y=m.substring(0,i.digestLength),E=l!=="\0",x=0;x<i.digestLength;++x)E|=a.charAt(x)!==y.charAt(x);for(var S=1,_=i.digestLength,k=i.digestLength;k<m.length;k++){var M=m.charCodeAt(k),N=M&1^1,ee=S?65534:0;E|=M&ee,S=S&N,_+=S}if(E||m.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(_+1)};function _c(e,t,n){n||(n=fr.md.sha1.create());for(var r="",i=Math.ceil(t/n.digestLength),o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);n.start(),n.update(e+s),r+=n.digest().getBytes()}return r.substring(0,t)}});var bg=ae((r6,Eg)=>{"use strict";var pi=ge();Te();Fa();Sn();(function(){if(pi.prime){Eg.exports=pi.prime;return}var e=Eg.exports=pi.prime=pi.prime||{},t=pi.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],r=new t(null);r.fromInt(30);var i=function(d,f){return d|f};e.generateProbablePrime=function(d,f,v){typeof f=="function"&&(v=f,f={}),f=f||{};var m=f.algorithm||"PRIMEINC";typeof m=="string"&&(m={name:m}),m.options=m.options||{};var y=f.prng||pi.random,E={nextBytes:function(x){for(var S=y.getBytesSync(x.length),_=0;_<x.length;++_)x[_]=S.charCodeAt(_)}};if(m.name==="PRIMEINC")return o(d,E,m.options,v);throw new Error("Invalid prime generation algorithm: "+m.name)};function o(d,f,v,m){return"workers"in v?l(d,f,v,m):s(d,f,v,m)}function s(d,f,v,m){var y=u(d,f),E=0,x=c(y.bitLength());"millerRabinTests"in v&&(x=v.millerRabinTests);var S=10;"maxBlockTime"in v&&(S=v.maxBlockTime),a(y,d,f,E,x,S,m)}function a(d,f,v,m,y,E,x){var S=+new Date;do{if(d.bitLength()>f&&(d=u(f,v)),d.isProbablePrime(y))return x(null,d);d.dAddOffset(n[m++%8],0)}while(E<0||+new Date-S<E);pi.util.setImmediate(function(){a(d,f,v,m,y,E,x)})}function l(d,f,v,m){if(typeof Worker>"u")return s(d,f,v,m);var y=u(d,f),E=v.workers,x=v.workLoad||100,S=x*30/8,_=v.workerScript||"forge/prime.worker.js";if(E===-1)return pi.util.estimateCores(function(M,N){M&&(N=2),E=N-1,k()});k();function k(){E=Math.max(1,E);for(var M=[],N=0;N<E;++N)M[N]=new Worker(_);for(var ee=E,N=0;N<E;++N)M[N].addEventListener("message",ke);var he=!1;function ke(Ue){if(!he){--ee;var qe=Ue.data;if(qe.found){for(var Ke=0;Ke<M.length;++Ke)M[Ke].terminate();return he=!0,m(null,new t(qe.prime,16))}y.bitLength()>d&&(y=u(d,f));var Ht=y.toString(16);Ue.target.postMessage({hex:Ht,workLoad:x}),y.dAddOffset(S,0)}}}}function u(d,f){var v=new t(d,f),m=d-1;return v.testBit(m)||v.bitwiseTo(t.ONE.shiftLeft(m),i,v),v.dAddOffset(31-v.mod(r).byteValue(),0),v}function c(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}})()});var Ba=ae((i6,ex)=>{"use strict";var Q=ge();zn();Fa();fi();Cg();bg();Sn();Te();typeof _e>"u"&&(_e=Q.jsbn.BigInteger);var _e,xg=Q.util.isNodejs?Ec():null,w=Q.asn1,Tn=Q.util;Q.pki=Q.pki||{};ex.exports=Q.pki.rsa=Q.rsa=Q.rsa||{};var ue=Q.pki,NO=[6,4,2,4,2,4,6,2],RO={name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},kO={name:"RSAPrivateKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},OO={name:"RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},PO=Q.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},LO={name:"DigestInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},FO=function(e){var t;if(e.algorithm in ue.oids)t=ue.oids[e.algorithm];else{var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}var r=w.oidToDer(t).getBytes(),i=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),o=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);o.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,r)),o.value.push(w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,""));var s=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(s),w.toDer(i).getBytes()},Xb=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(_e.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(_e.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var r;do r=new _e(Q.util.bytesToHex(Q.random.getBytes(t.n.bitLength()/8)),16);while(r.compareTo(t.n)>=0||!r.gcd(t.n).equals(_e.ONE));e=e.multiply(r.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var s=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return s=s.multiply(r.modInverse(t.n)).mod(t.n),s};ue.rsa.encrypt=function(e,t,n){var r=n,i,o=Math.ceil(t.n.bitLength()/8);n!==!1&&n!==!0?(r=n===2,i=Jb(e,t,n)):(i=Q.util.createBuffer(),i.putBytes(e));for(var s=new _e(i.toHex(),16),a=Xb(s,t,r),l=a.toString(16),u=Q.util.createBuffer(),c=o-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(Q.util.hexToBytes(l)),u.getBytes()};ue.rsa.decrypt=function(e,t,n,r){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var s=new _e(Q.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Xb(s,t,n),l=a.toString(16),u=Q.util.createBuffer(),c=i-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(Q.util.hexToBytes(l)),r!==!1?Sc(u.getBytes(),t,n):u.getBytes()};ue.rsa.createKeyPairGenerationState=function(e,t,n){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,n=n||{};var r=n.prng||Q.random,i={nextBytes:function(a){for(var l=r.getBytesSync(a.length),u=0;u<a.length;++u)a[u]=l.charCodeAt(u)}},o=n.algorithm||"PRIMEINC",s;if(o==="PRIMEINC")s={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new _e(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+o);return s};ue.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new _e(null);n.fromInt(30);for(var r=0,i=function(d,f){return d|f},o=+new Date,s,a=0;e.keys===null&&(t<=0||a<t);){if(e.state===0){var l=e.p===null?e.pBits:e.qBits,u=l-1;e.pqState===0?(e.num=new _e(l,e.rng),e.num.testBit(u)||e.num.bitwiseTo(_e.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),r=0,++e.pqState):e.pqState===1?e.num.bitLength()>l?e.pqState=0:e.num.isProbablePrime(VO(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(NO[r++%8],0):e.pqState===2?e.pqState=e.num.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(_e.ONE),e.q1=e.q.subtract(_e.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(_e.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var c=e.e.modInverse(e.phi);e.keys={privateKey:ue.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:ue.rsa.setPublicKey(e.n,e.e)}}s=+new Date,a+=s-o,o=s}return e.keys!==null};ue.rsa.generateKeyPair=function(e,t,n,r){if(arguments.length===1?typeof e=="object"?(n=e,e=void 0):typeof e=="function"&&(r=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(r=t,t=void 0):typeof t!="number"&&(n=t,t=void 0):(n=e,r=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof n=="function"&&(r=n,n=void 0):(r=n,n=t,t=void 0)),n=n||{},e===void 0&&(e=n.bits||2048),t===void 0&&(t=n.e||65537),!Q.options.usePureJavaScript&&!n.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(r){if(Wb("generateKeyPair"))return xg.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,l,u){if(a)return r(a);r(null,{privateKey:ue.privateKeyFromPem(u),publicKey:ue.publicKeyFromPem(l)})});if(Qb("generateKey")&&Qb("exportKey"))return Tn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Zb(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Tn.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){r(a)}).then(function(a){if(a){var l=ue.privateKeyFromAsn1(w.fromDer(Q.util.createBuffer(a)));r(null,{privateKey:l,publicKey:ue.setRsaPublicKey(l.n,l.e)})}});if(Yb("generateKey")&&Yb("exportKey")){var i=Tn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Zb(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var l=a.target.result,u=Tn.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);u.oncomplete=function(c){var d=c.target.result,f=ue.privateKeyFromAsn1(w.fromDer(Q.util.createBuffer(d)));r(null,{privateKey:f,publicKey:ue.setRsaPublicKey(f.n,f.e)})},u.onerror=function(c){r(c)}},i.onerror=function(a){r(a)};return}}else if(Wb("generateKeyPairSync")){var o=xg.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ue.privateKeyFromPem(o.privateKey),publicKey:ue.publicKeyFromPem(o.publicKey)}}}var s=ue.rsa.createKeyPairGenerationState(e,t,n);if(!r)return ue.rsa.stepKeyPairGenerationState(s,0),s.keys;BO(s,n,r)};ue.setRsaPublicKey=ue.rsa.setPublicKey=function(e,t){var n={n:e,e:t};return n.encrypt=function(r,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,l,u){return Jb(a,l,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,l){return Q.pkcs1.encode_rsa_oaep(l,a,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(r,n,!0);return ue.rsa.encrypt(s,n,!0)},n.verify=function(r,i,o,s){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(l,u){u=Sc(u,n,!0);var c=w.fromDer(u,{parseAllBytes:s._parseAllDigestBytes}),d={},f=[];if(!w.validate(c,LO,d,f)){var v=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw v.errors=f,v}var m=w.derToOid(d.algorithmIdentifier);if(!(m===Q.oids.md2||m===Q.oids.md5||m===Q.oids.sha1||m===Q.oids.sha224||m===Q.oids.sha256||m===Q.oids.sha384||m===Q.oids.sha512||m===Q.oids["sha512-224"]||m===Q.oids["sha512-256"])){var v=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw v.oid=m,v}if((m===Q.oids.md2||m===Q.oids.md5)&&!("parameters"in d))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===d.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(l,u){return u=Sc(u,n,!0),l===u}});var a=ue.rsa.decrypt(i,n,!0,!1);return o.verify(r,a,n.n.bitLength())},n};ue.setRsaPrivateKey=ue.rsa.setPrivateKey=function(e,t,n,r,i,o,s,a){var l={n:e,e:t,d:n,p:r,q:i,dP:o,dQ:s,qInv:a};return l.decrypt=function(u,c,d){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var f=ue.rsa.decrypt(u,l,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:Sc};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(v,m){return Q.pkcs1.decode_rsa_oaep(m,v,d)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(f,l,!1)},l.sign=function(u,c){var d=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:FO},d=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},d=1);var f=c.encode(u,l.n.bitLength());return ue.rsa.encrypt(f,l,d)},l};ue.wrapRsaPrivateKey=function(e){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(ue.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,w.toDer(e).getBytes())])};ue.privateKeyFromAsn1=function(e){var t={},n=[];if(w.validate(e,RO,t,n)&&(e=w.fromDer(Q.util.createBuffer(t.privateKey))),t={},n=[],!w.validate(e,kO,t,n)){var r=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw r.errors=n,r}var i,o,s,a,l,u,c,d;return i=Q.util.createBuffer(t.privateKeyModulus).toHex(),o=Q.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=Q.util.createBuffer(t.privateKeyPrivateExponent).toHex(),a=Q.util.createBuffer(t.privateKeyPrime1).toHex(),l=Q.util.createBuffer(t.privateKeyPrime2).toHex(),u=Q.util.createBuffer(t.privateKeyExponent1).toHex(),c=Q.util.createBuffer(t.privateKeyExponent2).toHex(),d=Q.util.createBuffer(t.privateKeyCoefficient).toHex(),ue.setRsaPrivateKey(new _e(i,16),new _e(o,16),new _e(s,16),new _e(a,16),new _e(l,16),new _e(u,16),new _e(c,16),new _e(d,16))};ue.privateKeyToAsn1=ue.privateKeyToRSAPrivateKey=function(e){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.e)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.d)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.p)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.q)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.dP)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.dQ)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.qInv))])};ue.publicKeyFromAsn1=function(e){var t={},n=[];if(w.validate(e,PO,t,n)){var r=w.derToOid(t.publicKeyOid);if(r!==ue.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=r,i}e=t.rsaPublicKey}if(n=[],!w.validate(e,OO,t,n)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=n,i}var o=Q.util.createBuffer(t.publicKeyModulus).toHex(),s=Q.util.createBuffer(t.publicKeyExponent).toHex();return ue.setRsaPublicKey(new _e(o,16),new _e(s,16))};ue.publicKeyToAsn1=ue.publicKeyToSubjectPublicKeyInfo=function(e){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(ue.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,[ue.publicKeyToRSAPublicKey(e)])])};ue.publicKeyToRSAPublicKey=function(e){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,hr(e.e))])};function Jb(e,t,n){var r=Q.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}r.putByte(0),r.putByte(n);var s=i-3-e.length,a;if(n===0||n===1){a=n===0?0:255;for(var l=0;l<s;++l)r.putByte(a)}else for(;s>0;){for(var u=0,c=Q.random.getBytes(s),l=0;l<s;++l)a=c.charCodeAt(l),a===0?++u:r.putByte(a);s=u}return r.putByte(0),r.putBytes(e),r}function Sc(e,t,n,r){var i=Math.ceil(t.n.bitLength()/8),o=Q.util.createBuffer(e),s=o.getByte(),a=o.getByte();if(s!==0||n&&a!==0&&a!==1||!n&&a!=2||n&&a===0&&typeof r>"u")throw new Error("Encryption block is invalid.");var l=0;if(a===0){l=i-3-r;for(var u=0;u<l;++u)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(l=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++l}else if(a===2)for(l=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++l}var c=o.getByte();if(c!==0||l!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function BO(e,t,n){typeof t=="function"&&(n=t,t={}),t=t||{};var r={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(r.prng=t.prng),i();function i(){o(e.pBits,function(a,l){if(a)return n(a);if(e.p=l,e.q!==null)return s(a,e.q);o(e.qBits,s)})}function o(a,l){Q.prime.generateProbablePrime(a,r,l)}function s(a,l){if(a)return n(a);if(e.q=l,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)!==0){e.p=null,i();return}if(e.q.subtract(_e.ONE).gcd(e.e).compareTo(_e.ONE)!==0){e.q=null,o(e.qBits,s);return}if(e.p1=e.p.subtract(_e.ONE),e.q1=e.q.subtract(_e.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(_e.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,s);return}var c=e.e.modInverse(e.phi);e.keys={privateKey:ue.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:ue.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}}function hr(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var n=Q.util.hexToBytes(t);return n.length>1&&(n.charCodeAt(0)===0&&!(n.charCodeAt(1)&128)||n.charCodeAt(0)===255&&(n.charCodeAt(1)&128)===128)?n.substr(1):n}function VO(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Wb(e){return Q.util.isNodejs&&typeof xg[e]=="function"}function Qb(e){return typeof Tn.globalScope<"u"&&typeof Tn.globalScope.crypto=="object"&&typeof Tn.globalScope.crypto.subtle=="object"&&typeof Tn.globalScope.crypto.subtle[e]=="function"}function Yb(e){return typeof Tn.globalScope<"u"&&typeof Tn.globalScope.msCrypto=="object"&&typeof Tn.globalScope.msCrypto.subtle=="object"&&typeof Tn.globalScope.msCrypto.subtle[e]=="function"}function Zb(e){for(var t=Q.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}});var Ig=ae((o6,ox)=>{"use strict";var j=ge();di();zn();Pa();sr();fi();bc();no();Sn();pg();Ba();Te();typeof tx>"u"&&(tx=j.jsbn.BigInteger);var tx,D=j.asn1,fe=j.pki=j.pki||{};ox.exports=fe.pbe=j.pbe=j.pbe||{};var oo=fe.oids,UO={name:"EncryptedPrivateKeyInfo",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},jO={name:"PBES2Algorithms",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},$O={name:"pkcs-12PbeParams",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"iterations"}]};fe.encryptPrivateKeyInfo=function(e,t,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var r=j.random.getBytesSync(n.saltSize),i=n.count,o=D.integerToDer(i),s,a,l;if(n.algorithm.indexOf("aes")===0||n.algorithm==="des"){var u,c,d;switch(n.algorithm){case"aes128":s=16,u=16,c=oo["aes128-CBC"],d=j.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,c=oo["aes192-CBC"],d=j.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,c=oo["aes256-CBC"],d=j.aes.createEncryptionCipher;break;case"des":s=8,u=8,c=oo.desCBC,d=j.des.createEncryptionCipher;break;default:var f=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw f.algorithm=n.algorithm,f}var v="hmacWith"+n.prfAlgorithm.toUpperCase(),m=ix(v),y=j.pkcs5.pbkdf2(t,r,i,s,m),E=j.random.getBytesSync(u),x=d(y);x.start(E),x.update(D.toDer(e)),x.finish(),l=x.output.getBytes();var S=HO(r,o,s,v);a=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(oo.pkcs5PBES2).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(oo.pkcs5PBKDF2).getBytes()),S]),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(c).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,E)])])])}else if(n.algorithm==="3des"){s=24;var _=new j.util.ByteBuffer(r),y=fe.pbe.generatePkcs12Key(t,_,1,i,s),E=fe.pbe.generatePkcs12Key(t,_,2,i,s),x=j.des.createEncryptionCipher(y);x.start(E),x.update(D.toDer(e)),x.finish(),l=x.output.getBytes(),a=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(oo["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,r),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,o.getBytes())])])}else{var f=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw f.algorithm=n.algorithm,f}var k=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[a,D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,l)]);return k};fe.decryptPrivateKeyInfo=function(e,t){var n=null,r={},i=[];if(!D.validate(e,UO,r,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=D.derToOid(r.encryptionOid),a=fe.pbe.getCipher(s,r.encryptionParams,t),l=j.util.createBuffer(r.encryptedData);return a.update(l),a.finish()&&(n=D.fromDer(a.output)),n};fe.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:D.toDer(e).getBytes()};return j.pem.encode(n,{maxline:t})};fe.encryptedPrivateKeyFromPem=function(e){var t=j.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return D.fromDer(t.body)};fe.encryptRsaPrivateKey=function(e,t,n){if(n=n||{},!n.legacy){var r=fe.wrapRsaPrivateKey(fe.privateKeyToAsn1(e));return r=fe.encryptPrivateKeyInfo(r,t,n),fe.encryptedPrivateKeyToPem(r)}var i,o,s,a;switch(n.algorithm){case"aes128":i="AES-128-CBC",s=16,o=j.random.getBytesSync(16),a=j.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,o=j.random.getBytesSync(16),a=j.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,o=j.random.getBytesSync(16),a=j.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,o=j.random.getBytesSync(8),a=j.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,o=j.random.getBytesSync(8),a=j.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw l.algorithm=n.algorithm,l}var u=j.pbe.opensslDeriveBytes(t,o.substr(0,8),s),c=a(u);c.start(o),c.update(D.toDer(fe.privateKeyToAsn1(e))),c.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:j.util.bytesToHex(o).toUpperCase()},body:c.output.getBytes()};return j.pem.encode(d)};fe.decryptRsaPrivateKey=function(e,t){var n=null,r=j.pem.decode(e)[0];if(r.type!=="ENCRYPTED PRIVATE KEY"&&r.type!=="PRIVATE KEY"&&r.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(r.procType&&r.procType.type==="ENCRYPTED"){var o,s;switch(r.dekInfo.algorithm){case"DES-CBC":o=8,s=j.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,s=j.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,s=j.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,s=j.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,s=j.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,s=function(d){return j.rc2.createDecryptionCipher(d,40)};break;case"RC2-64-CBC":o=8,s=function(d){return j.rc2.createDecryptionCipher(d,64)};break;case"RC2-128-CBC":o=16,s=function(d){return j.rc2.createDecryptionCipher(d,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+r.dekInfo.algorithm+'".');throw i.algorithm=r.dekInfo.algorithm,i}var a=j.util.hexToBytes(r.dekInfo.parameters),l=j.pbe.opensslDeriveBytes(t,a.substr(0,8),o),u=s(l);if(u.start(a),u.update(j.util.createBuffer(r.body)),u.finish())n=u.output.getBytes();else return n}else n=r.body;return r.type==="ENCRYPTED PRIVATE KEY"?n=fe.decryptPrivateKeyInfo(D.fromDer(n),t):n=D.fromDer(n),n!==null&&(n=fe.privateKeyFromAsn1(n)),n};fe.pbe.generatePkcs12Key=function(e,t,n,r,i,o){var s,a;if(typeof o>"u"||o===null){if(!("sha1"in j.md))throw new Error('"sha1" hash algorithm unavailable.');o=j.md.sha1.create()}var l=o.digestLength,u=o.blockLength,c=new j.util.ByteBuffer,d=new j.util.ByteBuffer;if(e!=null){for(a=0;a<e.length;a++)d.putInt16(e.charCodeAt(a));d.putInt16(0)}var f=d.length(),v=t.length(),m=new j.util.ByteBuffer;m.fillWithByte(n,u);var y=u*Math.ceil(v/u),E=new j.util.ByteBuffer;for(a=0;a<y;a++)E.putByte(t.at(a%v));var x=u*Math.ceil(f/u),S=new j.util.ByteBuffer;for(a=0;a<x;a++)S.putByte(d.at(a%f));var _=E;_.putBuffer(S);for(var k=Math.ceil(i/l),M=1;M<=k;M++){var N=new j.util.ByteBuffer;N.putBytes(m.bytes()),N.putBytes(_.bytes());for(var ee=0;ee<r;ee++)o.start(),o.update(N.getBytes()),N=o.digest();var he=new j.util.ByteBuffer;for(a=0;a<u;a++)he.putByte(N.at(a%l));var ke=Math.ceil(v/u)+Math.ceil(f/u),Ue=new j.util.ByteBuffer;for(s=0;s<ke;s++){var qe=new j.util.ByteBuffer(_.getBytes(u)),Ke=511;for(a=he.length()-1;a>=0;a--)Ke=Ke>>8,Ke+=he.at(a)+qe.at(a),qe.setAt(a,Ke&255);Ue.putBuffer(qe)}_=Ue,c.putBuffer(N)}return c.truncate(c.length()-i),c};fe.pbe.getCipher=function(e,t,n){switch(e){case fe.oids.pkcs5PBES2:return fe.pbe.getCipherForPBES2(e,t,n);case fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case fe.oids["pbewithSHAAnd40BitRC2-CBC"]:return fe.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}};fe.pbe.getCipherForPBES2=function(e,t,n){var r={},i=[];if(!D.validate(t,jO,r,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=D.derToOid(r.kdfOid),e!==fe.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=D.derToOid(r.encOid),e!==fe.oids["aes128-CBC"]&&e!==fe.oids["aes192-CBC"]&&e!==fe.oids["aes256-CBC"]&&e!==fe.oids["des-EDE3-CBC"]&&e!==fe.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var s=r.kdfSalt,a=j.util.createBuffer(r.kdfIterationCount);a=a.getInt(a.length()<<3);var l,u;switch(fe.oids[e]){case"aes128-CBC":l=16,u=j.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,u=j.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,u=j.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,u=j.des.createDecryptionCipher;break;case"desCBC":l=8,u=j.des.createDecryptionCipher;break}var c=rx(r.prfOid),d=j.pkcs5.pbkdf2(n,s,a,l,c),f=r.encIv,v=u(d);return v.start(f),v};fe.pbe.getCipherForPKCS12PBE=function(e,t,n){var r={},i=[];if(!D.validate(t,$O,r,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=j.util.createBuffer(r.salt),a=j.util.createBuffer(r.iterations);a=a.getInt(a.length()<<3);var l,u,c;switch(e){case fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,u=8,c=j.des.startDecrypting;break;case fe.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,u=8,c=function(y,E){var x=j.rc2.createDecryptionCipher(y,40);return x.start(E,null),x};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var d=rx(r.prfOid),f=fe.pbe.generatePkcs12Key(n,s,1,a,l,d);d.start();var v=fe.pbe.generatePkcs12Key(n,s,2,a,u,d);return c(f,v)};fe.pbe.opensslDeriveBytes=function(e,t,n,r){if(typeof r>"u"||r===null){if(!("md5"in j.md))throw new Error('"md5" hash algorithm unavailable.');r=j.md.md5.create()}t===null&&(t="");for(var i=[nx(r,e+t)],o=16,s=1;o<n;++s,o+=16)i.push(nx(r,i[s-1]+e+t));return i.join("").substr(0,n)};function nx(e,t){return e.start().update(t).digest().getBytes()}function rx(e){var t;if(!e)t="hmacWithSHA1";else if(t=fe.oids[D.derToOid(e)],!t){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}return ix(t)}function ix(e){var t=j.md;switch(e){case"hmacWithSHA224":t=j.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function HO(e,t,n,r){var i=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,e),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,t.getBytes())]);return r!=="hmacWithSHA1"&&i.value.push(D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,j.util.hexToBytes(n.toString(16))),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(fe.oids[r]).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.NULL,!1,"")])),i}});var wg=ae((s6,lx)=>{"use strict";var hs=ge();zn();Te();var U=hs.asn1,ps=lx.exports=hs.pkcs7asn1=hs.pkcs7asn1||{};hs.pkcs7=hs.pkcs7||{};hs.pkcs7.asn1=ps;var sx={name:"ContentInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};ps.contentInfoValidator=sx;var ax={name:"EncryptedContentInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:U.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};ps.envelopedDataValidator={name:"EnvelopedData",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(ax)};ps.encryptedDataValidator={name:"EncryptedData",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"version"}].concat(ax)};var qO={name:"SignerInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:U.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};ps.signedDataValidator={name:"SignedData",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},sx,{name:"SignedData.Certificates",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,capture:"signerInfos",optional:!0,value:[qO]}]};ps.recipientInfoValidator={name:"RecipientInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:U.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:U.Class.UNIVERSAL,type:U.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var _g=ae((a6,ux)=>{"use strict";var so=ge();Te();so.mgf=so.mgf||{};var zO=ux.exports=so.mgf.mgf1=so.mgf1=so.mgf1||{};zO.create=function(e){var t={generate:function(n,r){for(var i=new so.util.ByteBuffer,o=Math.ceil(r/e.digestLength),s=0;s<o;s++){var a=new so.util.ByteBuffer;a.putInt32(s),e.start(),e.update(n+a.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}};return t}});var dx=ae((l6,cx)=>{"use strict";var Dc=ge();_g();cx.exports=Dc.mgf=Dc.mgf||{};Dc.mgf.mgf1=Dc.mgf1});var Tc=ae((u6,fx)=>{"use strict";var ao=ge();Sn();Te();var GO=fx.exports=ao.pss=ao.pss||{};GO.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,n=e.mgf,r=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=ao.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||ao.random,a={};return a.encode=function(l,u){var c,d=u-1,f=Math.ceil(d/8),v=l.digest().getBytes();if(f<r+o+2)throw new Error("Message is too long to encrypt.");var m;i===null?m=s.getBytesSync(o):m=i.bytes();var y=new ao.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(v),y.putBytes(m),t.start(),t.update(y.getBytes());var E=t.digest().getBytes(),x=new ao.util.ByteBuffer;x.fillWithByte(0,f-o-r-2),x.putByte(1),x.putBytes(m);var S=x.getBytes(),_=f-r-1,k=n.generate(E,_),M="";for(c=0;c<_;c++)M+=String.fromCharCode(S.charCodeAt(c)^k.charCodeAt(c));var N=65280>>8*f-d&255;return M=String.fromCharCode(M.charCodeAt(0)&~N)+M.substr(1),M+E+"\xBC"},a.verify=function(l,u,c){var d,f=c-1,v=Math.ceil(f/8);if(u=u.substr(-v),v<r+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(v-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var m=v-r-1,y=u.substr(0,m),E=u.substr(m,r),x=65280>>8*v-f&255;if(y.charCodeAt(0)&x)throw new Error("Bits beyond keysize not zero as expected.");var S=n.generate(E,m),_="";for(d=0;d<m;d++)_+=String.fromCharCode(y.charCodeAt(d)^S.charCodeAt(d));_=String.fromCharCode(_.charCodeAt(0)&~x)+_.substr(1);var k=v-r-o-2;for(d=0;d<k;d++)if(_.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(_.charCodeAt(k)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var M=_.substr(-o),N=new ao.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(l),N.putBytes(M),t.start(),t.update(N.getBytes());var ee=t.digest().getBytes();return E===ee},a}});var Nc=ae((c6,vx)=>{"use strict";var Y=ge();di();zn();Pa();sr();dx();fi();no();Tc();Ba();Te();var h=Y.asn1,P=vx.exports=Y.pki=Y.pki||{},Se=P.oids,ot={};ot.CN=Se.commonName;ot.commonName="CN";ot.C=Se.countryName;ot.countryName="C";ot.L=Se.localityName;ot.localityName="L";ot.ST=Se.stateOrProvinceName;ot.stateOrProvinceName="ST";ot.O=Se.organizationName;ot.organizationName="O";ot.OU=Se.organizationalUnitName;ot.organizationalUnitName="OU";ot.E=Se.emailAddress;ot.emailAddress="E";var px=Y.pki.rsa.publicKeyValidator,KO={name:"Certificate",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:h.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:h.Class.UNIVERSAL,type:h.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:h.Class.UNIVERSAL,type:h.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:h.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:h.Class.UNIVERSAL,type:h.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:h.Class.UNIVERSAL,type:h.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:h.Class.UNIVERSAL,type:h.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:h.Class.UNIVERSAL,type:h.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},px,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:h.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:h.Class.UNIVERSAL,type:h.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:h.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:h.Class.UNIVERSAL,type:h.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:h.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:h.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:h.Class.UNIVERSAL,type:h.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},WO={name:"rsapss",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:h.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:h.Class.UNIVERSAL,type:h.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:h.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:h.Class.UNIVERSAL,type:h.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:h.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:h.Class.UNIVERSAL,type:h.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:h.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:h.Class.UNIVERSAL,type:h.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},QO={name:"CertificationRequestInfo",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:h.Class.UNIVERSAL,type:h.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},px,{name:"CertificationRequestInfo.attributes",tagClass:h.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:h.Class.UNIVERSAL,type:h.Type.SET,constructed:!0}]}]}]},YO={name:"CertificationRequest",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[QO,{name:"CertificationRequest.signatureAlgorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:h.Class.UNIVERSAL,type:h.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:h.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:h.Class.UNIVERSAL,type:h.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};P.RDNAttributesAsArray=function(e,t){for(var n=[],r,i,o,s=0;s<e.value.length;++s){r=e.value[s];for(var a=0;a<r.value.length;++a)o={},i=r.value[a],o.type=h.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in Se&&(o.name=Se[o.type],o.name in ot&&(o.shortName=ot[o.name])),t&&(t.update(o.type),t.update(o.value)),n.push(o)}return n};P.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=h.derToOid(r.value[0].value),o=r.value[1].value,s=0;s<o.length;++s){var a={};if(a.type=i,a.value=o[s].value,a.valueTagClass=o[s].type,a.type in Se&&(a.name=Se[a.type],a.name in ot&&(a.shortName=ot[a.name])),a.type===Se.extensionRequest){a.extensions=[];for(var l=0;l<a.value.length;++l)a.extensions.push(P.certificateExtensionFromAsn1(a.value[l]))}t.push(a)}return t};function gi(e,t){typeof t=="string"&&(t={shortName:t});for(var n=null,r,i=0;n===null&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}var Ac=function(e,t,n){var r={};if(e!==Se["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:Se.sha1},mgf:{algorithmOid:Se.mgf1,hash:{algorithmOid:Se.sha1}},saltLength:20});var i={},o=[];if(!h.validate(t,WO,i,o)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=o,s}return i.hashOid!==void 0&&(r.hash=r.hash||{},r.hash.algorithmOid=h.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=h.derToOid(i.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=h.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(r.saltLength=i.saltLength.charCodeAt(0)),r},Mc=function(e){switch(Se[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Y.md.sha1.create();case"md5WithRSAEncryption":return Y.md.md5.create();case"sha256WithRSAEncryption":return Y.md.sha256.create();case"sha384WithRSAEncryption":return Y.md.sha384.create();case"sha512WithRSAEncryption":return Y.md.sha512.create();case"RSASSA-PSS":return Y.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},gx=function(e){var t=e.certificate,n;switch(t.signatureOid){case Se.sha1WithRSAEncryption:case Se.sha1WithRSASignature:break;case Se["RSASSA-PSS"]:var r,i;if(r=Se[t.signatureParameters.mgf.hash.algorithmOid],r===void 0||Y.md[r]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=r,o}if(i=Se[t.signatureParameters.mgf.algorithmOid],i===void 0||Y.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=Y.mgf[i].create(Y.md[r].create()),r=Se[t.signatureParameters.hash.algorithmOid],r===void 0||Y.md[r]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=r,o}n=Y.pss.create(Y.md[r].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,n)};P.certificateFromPem=function(e,t,n){var r=Y.pem.decode(e)[0];if(r.type!=="CERTIFICATE"&&r.type!=="X509 CERTIFICATE"&&r.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=r.type,i}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=h.fromDer(r.body,n);return P.certificateFromAsn1(o,t)};P.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:h.toDer(P.certificateToAsn1(e)).getBytes()};return Y.pem.encode(n,{maxline:t})};P.publicKeyFromPem=function(e){var t=Y.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var r=h.fromDer(t.body);return P.publicKeyFromAsn1(r)};P.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:h.toDer(P.publicKeyToAsn1(e)).getBytes()};return Y.pem.encode(n,{maxline:t})};P.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:h.toDer(P.publicKeyToRSAPublicKey(e)).getBytes()};return Y.pem.encode(n,{maxline:t})};P.getPublicKeyFingerprint=function(e,t){t=t||{};var n=t.md||Y.md.sha1.create(),r=t.type||"RSAPublicKey",i;switch(r){case"RSAPublicKey":i=h.toDer(P.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=h.toDer(P.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}n.start(),n.update(i);var o=n.digest();if(t.encoding==="hex"){var s=o.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};P.certificationRequestFromPem=function(e,t,n){var r=Y.pem.decode(e)[0];if(r.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=r.type,i}if(r.procType&&r.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=h.fromDer(r.body,n);return P.certificationRequestFromAsn1(o,t)};P.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:h.toDer(P.certificationRequestToAsn1(e)).getBytes()};return Y.pem.encode(n,{maxline:t})};P.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return gi(e.issuer,t)},e.issuer.addField=function(t){An([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return gi(e.subject,t)},e.subject.addField=function(t){An([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){An(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){An(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)mx(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var n=null,r,i=0;n===null&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,n){e.md=n||Y.md.sha1.create();var r=Se[e.md.algorithm+"WithRSAEncryption"];if(!r){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=r,e.tbsCertificate=P.getTBSCertificate(e);var o=h.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var r=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=r.attributes,o}var s=t.md;if(s===null){s=Mc({signatureOid:t.signatureOid,type:"certificate"});var a=t.tbsCertificate||P.getTBSCertificate(t),l=h.toDer(a);s.update(l.getBytes())}return s!==null&&(n=gx({certificate:e,md:s,signature:t.signature})),n},e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){n=!0;for(var o,s,a=0;n&&a<r.attributes.length;++a)o=r.attributes[a],s=i.attributes[a],(o.type!==s.type||o.value!==s.value)&&(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return P.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Se.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var r=e.extensions[n];if(r.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Y.util.hexToBytes(r.subjectKeyIdentifier)===i}}return!1},e};P.certificateFromAsn1=function(e,t){var n={},r=[];if(!h.validate(e,KO,n,r)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=r,i}var o=h.derToOid(n.publicKeyOid);if(o!==P.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=P.createCertificate();s.version=n.certVersion?n.certVersion.charCodeAt(0):0;var a=Y.util.createBuffer(n.certSerialNumber);s.serialNumber=a.toHex(),s.signatureOid=Y.asn1.derToOid(n.certSignatureOid),s.signatureParameters=Ac(s.signatureOid,n.certSignatureParams,!0),s.siginfo.algorithmOid=Y.asn1.derToOid(n.certinfoSignatureOid),s.siginfo.parameters=Ac(s.siginfo.algorithmOid,n.certinfoSignatureParams,!1),s.signature=n.certSignature;var l=[];if(n.certValidity1UTCTime!==void 0&&l.push(h.utcTimeToDate(n.certValidity1UTCTime)),n.certValidity2GeneralizedTime!==void 0&&l.push(h.generalizedTimeToDate(n.certValidity2GeneralizedTime)),n.certValidity3UTCTime!==void 0&&l.push(h.utcTimeToDate(n.certValidity3UTCTime)),n.certValidity4GeneralizedTime!==void 0&&l.push(h.generalizedTimeToDate(n.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=l[0],s.validity.notAfter=l[1],s.tbsCertificate=n.tbsCertificate,t){s.md=Mc({signatureOid:s.signatureOid,type:"certificate"});var u=h.toDer(s.tbsCertificate);s.md.update(u.getBytes())}var c=Y.md.sha1.create(),d=h.toDer(n.certIssuer);c.update(d.getBytes()),s.issuer.getField=function(m){return gi(s.issuer,m)},s.issuer.addField=function(m){An([m]),s.issuer.attributes.push(m)},s.issuer.attributes=P.RDNAttributesAsArray(n.certIssuer),n.certIssuerUniqueId&&(s.issuer.uniqueId=n.certIssuerUniqueId),s.issuer.hash=c.digest().toHex();var f=Y.md.sha1.create(),v=h.toDer(n.certSubject);return f.update(v.getBytes()),s.subject.getField=function(m){return gi(s.subject,m)},s.subject.addField=function(m){An([m]),s.subject.attributes.push(m)},s.subject.attributes=P.RDNAttributesAsArray(n.certSubject),n.certSubjectUniqueId&&(s.subject.uniqueId=n.certSubjectUniqueId),s.subject.hash=f.digest().toHex(),n.certExtensions?s.extensions=P.certificateExtensionsFromAsn1(n.certExtensions):s.extensions=[],s.publicKey=P.publicKeyFromAsn1(n.subjectPublicKeyInfo),s};P.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(P.certificateExtensionFromAsn1(r.value[i]));return t};P.certificateExtensionFromAsn1=function(e){var t={};if(t.id=h.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===h.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Se){if(t.name=Se[t.id],t.name==="keyUsage"){var n=h.fromDer(t.value),r=0,i=0;n.value.length>1&&(r=n.value.charCodeAt(1),i=n.value.length>2?n.value.charCodeAt(2):0),t.digitalSignature=(r&128)===128,t.nonRepudiation=(r&64)===64,t.keyEncipherment=(r&32)===32,t.dataEncipherment=(r&16)===16,t.keyAgreement=(r&8)===8,t.keyCertSign=(r&4)===4,t.cRLSign=(r&2)===2,t.encipherOnly=(r&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var n=h.fromDer(t.value);n.value.length>0&&n.value[0].type===h.Type.BOOLEAN?t.cA=n.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;n.value.length>0&&n.value[0].type===h.Type.INTEGER?o=n.value[0].value:n.value.length>1&&(o=n.value[1].value),o!==null&&(t.pathLenConstraint=h.derToInteger(o))}else if(t.name==="extKeyUsage")for(var n=h.fromDer(t.value),s=0;s<n.value.length;++s){var a=h.derToOid(n.value[s].value);a in Se?t[Se[a]]=!0:t[a]=!0}else if(t.name==="nsCertType"){var n=h.fromDer(t.value),r=0;n.value.length>1&&(r=n.value.charCodeAt(1)),t.client=(r&128)===128,t.server=(r&64)===64,t.email=(r&32)===32,t.objsign=(r&16)===16,t.reserved=(r&8)===8,t.sslCA=(r&4)===4,t.emailCA=(r&2)===2,t.objCA=(r&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var l,n=h.fromDer(t.value),u=0;u<n.value.length;++u){l=n.value[u];var c={type:l.type,value:l.value};switch(t.altNames.push(c),l.type){case 1:case 2:case 6:break;case 7:c.ip=Y.util.bytesToIP(l.value);break;case 8:c.oid=h.derToOid(l.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var n=h.fromDer(t.value);t.subjectKeyIdentifier=Y.util.bytesToHex(n.value)}}return t};P.certificationRequestFromAsn1=function(e,t){var n={},r=[];if(!h.validate(e,YO,n,r)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=r,i}var o=h.derToOid(n.publicKeyOid);if(o!==P.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=P.createCertificationRequest();if(s.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,s.signatureOid=Y.asn1.derToOid(n.csrSignatureOid),s.signatureParameters=Ac(s.signatureOid,n.csrSignatureParams,!0),s.siginfo.algorithmOid=Y.asn1.derToOid(n.csrSignatureOid),s.siginfo.parameters=Ac(s.siginfo.algorithmOid,n.csrSignatureParams,!1),s.signature=n.csrSignature,s.certificationRequestInfo=n.certificationRequestInfo,t){s.md=Mc({signatureOid:s.signatureOid,type:"certification request"});var a=h.toDer(s.certificationRequestInfo);s.md.update(a.getBytes())}var l=Y.md.sha1.create();return s.subject.getField=function(u){return gi(s.subject,u)},s.subject.addField=function(u){An([u]),s.subject.attributes.push(u)},s.subject.attributes=P.RDNAttributesAsArray(n.certificationRequestInfoSubject,l),s.subject.hash=l.digest().toHex(),s.publicKey=P.publicKeyFromAsn1(n.subjectPublicKeyInfo),s.getAttribute=function(u){return gi(s,u)},s.addAttribute=function(u){An([u]),s.attributes.push(u)},s.attributes=P.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),s};P.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return gi(e.subject,t)},e.subject.addField=function(t){An([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return gi(e,t)},e.addAttribute=function(t){An([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){An(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){An(t),e.attributes=t},e.sign=function(t,n){e.md=n||Y.md.sha1.create();var r=Se[e.md.algorithm+"WithRSAEncryption"];if(!r){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=r,e.certificationRequestInfo=P.getCertificationRequestInfo(e);var o=h.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(n===null){n=Mc({signatureOid:e.signatureOid,type:"certification request"});var r=e.certificationRequestInfo||P.getCertificationRequestInfo(e),i=h.toDer(r);n.update(i.getBytes())}return n!==null&&(t=gx({certificate:e,md:n,signature:e.signature})),t},e};function gs(e){for(var t=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]),n,r,i=e.attributes,o=0;o<i.length;++o){n=i[o];var s=n.value,a=h.Type.PRINTABLESTRING;"valueTagClass"in n&&(a=n.valueTagClass,a===h.Type.UTF8&&(s=Y.util.encodeUtf8(s))),r=h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(n.type).getBytes()),h.create(h.Class.UNIVERSAL,a,!1,s)])]),t.value.push(r)}return t}function An(e){for(var t,n=0;n<e.length;++n){if(t=e[n],typeof t.name>"u"&&(t.type&&t.type in P.oids?t.name=P.oids[t.type]:t.shortName&&t.shortName in ot&&(t.name=P.oids[ot[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in P.oids)t.type=P.oids[t.name];else{var r=new Error("Attribute type not specified.");throw r.attribute=t,r}if(typeof t.shortName>"u"&&t.name&&t.name in ot&&(t.shortName=ot[t.name]),t.type===Se.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=h.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(P.certificateExtensionToAsn1(mx(t.extensions[i])))}if(typeof t.value>"u"){var r=new Error("Attribute value not specified.");throw r.attribute=t,r}}}function mx(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in P.oids&&(e.name=P.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in P.oids)e.id=P.oids[e.name];else{var n=new Error("Extension ID not specified.");throw n.extension=e,n}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var r=0,i=0,o=0;e.digitalSignature&&(i|=128,r=7),e.nonRepudiation&&(i|=64,r=6),e.keyEncipherment&&(i|=32,r=5),e.dataEncipherment&&(i|=16,r=4),e.keyAgreement&&(i|=8,r=3),e.keyCertSign&&(i|=4,r=2),e.cRLSign&&(i|=2,r=1),e.encipherOnly&&(i|=1,r=0),e.decipherOnly&&(o|=128,r=7);var s=String.fromCharCode(r);o!==0?s+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(s+=String.fromCharCode(i)),e.value=h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,s)}else if(e.name==="basicConstraints")e.value=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(h.create(h.Class.UNIVERSAL,h.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);var a=e.value.value;for(var l in e)e[l]===!0&&(l in Se?a.push(h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(Se[l]).getBytes())):l.indexOf(".")!==-1&&a.push(h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(l).getBytes())))}else if(e.name==="nsCertType"){var r=0,i=0;e.client&&(i|=128,r=7),e.server&&(i|=64,r=6),e.email&&(i|=32,r=5),e.objsign&&(i|=16,r=4),e.reserved&&(i|=8,r=3),e.sslCA&&(i|=4,r=2),e.emailCA&&(i|=2,r=1),e.objCA&&(i|=1,r=0);var s=String.fromCharCode(r);i!==0&&(s+=String.fromCharCode(i)),e.value=h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,s)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);for(var u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var s=u.value;if(u.type===7&&u.ip){if(s=Y.util.bytesFromIP(u.ip),s===null){var n=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw n.extension=e,n}}else u.type===8&&(u.oid?s=h.oidToDer(h.oidToDer(u.oid)):s=h.oidToDer(s));e.value.value.push(h.create(h.Class.CONTEXT_SPECIFIC,u.type,!1,s))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=h.create(h.Class.UNIVERSAL,h.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,d.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);var a=e.value.value;if(e.keyIdentifier){var f=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;a.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!1,f))}if(e.authorityCertIssuer){var v=[h.create(h.Class.CONTEXT_SPECIFIC,4,!0,[gs(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];a.push(h.create(h.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var m=Y.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);a.push(h.create(h.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if(e.name==="cRLDistributionPoints"){e.value=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);for(var a=e.value.value,y=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]),E=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[]),u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var s=u.value;if(u.type===7&&u.ip){if(s=Y.util.bytesFromIP(u.ip),s===null){var n=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw n.extension=e,n}}else u.type===8&&(u.oid?s=h.oidToDer(h.oidToDer(u.oid)):s=h.oidToDer(s));E.value.push(h.create(h.Class.CONTEXT_SPECIFIC,u.type,!1,s))}y.value.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[E])),a.push(y)}if(typeof e.value>"u"){var n=new Error("Extension value not specified.");throw n.extension=e,n}return e}function Sg(e,t){switch(e){case Se["RSASSA-PSS"]:var n=[];return t.hash.algorithmOid!==void 0&&n.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(t.hash.algorithmOid).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&n.push(h.create(h.Class.CONTEXT_SPECIFIC,1,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(t.mgf.algorithmOid).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(t.mgf.hash.algorithmOid).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&n.push(h.create(h.Class.CONTEXT_SPECIFIC,2,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(t.saltLength).getBytes())])),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,n);default:return h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")}}function ZO(e){var t=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var n=e.attributes,r=0;r<n.length;++r){var i=n[r],o=i.value,s=h.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===h.Type.UTF8&&(o=Y.util.encodeUtf8(o));var a=!1;"valueConstructed"in i&&(a=i.valueConstructed);var l=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(i.type).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[h.create(h.Class.UNIVERSAL,s,a,o)])]);t.value.push(l)}return t}var XO=new Date("1950-01-01T00:00:00Z"),JO=new Date("2050-01-01T00:00:00Z");function hx(e){return e>=XO&&e<JO?h.create(h.Class.UNIVERSAL,h.Type.UTCTIME,!1,h.dateToUtcTime(e)):h.create(h.Class.UNIVERSAL,h.Type.GENERALIZEDTIME,!1,h.dateToGeneralizedTime(e))}P.getTBSCertificate=function(e){var t=hx(e.validity.notBefore),n=hx(e.validity.notAfter),r=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(e.version).getBytes())]),h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,Y.util.hexToBytes(e.serialNumber)),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(e.siginfo.algorithmOid).getBytes()),Sg(e.siginfo.algorithmOid,e.siginfo.parameters)]),gs(e.issuer),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[t,n]),gs(e.subject),P.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&r.value.push(h.create(h.Class.CONTEXT_SPECIFIC,1,!0,[h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&r.value.push(h.create(h.Class.CONTEXT_SPECIFIC,2,!0,[h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&r.value.push(P.certificateExtensionsToAsn1(e.extensions)),r};P.getCertificationRequestInfo=function(e){var t=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(e.version).getBytes()),gs(e.subject),P.publicKeyToAsn1(e.publicKey),ZO(e)]);return t};P.distinguishedNameToAsn1=function(e){return gs(e)};P.certificateToAsn1=function(e){var t=e.tbsCertificate||P.getTBSCertificate(e);return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[t,h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(e.signatureOid).getBytes()),Sg(e.signatureOid,e.signatureParameters)]),h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,"\0"+e.signature)])};P.certificateExtensionsToAsn1=function(e){var t=h.create(h.Class.CONTEXT_SPECIFIC,3,!0,[]),n=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(P.certificateExtensionToAsn1(e[r]));return t};P.certificateExtensionToAsn1=function(e){var t=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[]);t.value.push(h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(e.id).getBytes())),e.critical&&t.value.push(h.create(h.Class.UNIVERSAL,h.Type.BOOLEAN,!1,"\xFF"));var n=e.value;return typeof e.value!="string"&&(n=h.toDer(n).getBytes()),t.value.push(h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,n)),t};P.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||P.getCertificationRequestInfo(e);return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[t,h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(e.signatureOid).getBytes()),Sg(e.signatureOid,e.signatureParameters)]),h.create(h.Class.UNIVERSAL,h.Type.BITSTRING,!1,"\0"+e.signature)])};P.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(s){var a=n(s.issuer);return a},t.addCertificate=function(s){if(typeof s=="string"&&(s=Y.pki.certificateFromPem(s)),r(s.subject),!t.hasCertificate(s))if(s.subject.hash in t.certs){var a=t.certs[s.subject.hash];Y.util.isArray(a)||(a=[a]),a.push(s),t.certs[s.subject.hash]=a}else t.certs[s.subject.hash]=s},t.hasCertificate=function(s){typeof s=="string"&&(s=Y.pki.certificateFromPem(s));var a=n(s.subject);if(!a)return!1;Y.util.isArray(a)||(a=[a]);for(var l=h.toDer(P.certificateToAsn1(s)).getBytes(),u=0;u<a.length;++u){var c=h.toDer(P.certificateToAsn1(a[u])).getBytes();if(l===c)return!0}return!1},t.listAllCertificates=function(){var s=[];for(var a in t.certs)if(t.certs.hasOwnProperty(a)){var l=t.certs[a];if(!Y.util.isArray(l))s.push(l);else for(var u=0;u<l.length;++u)s.push(l[u])}return s},t.removeCertificate=function(s){var a;if(typeof s=="string"&&(s=Y.pki.certificateFromPem(s)),r(s.subject),!t.hasCertificate(s))return null;var l=n(s.subject);if(!Y.util.isArray(l))return a=t.certs[s.subject.hash],delete t.certs[s.subject.hash],a;for(var u=h.toDer(P.certificateToAsn1(s)).getBytes(),c=0;c<l.length;++c){var d=h.toDer(P.certificateToAsn1(l[c])).getBytes();u===d&&(a=l[c],l.splice(c,1))}return l.length===0&&delete t.certs[s.subject.hash],a};function n(s){return r(s),t.certs[s.hash]||null}function r(s){if(!s.hash){var a=Y.md.sha1.create();s.attributes=P.RDNAttributesAsArray(gs(s),a),s.hash=a.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};P.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};P.verifyCertificateChain=function(e,t,n){typeof n=="function"&&(n={verify:n}),n=n||{},t=t.slice(0);var r=t.slice(0),i=n.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,s=null,a=0;do{var l=t.shift(),u=null,c=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:P.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),s===null){if(u=t[0]||e.getIssuer(l),u===null&&l.isIssuer(l)&&(c=!0,u=l),u){var d=u;Y.util.isArray(d)||(d=[d]);for(var f=!1;!f&&d.length>0;){u=d.shift();try{f=u.verify(l)}catch{}}f||(s={message:"Certificate signature is invalid.",error:P.certificateError.bad_certificate})}s===null&&(!u||c)&&!e.hasCertificate(l)&&(s={message:"Certificate is not trusted.",error:P.certificateError.unknown_ca})}if(s===null&&u&&!l.isIssuer(u)&&(s={message:"Certificate issuer is invalid.",error:P.certificateError.bad_certificate}),s===null)for(var v={keyUsage:!0,basicConstraints:!0},m=0;s===null&&m<l.extensions.length;++m){var y=l.extensions[m];y.critical&&!(y.name in v)&&(s={message:"Certificate has an unsupported critical extension.",error:P.certificateError.unsupported_certificate})}if(s===null&&(!o||t.length===0&&(!u||c))){var E=l.getExtension("basicConstraints"),x=l.getExtension("keyUsage");if(x!==null&&(!x.keyCertSign||E===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:P.certificateError.bad_certificate}),s===null&&E!==null&&!E.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:P.certificateError.bad_certificate}),s===null&&x!==null&&"pathLenConstraint"in E){var S=a-1;S>E.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:P.certificateError.bad_certificate})}}var _=s===null?!0:s.error,k=n.verify?n.verify(_,a,r):_;if(k===!0)s=null;else throw _===!0&&(s={message:"The application rejected the certificate.",error:P.certificateError.bad_certificate}),(k||k===0)&&(typeof k=="object"&&!Y.util.isArray(k)?(k.message&&(s.message=k.message),k.error&&(s.error=k.error)):typeof k=="string"&&(s.error=k)),s;o=!1,++a}while(t.length>0);return!0}});var Tg=ae((d6,Cx)=>{"use strict";var Ge=ge();zn();ls();fi();wg();Ig();Sn();Ba();fs();Te();Nc();var C=Ge.asn1,Ee=Ge.pki,Ua=Cx.exports=Ge.pkcs12=Ge.pkcs12||{},yx={name:"ContentInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:C.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},eP={name:"PFX",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"version"},yx,{name:"PFX.macData",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:C.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},tP={name:"SafeBag",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:C.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},nP={name:"Attribute",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0,capture:"values"}]},rP={name:"CertBag",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:C.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:C.Class.UNIVERSAL,type:C.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Va(e,t,n,r){for(var i=[],o=0;o<e.length;o++)for(var s=0;s<e[o].safeBags.length;s++){var a=e[o].safeBags[s];if(!(r!==void 0&&a.type!==r)){if(t===null){i.push(a);continue}a.attributes[t]!==void 0&&a.attributes[t].indexOf(n)>=0&&i.push(a)}}return i}Ua.pkcs12FromAsn1=function(e,t,n){typeof t=="string"?(n=t,t=!0):t===void 0&&(t=!0);var r={},i=[];if(!C.validate(e,eP,r,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var s={version:r.version.charCodeAt(0),safeContents:[],getBags:function(E){var x={},S;return"localKeyId"in E?S=E.localKeyId:"localKeyIdHex"in E&&(S=Ge.util.hexToBytes(E.localKeyIdHex)),S===void 0&&!("friendlyName"in E)&&"bagType"in E&&(x[E.bagType]=Va(s.safeContents,null,null,E.bagType)),S!==void 0&&(x.localKeyId=Va(s.safeContents,"localKeyId",S,E.bagType)),"friendlyName"in E&&(x.friendlyName=Va(s.safeContents,"friendlyName",E.friendlyName,E.bagType)),x},getBagsByFriendlyName:function(E,x){return Va(s.safeContents,"friendlyName",E,x)},getBagsByLocalKeyId:function(E,x){return Va(s.safeContents,"localKeyId",E,x)}};if(r.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=r.version.charCodeAt(0),o}if(C.derToOid(r.contentType)!==Ee.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=C.derToOid(r.contentType),o}var a=r.content.value[0];if(a.tagClass!==C.Class.UNIVERSAL||a.type!==C.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(a=Dg(a),r.mac){var l=null,u=0,c=C.derToOid(r.macAlgorithm);switch(c){case Ee.oids.sha1:l=Ge.md.sha1.create(),u=20;break;case Ee.oids.sha256:l=Ge.md.sha256.create(),u=32;break;case Ee.oids.sha384:l=Ge.md.sha384.create(),u=48;break;case Ee.oids.sha512:l=Ge.md.sha512.create(),u=64;break;case Ee.oids.md5:l=Ge.md.md5.create(),u=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+c);var d=new Ge.util.ByteBuffer(r.macSalt),f="macIterations"in r?parseInt(Ge.util.bytesToHex(r.macIterations),16):1,v=Ua.generateKey(n,d,3,f,u,l),m=Ge.hmac.create();m.start(l,v),m.update(a.value);var y=m.getMac();if(y.getBytes()!==r.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return iP(s,a.value,t,n),s};function Dg(e){if(e.composed||e.constructed){for(var t=Ge.util.createBuffer(),n=0;n<e.value.length;++n)t.putBytes(e.value[n].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function iP(e,t,n,r){if(t=C.fromDer(t,n),t.tagClass!==C.Class.UNIVERSAL||t.type!==C.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],s={},a=[];if(!C.validate(o,yx,s,a)){var l=new Error("Cannot read ContentInfo.");throw l.errors=a,l}var u={encrypted:!1},c=null,d=s.content.value[0];switch(C.derToOid(s.contentType)){case Ee.oids.data:if(d.tagClass!==C.Class.UNIVERSAL||d.type!==C.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");c=Dg(d).value;break;case Ee.oids.encryptedData:c=oP(d,r),u.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=C.derToOid(s.contentType),l}u.safeBags=sP(c,n,r),e.safeContents.push(u)}}function oP(e,t){var n={},r=[];if(!C.validate(e,Ge.pkcs7.asn1.encryptedDataValidator,n,r)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=r,i}var o=C.derToOid(n.contentType);if(o!==Ee.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=C.derToOid(n.encAlgorithm);var s=Ee.pbe.getCipher(o,n.encParameter,t),a=Dg(n.encryptedContentAsn1),l=Ge.util.createBuffer(a.value);if(s.update(l),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function sP(e,t,n){if(!t&&e.length===0)return[];if(e=C.fromDer(e,t),e.tagClass!==C.Class.UNIVERSAL||e.type!==C.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],i=0;i<e.value.length;i++){var o=e.value[i],s={},a=[];if(!C.validate(o,tP,s,a)){var l=new Error("Cannot read SafeBag.");throw l.errors=a,l}var u={type:C.derToOid(s.bagId),attributes:aP(s.bagAttributes)};r.push(u);var c,d,f=s.bagValue.value[0];switch(u.type){case Ee.oids.pkcs8ShroudedKeyBag:if(f=Ee.decryptPrivateKeyInfo(f,n),f===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ee.oids.keyBag:try{u.key=Ee.privateKeyFromAsn1(f)}catch{u.key=null,u.asn1=f}continue;case Ee.oids.certBag:c=rP,d=function(){if(C.derToOid(s.certId)!==Ee.oids.x509Certificate){var m=new Error("Unsupported certificate type, only X.509 supported.");throw m.oid=C.derToOid(s.certId),m}var y=C.fromDer(s.cert,t);try{u.cert=Ee.certificateFromAsn1(y,!0)}catch{u.cert=null,u.asn1=y}};break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=u.type,l}if(c!==void 0&&!C.validate(f,c,s,a)){var l=new Error("Cannot read PKCS#12 "+c.name);throw l.errors=a,l}d()}return r}function aP(e){var t={};if(e!==void 0)for(var n=0;n<e.length;++n){var r={},i=[];if(!C.validate(e[n],nP,r,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var s=C.derToOid(r.oid);if(Ee.oids[s]!==void 0){t[Ee.oids[s]]=[];for(var a=0;a<r.values.length;++a)t[Ee.oids[s]].push(r.values[a].value)}}return t}Ua.toPkcs12Asn1=function(e,t,n,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||r.encAlgorithm||"aes128","useMac"in r||(r.useMac=!0),"localKeyId"in r||(r.localKeyId=null),"generateLocalKeyId"in r||(r.generateLocalKeyId=!0);var i=r.localKeyId,o;if(i!==null)i=Ge.util.hexToBytes(i);else if(r.generateLocalKeyId)if(t){var s=Ge.util.isArray(t)?t[0]:t;typeof s=="string"&&(s=Ee.certificateFromPem(s));var a=Ge.md.sha1.create();a.update(C.toDer(Ee.certificateToAsn1(s)).getBytes()),i=a.digest().getBytes()}else i=Ge.random.getBytes(20);var l=[];i!==null&&l.push(C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.localKeyId).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,i)])])),"friendlyName"in r&&l.push(C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.friendlyName).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,C.Type.BMPSTRING,!1,r.friendlyName)])])),l.length>0&&(o=C.create(C.Class.UNIVERSAL,C.Type.SET,!0,l));var u=[],c=[];t!==null&&(Ge.util.isArray(t)?c=t:c=[t]);for(var d=[],f=0;f<c.length;++f){t=c[f],typeof t=="string"&&(t=Ee.certificateFromPem(t));var v=f===0?o:void 0,m=Ee.certificateToAsn1(t),y=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.certBag).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.x509Certificate).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,C.toDer(m).getBytes())])])]),v]);d.push(y)}if(d.length>0){var E=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,d),x=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.data).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,C.toDer(E).getBytes())])]);u.push(x)}var S=null;if(e!==null){var _=Ee.wrapRsaPrivateKey(Ee.privateKeyToAsn1(e));n===null?S=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.keyBag).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[_]),o]):S=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.pkcs8ShroudedKeyBag).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[Ee.encryptPrivateKeyInfo(_,n,r)]),o]);var k=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[S]),M=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.data).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,C.toDer(k).getBytes())])]);u.push(M)}var N=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,u),ee;if(r.useMac){var a=Ge.md.sha1.create(),he=new Ge.util.ByteBuffer(Ge.random.getBytes(r.saltSize)),ke=r.count,e=Ua.generateKey(n,he,3,ke,20),Ue=Ge.hmac.create();Ue.start(a,e),Ue.update(C.toDer(N).getBytes());var qe=Ue.getMac();ee=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.sha1).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")]),C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,qe.getBytes())]),C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,he.getBytes()),C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(ke).getBytes())])}return C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(3).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(Ee.oids.data).getBytes()),C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,C.toDer(N).getBytes())])]),ee])};Ua.generateKey=Ge.pbe.generatePkcs12Key});var Mg=ae((f6,Ex)=>{"use strict";var mi=ge();zn();fi();Ig();no();bc();Tg();Tc();Ba();Te();Nc();var Ag=mi.asn1,ms=Ex.exports=mi.pki=mi.pki||{};ms.pemToDer=function(e){var t=mi.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return mi.util.createBuffer(t.body)};ms.privateKeyFromPem=function(e){var t=mi.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var r=Ag.fromDer(t.body);return ms.privateKeyFromAsn1(r)};ms.privateKeyToPem=function(e,t){var n={type:"RSA PRIVATE KEY",body:Ag.toDer(ms.privateKeyToAsn1(e)).getBytes()};return mi.pem.encode(n,{maxline:t})};ms.privateKeyInfoToPem=function(e,t){var n={type:"PRIVATE KEY",body:Ag.toDer(e).getBytes()};return mi.pem.encode(n,{maxline:t})}});var Lg=ae((h6,Tx)=>{"use strict";var A=ge();zn();ls();mc();no();Mg();Sn();fs();Te();var Pc=function(e,t,n,r){var i=A.util.createBuffer(),o=e.length>>1,s=o+(e.length&1),a=e.substr(0,s),l=e.substr(o,s),u=A.util.createBuffer(),c=A.hmac.create();n=t+n;var d=Math.ceil(r/16),f=Math.ceil(r/20);c.start("MD5",a);var v=A.util.createBuffer();u.putBytes(n);for(var m=0;m<d;++m)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+n),v.putBuffer(c.digest());c.start("SHA1",l);var y=A.util.createBuffer();u.clear(),u.putBytes(n);for(var m=0;m<f;++m)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+n),y.putBuffer(c.digest());return i.putBytes(A.util.xorBytes(v.getBytes(),y.getBytes(),r)),i},lP=function(e,t,n){var r=A.hmac.create();r.start("SHA1",e);var i=A.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(n.type),i.putByte(n.version.major),i.putByte(n.version.minor),i.putInt16(n.length),i.putBytes(n.fragment.bytes()),r.update(i.getBytes()),r.digest().getBytes()},uP=function(e,t,n){var r=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=A.util.createBuffer(i),t.length=i.length,r=!0}catch{}return r},cP=function(e,t,n){var r=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=A.util.createBuffer(i),t.length=i.length,r=!0}catch{}return r},yn=function(e,t){var n=0;switch(t){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32();break}return A.util.createBuffer(e.getBytes(n))},Mn=function(e,t,n){e.putInt(n.length(),t<<3),e.putBuffer(n)},g={};g.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};g.SupportedVersions=[g.Versions.TLS_1_1,g.Versions.TLS_1_0];g.Version=g.SupportedVersions[0];g.MaxFragment=15360;g.ConnectionEnd={server:0,client:1};g.PRFAlgorithm={tls_prf_sha256:0};g.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};g.CipherType={stream:0,block:1,aead:2};g.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};g.CompressionMethod={none:0,deflate:1};g.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};g.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};g.Alert={};g.Alert.Level={warning:1,fatal:2};g.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};g.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};g.CipherSuites={};g.getCipherSuite=function(e){var t=null;for(var n in g.CipherSuites){var r=g.CipherSuites[n];if(r.id[0]===e.charCodeAt(0)&&r.id[1]===e.charCodeAt(1)){t=r;break}}return t};g.handleUnexpected=function(e,t){var n=!e.open&&e.entity===g.ConnectionEnd.client;n||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.unexpected_message}})};g.handleHelloRequest=function(e,t,n){!e.handshaking&&e.handshakes>0&&(g.queue(e,g.createAlert(e,{level:g.Alert.Level.warning,description:g.Alert.Description.no_renegotiation})),g.flush(e)),e.process()};g.parseHelloMessage=function(e,t,n){var r=null,i=e.entity===g.ConnectionEnd.client;if(n<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}});else{var o=t.fragment,s=o.length();if(r={version:{major:o.getByte(),minor:o.getByte()},random:A.util.createBuffer(o.getBytes(32)),session_id:yn(o,1),extensions:[]},i?(r.cipher_suite=o.getBytes(2),r.compression_method=o.getByte()):(r.cipher_suites=yn(o,2),r.compression_methods=yn(o,1)),s=n-(s-o.length()),s>0){for(var a=yn(o,2);a.length()>0;)r.extensions.push({type:[a.getByte(),a.getByte()],data:yn(a,2)});if(!i)for(var l=0;l<r.extensions.length;++l){var u=r.extensions[l];if(u.type[0]===0&&u.type[1]===0)for(var c=yn(u.data,2);c.length()>0;){var d=c.getByte();if(d!==0)break;e.session.extensions.server_name.serverNameList.push(yn(c,2).getBytes())}}}if(e.session.version&&(r.version.major!==e.session.version.major||r.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=g.getCipherSuite(r.cipher_suite);else for(var f=A.util.createBuffer(r.cipher_suites.bytes());f.length()>0&&(e.session.cipherSuite=g.getCipherSuite(f.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.handshake_failure},cipherSuite:A.util.bytesToHex(r.cipher_suite)});i?e.session.compressionMethod=r.compression_method:e.session.compressionMethod=g.CompressionMethod.none}return r};g.createSecurityParameters=function(e,t){var n=e.entity===g.ConnectionEnd.client,r=t.random.bytes(),i=n?e.session.sp.client_random:r,o=n?r:g.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:g.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};g.handleServerHello=function(e,t,n){var r=g.parseHelloMessage(e,t,n);if(!e.fail){if(r.version.minor<=e.version.minor)e.version.minor=r.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.protocol_version}});e.session.version=e.version;var i=r.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=Ix,e.session.resuming=!0,e.session.sp.server_random=r.random.bytes()):(e.expect=fP,e.session.resuming=!1,g.createSecurityParameters(e,r)),e.session.id=i,e.process()}};g.handleClientHello=function(e,t,n){var r=g.parseHelloMessage(e,t,n);if(!e.fail){var i=r.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==r.version.major||o.version.minor>r.version.minor)&&(o=null,i="")),i.length===0&&(i=A.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=r.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var s,a=1;a<g.SupportedVersions.length&&(s=g.SupportedVersions[a],!(s.minor<=r.version.minor));++a);e.version={major:s.major,minor:s.minor},e.session.version=e.version}o!==null?(e.expect=Og,e.session.resuming=!0,e.session.sp.client_random=r.random.bytes()):(e.expect=e.verifyClient!==!1?CP:kg,e.session.resuming=!1,g.createSecurityParameters(e,r)),e.open=!0,g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createServerHello(e)})),e.session.resuming?(g.queue(e,g.createRecord(e,{type:g.ContentType.change_cipher_spec,data:g.createChangeCipherSpec()})),e.state.pending=g.createConnectionState(e),e.state.current.write=e.state.pending.write,g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createFinished(e)}))):(g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createCertificate(e)})),e.fail||(g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createServerKeyExchange(e)})),e.verifyClient!==!1&&g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createCertificateRequest(e)})),g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createServerHelloDone(e)})))),g.flush(e),e.process()}};g.handleCertificate=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}});var r=t.fragment,i={certificate_list:yn(r,3)},o,s,a=[];try{for(;i.certificate_list.length()>0;)o=yn(i.certificate_list,3),s=A.asn1.fromDer(o),o=A.pki.certificateFromAsn1(s,!0),a.push(o)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.bad_certificate}})}var l=e.entity===g.ConnectionEnd.client;(l||e.verifyClient===!0)&&a.length===0?e.error(e,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}}):a.length===0?e.expect=l?bx:kg:(l?e.session.serverCertificate=a[0]:e.session.clientCertificate=a[0],g.verifyCertificateChain(e,a)&&(e.expect=l?bx:kg)),e.process()};g.handleServerKeyExchange=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.unsupported_certificate}});e.expect=hP,e.process()};g.handleClientKeyExchange=function(e,t,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.unsupported_certificate}});var r=t.fragment,i={enc_pre_master_secret:yn(r,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=A.pki.privateKeyFromPem(o)}catch(l){e.error(e,{message:"Could not get private key.",cause:l,send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var a=e.session.clientHelloVersion;if(a.major!==s.pre_master_secret.charCodeAt(0)||a.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{s.pre_master_secret=A.random.getBytes(48)}e.expect=Og,e.session.clientCertificate!==null&&(e.expect=EP),e.process()};g.handleCertificateRequest=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}});var r=t.fragment,i={certificate_types:yn(r,1),certificate_authorities:yn(r,2)};e.session.certificateRequest=i,e.expect=pP,e.process()};g.handleCertificateVerify=function(e,t,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}});var r=t.fragment;r.read-=4;var i=r.bytes();r.read+=4;var o={signature:yn(r,2).getBytes()},s=A.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{var a=e.session.clientCertificate;if(!a.publicKey.verify(s,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.handshake_failure}})}e.expect=Og,e.process()};g.handleServerHelloDone=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.record_overflow}});if(e.serverCertificate===null){var r={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.insufficient_security}},i=0,o=e.verify(e,r.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!A.util.isArray(o)?(o.message&&(r.message=o.message),o.alert&&(r.alert.description=o.alert)):typeof o=="number"&&(r.alert.description=o)),e.error(e,r)}e.session.certificateRequest!==null&&(t=g.createRecord(e,{type:g.ContentType.handshake,data:g.createCertificate(e)}),g.queue(e,t)),t=g.createRecord(e,{type:g.ContentType.handshake,data:g.createClientKeyExchange(e)}),g.queue(e,t),e.expect=vP;var s=function(a,l){a.session.certificateRequest!==null&&a.session.clientCertificate!==null&&g.queue(a,g.createRecord(a,{type:g.ContentType.handshake,data:g.createCertificateVerify(a,l)})),g.queue(a,g.createRecord(a,{type:g.ContentType.change_cipher_spec,data:g.createChangeCipherSpec()})),a.state.pending=g.createConnectionState(a),a.state.current.write=a.state.pending.write,g.queue(a,g.createRecord(a,{type:g.ContentType.handshake,data:g.createFinished(a)})),a.expect=Ix,g.flush(a),a.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return s(e,null);g.getClientSignature(e,s)};g.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.illegal_parameter}});var n=e.entity===g.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=g.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null),e.expect=n?gP:bP,e.process()};g.handleFinished=function(e,t,n){var r=t.fragment;r.read-=4;var i=r.bytes();r.read+=4;var o=t.fragment.getBytes();r=A.util.createBuffer(),r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest());var s=e.entity===g.ConnectionEnd.client,a=s?"server finished":"client finished",l=e.session.sp,u=12,c=Pc;if(r=c(l.master_secret,a,r.getBytes(),u),r.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&s||!e.session.resuming&&!s)&&(g.queue(e,g.createRecord(e,{type:g.ContentType.change_cipher_spec,data:g.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,g.queue(e,g.createRecord(e,{type:g.ContentType.handshake,data:g.createFinished(e)}))),e.expect=s?mP:xP,e.handshaking=!1,++e.handshakes,e.peerCertificate=s?e.session.serverCertificate:e.session.clientCertificate,g.flush(e),e.isConnected=!0,e.connected(e),e.process()};g.handleAlert=function(e,t){var n=t.fragment,r={level:n.getByte(),description:n.getByte()},i;switch(r.description){case g.Alert.Description.close_notify:i="Connection closed.";break;case g.Alert.Description.unexpected_message:i="Unexpected message.";break;case g.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case g.Alert.Description.decryption_failed:i="Decryption failed.";break;case g.Alert.Description.record_overflow:i="Record overflow.";break;case g.Alert.Description.decompression_failure:i="Decompression failed.";break;case g.Alert.Description.handshake_failure:i="Handshake failure.";break;case g.Alert.Description.bad_certificate:i="Bad certificate.";break;case g.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case g.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case g.Alert.Description.certificate_expired:i="Certificate expired.";break;case g.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case g.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case g.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case g.Alert.Description.access_denied:i="Access denied.";break;case g.Alert.Description.decode_error:i="Decode error.";break;case g.Alert.Description.decrypt_error:i="Decrypt error.";break;case g.Alert.Description.export_restriction:i="Export restriction.";break;case g.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case g.Alert.Description.insufficient_security:i="Insufficient security.";break;case g.Alert.Description.internal_error:i="Internal error.";break;case g.Alert.Description.user_canceled:i="User canceled.";break;case g.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(r.description===g.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===g.ConnectionEnd.client?"server":"client",alert:r}),e.process()};g.handleHandshake=function(e,t){var n=t.fragment,r=n.getByte(),i=n.getInt24();if(i>n.length())return e.fragmented=t,t.fragment=A.util.createBuffer(),n.read-=4,e.process();e.fragmented=null,n.read-=4;var o=n.bytes(i+4);n.read+=4,r in Oc[e.entity][e.expect]?(e.entity===g.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:A.md.md5.create(),sha1:A.md.sha1.create()}),r!==g.HandshakeType.hello_request&&r!==g.HandshakeType.certificate_verify&&r!==g.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),Oc[e.entity][e.expect][r](e,t,i)):g.handleUnexpected(e,t)};g.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};g.handleHeartbeat=function(e,t){var n=t.fragment,r=n.getByte(),i=n.getInt16(),o=n.getBytes(i);if(r===g.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();g.queue(e,g.createRecord(e,{type:g.ContentType.heartbeat,data:g.createHeartbeat(g.HeartbeatMessageType.heartbeat_response,o)})),g.flush(e)}else if(r===g.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,A.util.createBuffer(o))}e.process()};var dP=0,fP=1,bx=2,hP=3,pP=4,Ix=5,gP=6,mP=7,vP=8,yP=0,CP=1,kg=2,EP=3,Og=4,bP=5,xP=6,p=g.handleUnexpected,wx=g.handleChangeCipherSpec,_t=g.handleAlert,Jt=g.handleHandshake,_x=g.handleApplicationData,St=g.handleHeartbeat,Pg=[];Pg[g.ConnectionEnd.client]=[[p,_t,Jt,p,St],[p,_t,Jt,p,St],[p,_t,Jt,p,St],[p,_t,Jt,p,St],[p,_t,Jt,p,St],[wx,_t,p,p,St],[p,_t,Jt,p,St],[p,_t,Jt,_x,St],[p,_t,Jt,p,St]];Pg[g.ConnectionEnd.server]=[[p,_t,Jt,p,St],[p,_t,Jt,p,St],[p,_t,Jt,p,St],[p,_t,Jt,p,St],[wx,_t,p,p,St],[p,_t,Jt,p,St],[p,_t,Jt,_x,St],[p,_t,Jt,p,St]];var vi=g.handleHelloRequest,IP=g.handleServerHello,Sx=g.handleCertificate,xx=g.handleServerKeyExchange,Ng=g.handleCertificateRequest,Rc=g.handleServerHelloDone,Dx=g.handleFinished,Oc=[];Oc[g.ConnectionEnd.client]=[[p,p,IP,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,Sx,xx,Ng,Rc,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,xx,Ng,Rc,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,p,Ng,Rc,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,p,p,Rc,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Dx],[vi,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[vi,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];var wP=g.handleClientHello,_P=g.handleClientKeyExchange,SP=g.handleCertificateVerify;Oc[g.ConnectionEnd.server]=[[p,wP,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,Sx,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,_P,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,SP,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Dx],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];g.generateKeys=function(e,t){var n=Pc,r=t.client_random+t.server_random;e.session.resuming||(t.master_secret=n(t.pre_master_secret,"master secret",r,48).bytes(),t.pre_master_secret=null),r=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===g.Versions.TLS_1_0.major&&e.version.minor===g.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var s=n(t.master_secret,"key expansion",r,i),a={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return o&&(a.client_write_IV=s.getBytes(t.fixed_iv_length),a.server_write_IV=s.getBytes(t.fixed_iv_length)),a};g.createConnectionState=function(e){var t=e.entity===g.ConnectionEnd.client,n=function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},r={read:n(),write:n()};if(r.read.update=function(o,s){return r.read.cipherFunction(s,r.read)?r.read.compressFunction(o,s,r.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.bad_record_mac}}),!o.fail},r.write.update=function(o,s){return r.write.compressFunction(o,s,r.write)?r.write.cipherFunction(s,r.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=g.generateKeys(e,i),r.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,r.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(r,e,i),i.compression_algorithm){case g.CompressionMethod.none:break;case g.CompressionMethod.deflate:r.read.compressFunction=cP,r.write.compressFunction=uP;break;default:throw new Error("Unsupported compression algorithm.")}}return r};g.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,n=A.util.createBuffer();return n.putInt32(t),n.putBytes(A.random.getBytes(28)),n};g.createRecord=function(e,t){if(!t.data)return null;var n={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return n};g.createAlert=function(e,t){var n=A.util.createBuffer();return n.putByte(t.level),n.putByte(t.description),g.createRecord(e,{type:g.ContentType.alert,data:n})};g.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=A.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var r=e.cipherSuites[n];t.putByte(r.id[0]),t.putByte(r.id[1])}var i=t.length(),o=A.util.createBuffer();o.putByte(g.CompressionMethod.none);var s=o.length(),a=A.util.createBuffer();if(e.virtualHost){var l=A.util.createBuffer();l.putByte(0),l.putByte(0);var u=A.util.createBuffer();u.putByte(0),Mn(u,2,A.util.createBuffer(e.virtualHost));var c=A.util.createBuffer();Mn(c,2,u),Mn(l,2,c),a.putBuffer(l)}var d=a.length();d>0&&(d+=2);var f=e.session.id,v=f.length+1+2+4+28+2+i+1+s+d,m=A.util.createBuffer();return m.putByte(g.HandshakeType.client_hello),m.putInt24(v),m.putByte(e.version.major),m.putByte(e.version.minor),m.putBytes(e.session.sp.client_random),Mn(m,1,A.util.createBuffer(f)),Mn(m,2,t),Mn(m,1,o),d>0&&Mn(m,2,a),m};g.createServerHello=function(e){var t=e.session.id,n=t.length+1+2+4+28+2+1,r=A.util.createBuffer();return r.putByte(g.HandshakeType.server_hello),r.putInt24(n),r.putByte(e.version.major),r.putByte(e.version.minor),r.putBytes(e.session.sp.server_random),Mn(r,1,A.util.createBuffer(t)),r.putByte(e.session.cipherSuite.id[0]),r.putByte(e.session.cipherSuite.id[1]),r.putByte(e.session.compressionMethod),r};g.createCertificate=function(e){var t=e.entity===g.ConnectionEnd.client,n=null;if(e.getCertificate){var r;t?r=e.session.certificateRequest:r=e.session.extensions.server_name.serverNameList,n=e.getCertificate(e,r)}var i=A.util.createBuffer();if(n!==null)try{A.util.isArray(n)||(n=[n]);for(var o=null,s=0;s<n.length;++s){var a=A.pem.decode(n[s])[0];if(a.type!=="CERTIFICATE"&&a.type!=="X509 CERTIFICATE"&&a.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=a.type,l}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=A.util.createBuffer(a.body);o===null&&(o=A.asn1.fromDer(u.bytes(),!1));var c=A.util.createBuffer();Mn(c,3,u),i.putBuffer(c)}n=A.pki.certificateFromAsn1(o),t?e.session.clientCertificate=n:e.session.serverCertificate=n}catch(v){return e.error(e,{message:"Could not send certificate list.",cause:v,send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.bad_certificate}})}var d=3+i.length(),f=A.util.createBuffer();return f.putByte(g.HandshakeType.certificate),f.putInt24(d),Mn(f,3,i),f};g.createClientKeyExchange=function(e){var t=A.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(A.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=t.getBytes();var r=e.session.serverCertificate.publicKey;t=r.encrypt(n.pre_master_secret);var i=t.length+2,o=A.util.createBuffer();return o.putByte(g.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};g.createServerKeyExchange=function(e){var t=0,n=A.util.createBuffer();return t>0&&(n.putByte(g.HandshakeType.server_key_exchange),n.putInt24(t)),n};g.getClientSignature=function(e,t){var n=A.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes(),e.getSignature=e.getSignature||function(r,i,o){var s=null;if(r.getPrivateKey)try{s=r.getPrivateKey(r,r.session.clientCertificate),s=A.pki.privateKeyFromPem(s)}catch(a){r.error(r,{message:"Could not get private key.",cause:a,send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}})}s===null?r.error(r,{message:"No private key set.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.internal_error}}):i=s.sign(i,null),o(r,i)},e.getSignature(e,n,t)};g.createCertificateVerify=function(e,t){var n=t.length+2,r=A.util.createBuffer();return r.putByte(g.HandshakeType.certificate_verify),r.putInt24(n),r.putInt16(t.length),r.putBytes(t),r};g.createCertificateRequest=function(e){var t=A.util.createBuffer();t.putByte(1);var n=A.util.createBuffer();for(var r in e.caStore.certs){var i=e.caStore.certs[r],o=A.pki.distinguishedNameToAsn1(i.subject),s=A.asn1.toDer(o);n.putInt16(s.length()),n.putBuffer(s)}var a=1+t.length()+2+n.length(),l=A.util.createBuffer();return l.putByte(g.HandshakeType.certificate_request),l.putInt24(a),Mn(l,1,t),Mn(l,2,n),l};g.createServerHelloDone=function(e){var t=A.util.createBuffer();return t.putByte(g.HandshakeType.server_hello_done),t.putInt24(0),t};g.createChangeCipherSpec=function(){var e=A.util.createBuffer();return e.putByte(1),e};g.createFinished=function(e){var t=A.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var n=e.entity===g.ConnectionEnd.client,r=e.session.sp,i=12,o=Pc,s=n?"client finished":"server finished";t=o(r.master_secret,s,t.getBytes(),i);var a=A.util.createBuffer();return a.putByte(g.HandshakeType.finished),a.putInt24(t.length()),a.putBuffer(t),a};g.createHeartbeat=function(e,t,n){typeof n>"u"&&(n=t.length);var r=A.util.createBuffer();r.putByte(e),r.putInt16(n),r.putBytes(t);var i=r.length(),o=Math.max(16,i-n-3);return r.putBytes(A.random.getBytes(o)),r};g.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===g.ContentType.handshake||t.type===g.ContentType.alert||t.type===g.ContentType.change_cipher_spec))){if(t.type===g.ContentType.handshake){var n=t.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}var r;if(t.fragment.length()<=g.MaxFragment)r=[t];else{r=[];for(var i=t.fragment.bytes();i.length>g.MaxFragment;)r.push(g.createRecord(e,{type:t.type,data:A.util.createBuffer(i.slice(0,g.MaxFragment))})),i=i.slice(g.MaxFragment);i.length>0&&r.push(g.createRecord(e,{type:t.type,data:A.util.createBuffer(i)}))}for(var o=0;o<r.length&&!e.fail;++o){var s=r[o],a=e.state.current.write;a.update(e,s)&&e.records.push(s)}}};g.flush=function(e){for(var t=0;t<e.records.length;++t){var n=e.records[t];e.tlsData.putByte(n.type),e.tlsData.putByte(n.version.major),e.tlsData.putByte(n.version.minor),e.tlsData.putInt16(n.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Rg=function(e){switch(e){case!0:return!0;case A.pki.certificateError.bad_certificate:return g.Alert.Description.bad_certificate;case A.pki.certificateError.unsupported_certificate:return g.Alert.Description.unsupported_certificate;case A.pki.certificateError.certificate_revoked:return g.Alert.Description.certificate_revoked;case A.pki.certificateError.certificate_expired:return g.Alert.Description.certificate_expired;case A.pki.certificateError.certificate_unknown:return g.Alert.Description.certificate_unknown;case A.pki.certificateError.unknown_ca:return g.Alert.Description.unknown_ca;default:return g.Alert.Description.bad_certificate}},DP=function(e){switch(e){case!0:return!0;case g.Alert.Description.bad_certificate:return A.pki.certificateError.bad_certificate;case g.Alert.Description.unsupported_certificate:return A.pki.certificateError.unsupported_certificate;case g.Alert.Description.certificate_revoked:return A.pki.certificateError.certificate_revoked;case g.Alert.Description.certificate_expired:return A.pki.certificateError.certificate_expired;case g.Alert.Description.certificate_unknown:return A.pki.certificateError.certificate_unknown;case g.Alert.Description.unknown_ca:return A.pki.certificateError.unknown_ca;default:return A.pki.certificateError.bad_certificate}};g.verifyCertificateChain=function(e,t){try{var n={};for(var r in e.verifyOptions)n[r]=e.verifyOptions[r];n.verify=function(o,s,a){var l=Rg(o),u=e.verify(e,o,s,a);if(u!==!0){if(typeof u=="object"&&!A.util.isArray(u)){var c=new Error("The application rejected the certificate.");throw c.send=!0,c.alert={level:g.Alert.Level.fatal,description:g.Alert.Description.bad_certificate},u.message&&(c.message=u.message),u.alert&&(c.alert.description=u.alert),c}u!==o&&(u=DP(u))}return u},A.pki.verifyCertificateChain(e.caStore,t,n)}catch(o){var i=o;(typeof i!="object"||A.util.isArray(i))&&(i={send:!0,alert:{level:g.Alert.Level.fatal,description:Rg(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:g.Alert.Level.fatal,description:Rg(i.error)}),e.error(e,i)}return!e.fail};g.createSessionCache=function(e,t){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{n={},n.cache=e||{},n.capacity=Math.max(t||100,1),n.order=[];for(var r in e)n.order.length<=t?n.order.push(r):delete e[r];n.getSession=function(i){var o=null,s=null;if(i?s=A.util.bytesToHex(i):n.order.length>0&&(s=n.order[0]),s!==null&&s in n.cache){o=n.cache[s],delete n.cache[s];for(var a in n.order)if(n.order[a]===s){n.order.splice(a,1);break}}return o},n.setSession=function(i,o){if(n.order.length===n.capacity){var s=n.order.shift();delete n.cache[s]}var s=A.util.bytesToHex(i);n.order.push(s),n.cache[s]=o}}return n};g.createConnection=function(e){var t=null;e.caStore?A.util.isArray(e.caStore)?t=A.pki.createCaStore(e.caStore):t=e.caStore:t=A.pki.createCaStore();var n=e.cipherSuites||null;if(n===null){n=[];for(var r in g.CipherSuites)n.push(g.CipherSuites[r])}var i=e.server?g.ConnectionEnd.server:g.ConnectionEnd.client,o=e.sessionCache?g.createSessionCache(e.sessionCache):null,s={version:{major:g.Version.major,minor:g.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(c,d,f,v){return d},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:A.util.createBuffer(),tlsData:A.util.createBuffer(),data:A.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(c,d){d.origin=d.origin||(c.entity===g.ConnectionEnd.client?"client":"server"),d.send&&(g.queue(c,g.createAlert(c,d.alert)),g.flush(c));var f=d.fatal!==!1;f&&(c.fail=!0),e.error(c,d),f&&c.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(c){s.version={major:g.Version.major,minor:g.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===g.ConnectionEnd.client?dP:yP,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(c||typeof c>"u"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=g.createConnectionState(s)},s.reset();var a=function(c,d){var f=d.type-g.ContentType.change_cipher_spec,v=Pg[c.entity][c.expect];f in v?v[f](c,d):g.handleUnexpected(c,d)},l=function(c){var d=0,f=c.input,v=f.length();if(v<5)d=5-v;else{c.record={type:f.getByte(),version:{major:f.getByte(),minor:f.getByte()},length:f.getInt16(),fragment:A.util.createBuffer(),ready:!1};var m=c.record.version.major===c.version.major;m&&c.session&&c.session.version&&(m=c.record.version.minor===c.version.minor),m||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.protocol_version}})}return d},u=function(c){var d=0,f=c.input,v=f.length();if(v<c.record.length)d=c.record.length-v;else{c.record.fragment.putBytes(f.getBytes(c.record.length)),f.compact();var m=c.state.current.read;m.update(c,c.record)&&(c.fragmented!==null&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:g.Alert.Level.fatal,description:g.Alert.Description.unexpected_message}})),c.record.ready=!0)}return d};return s.handshake=function(c){if(s.entity!==g.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,c=c||"";var d=null;c.length>0&&(s.sessionCache&&(d=s.sessionCache.getSession(c)),d===null&&(c="")),c.length===0&&s.sessionCache&&(d=s.sessionCache.getSession(),d!==null&&(c=d.id)),s.session={id:c,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:A.md.md5.create(),sha1:A.md.sha1.create()},d&&(s.version=d.version,s.session.sp=d.sp),s.session.sp.client_random=g.createRandom().getBytes(),s.open=!0,g.queue(s,g.createRecord(s,{type:g.ContentType.handshake,data:g.createClientHello(s)})),g.flush(s)}},s.process=function(c){var d=0;return c&&s.input.putBytes(c),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(d=l(s)),!s.fail&&s.record!==null&&!s.record.ready&&(d=u(s)),!s.fail&&s.record!==null&&s.record.ready&&a(s,s.record)),d},s.prepare=function(c){return g.queue(s,g.createRecord(s,{type:g.ContentType.application_data,data:A.util.createBuffer(c)})),g.flush(s)},s.prepareHeartbeatRequest=function(c,d){return c instanceof A.util.ByteBuffer&&(c=c.bytes()),typeof d>"u"&&(d=c.length),s.expectedHeartbeatPayload=c,g.queue(s,g.createRecord(s,{type:g.ContentType.heartbeat,data:g.createHeartbeat(g.HeartbeatMessageType.heartbeat_request,c,d)})),g.flush(s)},s.close=function(c){if(!s.fail&&s.sessionCache&&s.session){var d={id:s.session.id,version:s.session.version,sp:s.session.sp};d.sp.keys=null,s.sessionCache.setSession(d.id,d)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,g.queue(s,g.createAlert(s,{level:g.Alert.Level.warning,description:g.Alert.Description.close_notify})),g.flush(s)),s.closed(s)),s.reset(c)},s};Tx.exports=A.tls=A.tls||{};for(kc in g)typeof g[kc]!="function"&&(A.tls[kc]=g[kc]);var kc;A.tls.prf_tls1=Pc;A.tls.hmac_sha1=lP;A.tls.createSessionCache=g.createSessionCache;A.tls.createConnection=g.createConnection});var Nx=ae((p6,Mx)=>{"use strict";var yi=ge();di();Lg();var Nn=Mx.exports=yi.tls;Nn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Nn.BulkCipherAlgorithm.aes,e.cipher_type=Nn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Nn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Ax};Nn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Nn.BulkCipherAlgorithm.aes,e.cipher_type=Nn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Nn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Ax};function Ax(e,t,n){var r=t.entity===yi.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:yi.cipher.createDecipher("AES-CBC",r?n.keys.server_write_key:n.keys.client_write_key),iv:r?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:yi.cipher.createCipher("AES-CBC",r?n.keys.client_write_key:n.keys.server_write_key),iv:r?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=NP,e.write.cipherFunction=TP,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=Nn.hmac_sha1}function TP(e,t){var n=!1,r=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(r),t.updateSequenceNumber();var i;e.version.minor===Nn.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=yi.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=Nn.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(AP)&&(e.fragment=o.output,e.length=e.fragment.length(),n=!0),n}function AP(e,t,n){if(!n){var r=e-t.length()%e;t.fillWithByte(r-1,r)}return!0}function MP(e,t,n){var r=!0;if(n){for(var i=t.length(),o=t.last(),s=i-1-o;s<i-1;++s)r=r&&t.at(s)==o;r&&t.truncate(o+1)}return r}function NP(e,t){var n=!1,r;e.version.minor===Nn.Versions.TLS_1_0.minor?r=t.cipherState.init?null:t.cipherState.iv:r=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:r}),i.update(e.fragment),n=i.finish(MP);var o=t.macLength,s=yi.random.getBytesSync(o),a=i.output.length();a>=o?(e.fragment=i.output.getBytes(a-o),s=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=yi.util.createBuffer(e.fragment),e.length=e.fragment.length();var l=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),n=RP(t.macKey,s,l)&&n,n}function RP(e,t,n){var r=yi.hmac.create();return r.start("SHA1",e),r.update(t),t=r.digest().getBytes(),r.start(null,null),r.update(n),n=r.digest().getBytes(),t===n}});var Vg=ae((g6,Px)=>{"use strict";var et=ge();sr();Te();var ja=Px.exports=et.sha512=et.sha512||{};et.md.sha512=et.md.algorithms.sha512=ja;var kx=et.sha384=et.sha512.sha384=et.sha512.sha384||{};kx.create=function(){return ja.create("SHA-384")};et.md.sha384=et.md.algorithms.sha384=kx;et.sha512.sha256=et.sha512.sha256||{create:function(){return ja.create("SHA-512/256")}};et.md["sha512/256"]=et.md.algorithms["sha512/256"]=et.sha512.sha256;et.sha512.sha224=et.sha512.sha224||{create:function(){return ja.create("SHA-512/224")}};et.md["sha512/224"]=et.md.algorithms["sha512/224"]=et.sha512.sha224;ja.create=function(e){if(Ox||kP(),typeof e>"u"&&(e="SHA-512"),!(e in lo))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=lo[e],n=null,r=et.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var a={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var l=a.messageLengthSize/4,u=0;u<l;++u)a.fullMessageLength.push(0);r=et.util.createBuffer(),n=new Array(t.length);for(var u=0;u<t.length;++u)n[u]=t[u].slice(0);return a},a.start(),a.update=function(l,u){u==="utf8"&&(l=et.util.encodeUtf8(l));var c=l.length;a.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var d=a.fullMessageLength.length-1;d>=0;--d)a.fullMessageLength[d]+=c[1],c[1]=c[0]+(a.fullMessageLength[d]/4294967296>>>0),a.fullMessageLength[d]=a.fullMessageLength[d]>>>0,c[0]=c[1]/4294967296>>>0;return r.putBytes(l),Rx(n,i,r),(r.read>2048||r.length()===0)&&r.compact(),a},a.digest=function(){var l=et.util.createBuffer();l.putBytes(r.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,c=u&a.blockLength-1;l.putBytes(Fg.substr(0,a.blockLength-c));for(var d,f,v=a.fullMessageLength[0]*8,m=0;m<a.fullMessageLength.length-1;++m)d=a.fullMessageLength[m+1]*8,f=d/4294967296>>>0,v+=f,l.putInt32(v>>>0),v=d>>>0;l.putInt32(v);for(var y=new Array(n.length),m=0;m<n.length;++m)y[m]=n[m].slice(0);Rx(y,i,l);var E=et.util.createBuffer(),x;e==="SHA-512"?x=y.length:e==="SHA-384"?x=y.length-2:x=y.length-4;for(var m=0;m<x;++m)E.putInt32(y[m][0]),(m!==x-1||e!=="SHA-512/224")&&E.putInt32(y[m][1]);return E},a};var Fg=null,Ox=!1,Bg=null,lo=null;function kP(){Fg="\x80",Fg+=et.util.fillString("\0",128),Bg=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],lo={},lo["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],lo["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],lo["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],lo["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Ox=!0}function Rx(e,t,n){for(var r,i,o,s,a,l,u,c,d,f,v,m,y,E,x,S,_,k,M,N,ee,he,ke,Ue,qe,Ke,Ht,En,je,lt,K,bi,fo,ut,ct,ht=n.length();ht>=128;){for(je=0;je<16;++je)t[je][0]=n.getInt32()>>>0,t[je][1]=n.getInt32()>>>0;for(;je<80;++je)bi=t[je-2],lt=bi[0],K=bi[1],r=((lt>>>19|K<<13)^(K>>>29|lt<<3)^lt>>>6)>>>0,i=((lt<<13|K>>>19)^(K<<3|lt>>>29)^(lt<<26|K>>>6))>>>0,ut=t[je-15],lt=ut[0],K=ut[1],o=((lt>>>1|K<<31)^(lt>>>8|K<<24)^lt>>>7)>>>0,s=((lt<<31|K>>>1)^(lt<<24|K>>>8)^(lt<<25|K>>>7))>>>0,fo=t[je-7],ct=t[je-16],K=i+fo[1]+s+ct[1],t[je][0]=r+fo[0]+o+ct[0]+(K/4294967296>>>0)>>>0,t[je][1]=K>>>0;for(y=e[0][0],E=e[0][1],x=e[1][0],S=e[1][1],_=e[2][0],k=e[2][1],M=e[3][0],N=e[3][1],ee=e[4][0],he=e[4][1],ke=e[5][0],Ue=e[5][1],qe=e[6][0],Ke=e[6][1],Ht=e[7][0],En=e[7][1],je=0;je<80;++je)u=((ee>>>14|he<<18)^(ee>>>18|he<<14)^(he>>>9|ee<<23))>>>0,c=((ee<<18|he>>>14)^(ee<<14|he>>>18)^(he<<23|ee>>>9))>>>0,d=(qe^ee&(ke^qe))>>>0,f=(Ke^he&(Ue^Ke))>>>0,a=((y>>>28|E<<4)^(E>>>2|y<<30)^(E>>>7|y<<25))>>>0,l=((y<<4|E>>>28)^(E<<30|y>>>2)^(E<<25|y>>>7))>>>0,v=(y&x|_&(y^x))>>>0,m=(E&S|k&(E^S))>>>0,K=En+c+f+Bg[je][1]+t[je][1],r=Ht+u+d+Bg[je][0]+t[je][0]+(K/4294967296>>>0)>>>0,i=K>>>0,K=l+m,o=a+v+(K/4294967296>>>0)>>>0,s=K>>>0,Ht=qe,En=Ke,qe=ke,Ke=Ue,ke=ee,Ue=he,K=N+i,ee=M+r+(K/4294967296>>>0)>>>0,he=K>>>0,M=_,N=k,_=x,k=S,x=y,S=E,K=i+s,y=r+o+(K/4294967296>>>0)>>>0,E=K>>>0;K=e[0][1]+E,e[0][0]=e[0][0]+y+(K/4294967296>>>0)>>>0,e[0][1]=K>>>0,K=e[1][1]+S,e[1][0]=e[1][0]+x+(K/4294967296>>>0)>>>0,e[1][1]=K>>>0,K=e[2][1]+k,e[2][0]=e[2][0]+_+(K/4294967296>>>0)>>>0,e[2][1]=K>>>0,K=e[3][1]+N,e[3][0]=e[3][0]+M+(K/4294967296>>>0)>>>0,e[3][1]=K>>>0,K=e[4][1]+he,e[4][0]=e[4][0]+ee+(K/4294967296>>>0)>>>0,e[4][1]=K>>>0,K=e[5][1]+Ue,e[5][0]=e[5][0]+ke+(K/4294967296>>>0)>>>0,e[5][1]=K>>>0,K=e[6][1]+Ke,e[6][0]=e[6][0]+qe+(K/4294967296>>>0)>>>0,e[6][1]=K>>>0,K=e[7][1]+En,e[7][0]=e[7][0]+Ht+(K/4294967296>>>0)>>>0,e[7][1]=K>>>0,ht-=128}}});var Lx=ae(Ug=>{"use strict";var OP=ge();zn();var bt=OP.asn1;Ug.privateKeyValidator={name:"PrivateKeyInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Ug.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:bt.Class.UNIVERSAL,type:bt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Qx=ae((v6,Wx)=>{"use strict";var Dt=ge();Fa();Sn();Vg();Te();var $x=Lx(),PP=$x.publicKeyValidator,LP=$x.privateKeyValidator;typeof Fx>"u"&&(Fx=Dt.jsbn.BigInteger);var Fx,Hg=Dt.util.ByteBuffer,un=typeof Buffer>"u"?Uint8Array:Buffer;Dt.pki=Dt.pki||{};Wx.exports=Dt.pki.ed25519=Dt.ed25519=Dt.ed25519||{};var be=Dt.ed25519;be.constants={};be.constants.PUBLIC_KEY_BYTE_LENGTH=32;be.constants.PRIVATE_KEY_BYTE_LENGTH=64;be.constants.SEED_BYTE_LENGTH=32;be.constants.SIGN_BYTE_LENGTH=64;be.constants.HASH_BYTE_LENGTH=64;be.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Dt.random.getBytesSync(be.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==be.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+be.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=$r({message:t,encoding:"binary"});for(var n=new un(be.constants.PUBLIC_KEY_BYTE_LENGTH),r=new un(be.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)r[i]=t[i];return UP(n,r),{publicKey:n,privateKey:r}};be.privateKeyFromAsn1=function(e){var t={},n=[],r=Dt.asn1.validate(e,LP,t,n);if(!r){var i=new Error("Invalid Key.");throw i.errors=n,i}var o=Dt.asn1.derToOid(t.privateKeyOid),s=Dt.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=t.privateKey,l=$r({message:Dt.asn1.fromDer(a).value,encoding:"binary"});return{privateKeyBytes:l}};be.publicKeyFromAsn1=function(e){var t={},n=[],r=Dt.asn1.validate(e,PP,t,n);if(!r){var i=new Error("Invalid Key.");throw i.errors=n,i}var o=Dt.asn1.derToOid(t.publicKeyOid),s=Dt.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=t.ed25519PublicKey;if(a.length!==be.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return $r({message:a,encoding:"binary"})};be.publicKeyFromPrivateKey=function(e){e=e||{};var t=$r({message:e.privateKey,encoding:"binary"});if(t.length!==be.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+be.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new un(be.constants.PUBLIC_KEY_BYTE_LENGTH),r=0;r<n.length;++r)n[r]=t[32+r];return n};be.sign=function(e){e=e||{};var t=$r(e),n=$r({message:e.privateKey,encoding:"binary"});if(n.length===be.constants.SEED_BYTE_LENGTH){var r=be.generateKeyPair({seed:n});n=r.privateKey}else if(n.length!==be.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+be.constants.SEED_BYTE_LENGTH+" or "+be.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new un(be.constants.SIGN_BYTE_LENGTH+t.length);jP(i,t,t.length,n);for(var o=new un(be.constants.SIGN_BYTE_LENGTH),s=0;s<o.length;++s)o[s]=i[s];return o};be.verify=function(e){e=e||{};var t=$r(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=$r({message:e.signature,encoding:"binary"});if(n.length!==be.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+be.constants.SIGN_BYTE_LENGTH);var r=$r({message:e.publicKey,encoding:"binary"});if(r.length!==be.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+be.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new un(be.constants.SIGN_BYTE_LENGTH+t.length),o=new un(be.constants.SIGN_BYTE_LENGTH+t.length),s;for(s=0;s<be.constants.SIGN_BYTE_LENGTH;++s)i[s]=n[s];for(s=0;s<t.length;++s)i[s+be.constants.SIGN_BYTE_LENGTH]=t[s];return $P(o,i,i.length,r)>=0};function $r(e){var t=e.message;if(t instanceof Uint8Array||t instanceof un)return t;var n=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),n="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,n);t=new Hg(t,n)}else if(!(t instanceof Hg))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var r=new un(t.length()),i=0;i<r.length;++i)r[i]=t.at(i);return r}var qg=J(),Lc=J([1]),FP=J([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),BP=J([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Bx=J([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Vx=J([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),jg=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),VP=J([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function $a(e,t){var n=Dt.md.sha512.create(),r=new Hg(e);n.update(r.getBytes(t),"binary");var i=n.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new un(be.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)o[s]=i.charCodeAt(s);return o}function UP(e,t){var n=[J(),J(),J(),J()],r,i=$a(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Wg(n,i),Kg(e,n),r=0;r<32;++r)t[r+32]=e[r];return 0}function jP(e,t,n,r){var i,o,s=new Float64Array(64),a=[J(),J(),J(),J()],l=$a(r,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=n+64;for(i=0;i<n;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=l[32+i];var c=$a(e.subarray(32),n+32);for(zg(c),Wg(a,c),Kg(e,a),i=32;i<64;++i)e[i]=r[i];var d=$a(e,n+64);for(zg(d),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=c[i];for(i=0;i<32;++i)for(o=0;o<32;o++)s[i+o]+=d[i]*l[o];return Hx(e.subarray(32),s),u}function $P(e,t,n,r){var i,o,s=new un(32),a=[J(),J(),J(),J()],l=[J(),J(),J(),J()];if(o=-1,n<64||HP(l,r))return-1;for(i=0;i<n;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=r[i];var u=$a(e,n);if(zg(u),Gx(a,l,u),Wg(l,t.subarray(32)),Gg(a,l),Kg(s,a),n-=64,qx(t,0,s,0)){for(i=0;i<n;++i)e[i]=0;return-1}for(i=0;i<n;++i)e[i]=t[i+64];return o=n,o}function Hx(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*jg[i-(r-32)],n=t[i]+128>>8,t[i]-=n*256;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;++i)t[i]+=n-(t[31]>>4)*jg[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=n*jg[i];for(r=0;r<32;++r)t[r+1]+=t[r]>>8,e[r]=t[r]&255}function zg(e){for(var t=new Float64Array(64),n=0;n<64;++n)t[n]=e[n],e[n]=0;Hx(e,t)}function Gg(e,t){var n=J(),r=J(),i=J(),o=J(),s=J(),a=J(),l=J(),u=J(),c=J();ys(n,e[1],e[0]),ys(c,t[1],t[0]),He(n,n,c),vs(r,e[0],e[1]),vs(c,t[0],t[1]),He(r,r,c),He(i,e[3],t[3]),He(i,i,BP),He(o,e[2],t[2]),vs(o,o,o),ys(s,r,n),ys(a,o,i),vs(l,o,i),vs(u,r,n),He(e[0],s,a),He(e[1],u,l),He(e[2],l,a),He(e[3],s,u)}function Ux(e,t,n){for(var r=0;r<4;++r)Kx(e[r],t[r],n)}function Kg(e,t){var n=J(),r=J(),i=J();KP(i,t[2]),He(n,t[0],i),He(r,t[1],i),Fc(e,r),e[31]^=zx(n)<<7}function Fc(e,t){var n,r,i,o=J(),s=J();for(n=0;n<16;++n)s[n]=t[n];for($g(s),$g(s),$g(s),r=0;r<2;++r){for(o[0]=s[0]-65517,n=1;n<15;++n)o[n]=s[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,Kx(s,o,1-i)}for(n=0;n<16;n++)e[2*n]=s[n]&255,e[2*n+1]=s[n]>>8}function HP(e,t){var n=J(),r=J(),i=J(),o=J(),s=J(),a=J(),l=J();return Ci(e[2],Lc),qP(e[1],t),uo(i,e[1]),He(o,i,FP),ys(i,i,e[2]),vs(o,e[2],o),uo(s,o),uo(a,s),He(l,a,s),He(n,l,i),He(n,n,o),zP(n,n),He(n,n,i),He(n,n,o),He(n,n,o),He(e[0],n,o),uo(r,e[0]),He(r,r,o),jx(r,i)&&He(e[0],e[0],VP),uo(r,e[0]),He(r,r,o),jx(r,i)?-1:(zx(e[0])===t[31]>>7&&ys(e[0],qg,e[0]),He(e[3],e[0],e[1]),0)}function qP(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function zP(e,t){var n=J(),r;for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)uo(n,n),r!==1&&He(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}function jx(e,t){var n=new un(32),r=new un(32);return Fc(n,e),Fc(r,t),qx(n,0,r,0)}function qx(e,t,n,r){return GP(e,t,n,r,32)}function GP(e,t,n,r,i){var o,s=0;for(o=0;o<i;++o)s|=e[t+o]^n[r+o];return(1&s-1>>>8)-1}function zx(e){var t=new un(32);return Fc(t,e),t[0]&1}function Gx(e,t,n){var r,i;for(Ci(e[0],qg),Ci(e[1],Lc),Ci(e[2],Lc),Ci(e[3],qg),i=255;i>=0;--i)r=n[i/8|0]>>(i&7)&1,Ux(e,t,r),Gg(t,e),Gg(e,e),Ux(e,t,r)}function Wg(e,t){var n=[J(),J(),J(),J()];Ci(n[0],Bx),Ci(n[1],Vx),Ci(n[2],Lc),He(n[3],Bx,Vx),Gx(e,n,t)}function Ci(e,t){var n;for(n=0;n<16;n++)e[n]=t[n]|0}function KP(e,t){var n=J(),r;for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)uo(n,n),r!==2&&r!==4&&He(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}function $g(e){var t,n,r=1;for(t=0;t<16;++t)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-r*65536;e[0]+=r-1+37*(r-1)}function Kx(e,t,n){for(var r,i=~(n-1),o=0;o<16;++o)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function J(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function vs(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function ys(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function uo(e,t){He(e,t,t)}function He(e,t,n){var r,i,o=0,s=0,a=0,l=0,u=0,c=0,d=0,f=0,v=0,m=0,y=0,E=0,x=0,S=0,_=0,k=0,M=0,N=0,ee=0,he=0,ke=0,Ue=0,qe=0,Ke=0,Ht=0,En=0,je=0,lt=0,K=0,bi=0,fo=0,ut=n[0],ct=n[1],ht=n[2],Tt=n[3],At=n[4],Mt=n[5],Nt=n[6],Rt=n[7],kt=n[8],Ot=n[9],Pt=n[10],Lt=n[11],Ft=n[12],Bt=n[13],Vt=n[14],Ut=n[15];r=t[0],o+=r*ut,s+=r*ct,a+=r*ht,l+=r*Tt,u+=r*At,c+=r*Mt,d+=r*Nt,f+=r*Rt,v+=r*kt,m+=r*Ot,y+=r*Pt,E+=r*Lt,x+=r*Ft,S+=r*Bt,_+=r*Vt,k+=r*Ut,r=t[1],s+=r*ut,a+=r*ct,l+=r*ht,u+=r*Tt,c+=r*At,d+=r*Mt,f+=r*Nt,v+=r*Rt,m+=r*kt,y+=r*Ot,E+=r*Pt,x+=r*Lt,S+=r*Ft,_+=r*Bt,k+=r*Vt,M+=r*Ut,r=t[2],a+=r*ut,l+=r*ct,u+=r*ht,c+=r*Tt,d+=r*At,f+=r*Mt,v+=r*Nt,m+=r*Rt,y+=r*kt,E+=r*Ot,x+=r*Pt,S+=r*Lt,_+=r*Ft,k+=r*Bt,M+=r*Vt,N+=r*Ut,r=t[3],l+=r*ut,u+=r*ct,c+=r*ht,d+=r*Tt,f+=r*At,v+=r*Mt,m+=r*Nt,y+=r*Rt,E+=r*kt,x+=r*Ot,S+=r*Pt,_+=r*Lt,k+=r*Ft,M+=r*Bt,N+=r*Vt,ee+=r*Ut,r=t[4],u+=r*ut,c+=r*ct,d+=r*ht,f+=r*Tt,v+=r*At,m+=r*Mt,y+=r*Nt,E+=r*Rt,x+=r*kt,S+=r*Ot,_+=r*Pt,k+=r*Lt,M+=r*Ft,N+=r*Bt,ee+=r*Vt,he+=r*Ut,r=t[5],c+=r*ut,d+=r*ct,f+=r*ht,v+=r*Tt,m+=r*At,y+=r*Mt,E+=r*Nt,x+=r*Rt,S+=r*kt,_+=r*Ot,k+=r*Pt,M+=r*Lt,N+=r*Ft,ee+=r*Bt,he+=r*Vt,ke+=r*Ut,r=t[6],d+=r*ut,f+=r*ct,v+=r*ht,m+=r*Tt,y+=r*At,E+=r*Mt,x+=r*Nt,S+=r*Rt,_+=r*kt,k+=r*Ot,M+=r*Pt,N+=r*Lt,ee+=r*Ft,he+=r*Bt,ke+=r*Vt,Ue+=r*Ut,r=t[7],f+=r*ut,v+=r*ct,m+=r*ht,y+=r*Tt,E+=r*At,x+=r*Mt,S+=r*Nt,_+=r*Rt,k+=r*kt,M+=r*Ot,N+=r*Pt,ee+=r*Lt,he+=r*Ft,ke+=r*Bt,Ue+=r*Vt,qe+=r*Ut,r=t[8],v+=r*ut,m+=r*ct,y+=r*ht,E+=r*Tt,x+=r*At,S+=r*Mt,_+=r*Nt,k+=r*Rt,M+=r*kt,N+=r*Ot,ee+=r*Pt,he+=r*Lt,ke+=r*Ft,Ue+=r*Bt,qe+=r*Vt,Ke+=r*Ut,r=t[9],m+=r*ut,y+=r*ct,E+=r*ht,x+=r*Tt,S+=r*At,_+=r*Mt,k+=r*Nt,M+=r*Rt,N+=r*kt,ee+=r*Ot,he+=r*Pt,ke+=r*Lt,Ue+=r*Ft,qe+=r*Bt,Ke+=r*Vt,Ht+=r*Ut,r=t[10],y+=r*ut,E+=r*ct,x+=r*ht,S+=r*Tt,_+=r*At,k+=r*Mt,M+=r*Nt,N+=r*Rt,ee+=r*kt,he+=r*Ot,ke+=r*Pt,Ue+=r*Lt,qe+=r*Ft,Ke+=r*Bt,Ht+=r*Vt,En+=r*Ut,r=t[11],E+=r*ut,x+=r*ct,S+=r*ht,_+=r*Tt,k+=r*At,M+=r*Mt,N+=r*Nt,ee+=r*Rt,he+=r*kt,ke+=r*Ot,Ue+=r*Pt,qe+=r*Lt,Ke+=r*Ft,Ht+=r*Bt,En+=r*Vt,je+=r*Ut,r=t[12],x+=r*ut,S+=r*ct,_+=r*ht,k+=r*Tt,M+=r*At,N+=r*Mt,ee+=r*Nt,he+=r*Rt,ke+=r*kt,Ue+=r*Ot,qe+=r*Pt,Ke+=r*Lt,Ht+=r*Ft,En+=r*Bt,je+=r*Vt,lt+=r*Ut,r=t[13],S+=r*ut,_+=r*ct,k+=r*ht,M+=r*Tt,N+=r*At,ee+=r*Mt,he+=r*Nt,ke+=r*Rt,Ue+=r*kt,qe+=r*Ot,Ke+=r*Pt,Ht+=r*Lt,En+=r*Ft,je+=r*Bt,lt+=r*Vt,K+=r*Ut,r=t[14],_+=r*ut,k+=r*ct,M+=r*ht,N+=r*Tt,ee+=r*At,he+=r*Mt,ke+=r*Nt,Ue+=r*Rt,qe+=r*kt,Ke+=r*Ot,Ht+=r*Pt,En+=r*Lt,je+=r*Ft,lt+=r*Bt,K+=r*Vt,bi+=r*Ut,r=t[15],k+=r*ut,M+=r*ct,N+=r*ht,ee+=r*Tt,he+=r*At,ke+=r*Mt,Ue+=r*Nt,qe+=r*Rt,Ke+=r*kt,Ht+=r*Ot,En+=r*Pt,je+=r*Lt,lt+=r*Ft,K+=r*Bt,bi+=r*Vt,fo+=r*Ut,o+=38*M,s+=38*N,a+=38*ee,l+=38*he,u+=38*ke,c+=38*Ue,d+=38*qe,f+=38*Ke,v+=38*Ht,m+=38*En,y+=38*je,E+=38*lt,x+=38*K,S+=38*bi,_+=38*fo,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=m+i+65535,i=Math.floor(r/65536),m=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=E+i+65535,i=Math.floor(r/65536),E=r-i*65536,r=x+i+65535,i=Math.floor(r/65536),x=r-i*65536,r=S+i+65535,i=Math.floor(r/65536),S=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,r=k+i+65535,i=Math.floor(r/65536),k=r-i*65536,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=m+i+65535,i=Math.floor(r/65536),m=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=E+i+65535,i=Math.floor(r/65536),E=r-i*65536,r=x+i+65535,i=Math.floor(r/65536),x=r-i*65536,r=S+i+65535,i=Math.floor(r/65536),S=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,r=k+i+65535,i=Math.floor(r/65536),k=r-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=f,e[8]=v,e[9]=m,e[10]=y,e[11]=E,e[12]=x,e[13]=S,e[14]=_,e[15]=k}});var Jx=ae((y6,Xx)=>{"use strict";var Cn=ge();Te();Sn();Fa();Xx.exports=Cn.kem=Cn.kem||{};var Yx=Cn.jsbn.BigInteger;Cn.kem.rsa={};Cn.kem.rsa.create=function(e,t){t=t||{};var n=t.prng||Cn.random,r={};return r.encrypt=function(i,o){var s=Math.ceil(i.n.bitLength()/8),a;do a=new Yx(Cn.util.bytesToHex(n.getBytesSync(s)),16).mod(i.n);while(a.compareTo(Yx.ONE)<=0);a=Cn.util.hexToBytes(a.toString(16));var l=s-a.length;l>0&&(a=Cn.util.fillString("\0",l)+a);var u=i.encrypt(a,"NONE"),c=e.generate(a,o);return{encapsulation:u,key:c}},r.decrypt=function(i,o,s){var a=i.decrypt(o,"NONE");return e.generate(a,s)},r};Cn.kem.kdf1=function(e,t){Zx(this,e,0,t||e.digestLength)};Cn.kem.kdf2=function(e,t){Zx(this,e,1,t||e.digestLength)};function Zx(e,t,n,r){e.generate=function(i,o){for(var s=new Cn.util.ByteBuffer,a=Math.ceil(o/r)+n,l=new Cn.util.ByteBuffer,u=n;u<a;++u){l.putInt32(u),t.start(),t.update(i+l.getBytes());var c=t.digest();s.putBytes(c.getBytes(r))}return s.truncate(s.length()-o),s.getBytes()}}});var rI=ae((C6,nI)=>{"use strict";var xe=ge();Te();nI.exports=xe.log=xe.log||{};xe.log.levels=["none","error","warning","info","debug","verbose","max"];var Bc={},Zg=[],qa=null;xe.log.LEVEL_LOCKED=2;xe.log.NO_LEVEL_CHECK=4;xe.log.INTERPOLATE=8;for(pr=0;pr<xe.log.levels.length;++pr)Qg=xe.log.levels[pr],Bc[Qg]={index:pr,name:Qg.toUpperCase()};var Qg,pr;xe.log.logMessage=function(e){for(var t=Bc[e.level].index,n=0;n<Zg.length;++n){var r=Zg[n];if(r.flags&xe.log.NO_LEVEL_CHECK)r.f(e);else{var i=Bc[r.level].index;t<=i&&r.f(r,e)}}};xe.log.prepareStandard=function(e){"standard"in e||(e.standard=Bc[e.level].name+" ["+e.category+"] "+e.message)};xe.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=xe.util.format.apply(this,t)}};xe.log.prepareStandardFull=function(e){"standardFull"in e||(xe.log.prepareStandard(e),e.standardFull=e.standard)};for(Yg=["error","warning","info","debug","verbose"],pr=0;pr<Yg.length;++pr)(function(t){xe.log[t]=function(n,r){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:n,message:r,arguments:i};xe.log.logMessage(o)}})(Yg[pr]);var Yg,pr;xe.log.makeLogger=function(e){var t={flags:0,f:e};return xe.log.setLevel(t,"none"),t};xe.log.setLevel=function(e,t){var n=!1;if(e&&!(e.flags&xe.log.LEVEL_LOCKED))for(var r=0;r<xe.log.levels.length;++r){var i=xe.log.levels[r];if(t==i){e.level=t,n=!0;break}}return n};xe.log.lock=function(e,t){typeof t>"u"||t?e.flags|=xe.log.LEVEL_LOCKED:e.flags&=~xe.log.LEVEL_LOCKED};xe.log.addLogger=function(e){Zg.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(eI={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},za=function(e,t){xe.log.prepareStandard(t);var n=eI[t.level],r=[t.standard];r=r.concat(t.arguments.slice()),n.apply(console,r)},Cs=xe.log.makeLogger(za)):(za=function(t,n){xe.log.prepareStandardFull(n),console.log(n.standardFull)},Cs=xe.log.makeLogger(za)),xe.log.setLevel(Cs,"debug"),xe.log.addLogger(Cs),qa=Cs):console={log:function(){}};var Cs,eI,za;qa!==null&&typeof window<"u"&&window.location&&(Ha=new URL(window.location.href).searchParams,Ha.has("console.level")&&xe.log.setLevel(qa,Ha.get("console.level").slice(-1)[0]),Ha.has("console.lock")&&(tI=Ha.get("console.lock").slice(-1)[0],tI=="true"&&xe.log.lock(qa)));var Ha,tI;xe.log.consoleLogger=qa});var oI=ae((E6,iI)=>{"use strict";iI.exports=sr();mc();fs();cg();Vg()});var lI=ae((b6,aI)=>{"use strict";var B=ge();di();zn();Pa();fi();no();wg();Sn();Te();Nc();var b=B.asn1,en=aI.exports=B.pkcs7=B.pkcs7||{};en.messageFromPem=function(e){var t=B.pem.decode(e)[0];if(t.type!=="PKCS7"){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var r=b.fromDer(t.body);return en.messageFromAsn1(r)};en.messageToPem=function(e,t){var n={type:"PKCS7",body:b.toDer(e.toAsn1()).getBytes()};return B.pem.encode(n,{maxline:t})};en.messageFromAsn1=function(e){var t={},n=[];if(!b.validate(e,en.asn1.contentInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw r.errors=n,r}var i=b.derToOid(t.contentType),o;switch(i){case B.pki.oids.envelopedData:o=en.createEnvelopedData();break;case B.pki.oids.encryptedData:o=en.createEncryptedData();break;case B.pki.oids.signedData:o=en.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};en.createSignedData=function(){var e=null;return e={type:B.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(r){if(Jg(e,r,en.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(B.pki.certificateFromAsn1(i[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var r=[],i=0;i<e.certificates.length;++i)r.push(B.pki.certificateToAsn1(e.certificates[i]));var o=[],s=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return r.length>0&&s.value[0].value.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,r)),o.length>0&&s.value[0].value.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,o)),s.value[0].value.push(b.create(b.Class.UNIVERSAL,b.Type.SET,!0,e.signerInfos)),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.type).getBytes()),s])},addSigner:function(r){var i=r.issuer,o=r.serialNumber;if(r.certificate){var s=r.certificate;typeof s=="string"&&(s=B.pki.certificateFromPem(s)),i=s.issuer.attributes,o=s.serialNumber}var a=r.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof a=="string"&&(a=B.pki.privateKeyFromPem(a));var l=r.digestAlgorithm||B.pki.oids.sha1;switch(l){case B.pki.oids.sha1:case B.pki.oids.sha256:case B.pki.oids.sha384:case B.pki.oids.sha512:case B.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var u=r.authenticatedAttributes||[];if(u.length>0){for(var c=!1,d=!1,f=0;f<u.length;++f){var v=u[f];if(!c&&v.type===B.pki.oids.contentType){if(c=!0,d)break;continue}if(!d&&v.type===B.pki.oids.messageDigest){if(d=!0,c)break;continue}}if(!c||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:i,serialNumber:o,digestAlgorithm:l,signatureAlgorithm:B.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(r){if(r=r||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(B.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof B.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=B.util.encodeUtf8(e.content)),r.detached?e.detachedContent=b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();n(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(r){typeof r=="string"&&(r=B.pki.certificateFromPem(r)),e.certificates.push(r)},addCertificateRevokationList:function(r){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var r={},i=0;i<e.signers.length;++i){var o=e.signers[i],s=o.digestAlgorithm;s in r||(r[s]=B.md[B.pki.oids[s]].create()),o.authenticatedAttributes.length===0?o.md=r[s]:o.md=B.md[B.pki.oids[s]].create()}e.digestAlgorithmIdentifiers=[];for(var s in r)e.digestAlgorithmIdentifiers.push(b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(s).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")]));return r}function n(r){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=b.derToOid(e.contentInfo.value[0].value),s=b.toDer(i);s.getByte(),b.getBerValueLength(s),s=s.getBytes();for(var a in r)r[a].start().update(s);for(var l=new Date,u=0;u<e.signers.length;++u){var c=e.signers[u];if(c.authenticatedAttributes.length===0){if(o!==B.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[]),f=0;f<c.authenticatedAttributes.length;++f){var v=c.authenticatedAttributes[f];v.type===B.pki.oids.messageDigest?v.value=r[c.digestAlgorithm].digest():v.type===B.pki.oids.signingTime&&(v.value||(v.value=l)),d.value.push(Xg(v)),c.authenticatedAttributesAsn1.value.push(Xg(v))}s=b.toDer(d).getBytes(),c.md.start().update(s)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=JP(e.signers)}};en.createEncryptedData=function(){var e=null;return e={type:B.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:B.pki.oids["aes256-CBC"]},fromAsn1:function(t){Jg(e,t,en.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),sI(e)}},e};en.createEnvelopedData=function(){var e=null;return e={type:B.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:B.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=Jg(e,t,en.asn1.envelopedDataValidator);e.recipients=YP(n.recipientInfos.value)},toAsn1:function(){return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.type).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,ZP(e.recipients)),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,eL(e.encryptedContent))])])])},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===n.length){for(var s=!0,a=0;a<n.length;++a)if(o[a].type!==n[a].type||o[a].value!==n[a].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,n){if(e.encryptedContent.key===void 0&&t!==void 0&&n!==void 0)switch(t.encryptedContent.algorithm){case B.pki.oids.rsaEncryption:case B.pki.oids.desCBC:var r=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=B.util.createBuffer(r);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}sI(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:B.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(e.encryptedContent.content===void 0){n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var r,i,o;switch(n){case B.pki.oids["aes128-CBC"]:r=16,i=16,o=B.aes.createEncryptionCipher;break;case B.pki.oids["aes192-CBC"]:r=24,i=16,o=B.aes.createEncryptionCipher;break;case B.pki.oids["aes256-CBC"]:r=32,i=16,o=B.aes.createEncryptionCipher;break;case B.pki.oids["des-EDE3-CBC"]:r=24,i=8,o=B.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(t===void 0)t=B.util.createBuffer(B.random.getBytes(r));else if(t.length()!=r)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+r+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=B.util.createBuffer(B.random.getBytes(i));var s=o(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var a=0;a<e.recipients.length;++a){var l=e.recipients[a];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case B.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}},e};function WP(e){var t={},n=[];if(!b.validate(e,en.asn1.recipientInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw r.errors=n,r}return{version:t.version.charCodeAt(0),issuer:B.pki.RDNAttributesAsArray(t.issuer),serialNumber:B.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:b.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function QP(e){return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[B.pki.distinguishedNameToAsn1({attributes:e.issuer}),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,B.util.hexToBytes(e.serialNumber))]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.encryptedContent.algorithm).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")]),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function YP(e){for(var t=[],n=0;n<e.length;++n)t.push(WP(e[n]));return t}function ZP(e){for(var t=[],n=0;n<e.length;++n)t.push(QP(e[n]));return t}function XP(e){var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[B.pki.distinguishedNameToAsn1({attributes:e.issuer}),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,B.util.hexToBytes(e.serialNumber))]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.digestAlgorithm).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.signatureAlgorithm).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),t.value.push(b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=b.create(b.Class.CONTEXT_SPECIFIC,1,!0,[]),r=0;r<e.unauthenticatedAttributes.length;++r){var i=e.unauthenticatedAttributes[r];n.values.push(Xg(i))}t.value.push(n)}return t}function JP(e){for(var t=[],n=0;n<e.length;++n)t.push(XP(e[n]));return t}function Xg(e){var t;if(e.type===B.pki.oids.contentType)t=b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.value).getBytes());else if(e.type===B.pki.oids.messageDigest)t=b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===B.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),r=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=b.utcTimeToDate(i):i=b.generalizedTimeToDate(i):i=new Date(o)}i>=n&&i<r?t=b.create(b.Class.UNIVERSAL,b.Type.UTCTIME,!1,b.dateToUtcTime(i)):t=b.create(b.Class.UNIVERSAL,b.Type.GENERALIZEDTIME,!1,b.dateToGeneralizedTime(i))}return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.type).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[t])])}function eL(e){return[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(B.pki.oids.data).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.algorithm).getBytes()),e.parameter?b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e.content.getBytes())])]}function Jg(e,t,n){var r={},i=[];if(!b.validate(t,n,r,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var s=b.derToOid(r.contentType);if(s!==B.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(r.encryptedContent){var a="";if(B.util.isArray(r.encryptedContent))for(var l=0;l<r.encryptedContent.length;++l){if(r.encryptedContent[l].type!==b.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=r.encryptedContent[l].value}else a=r.encryptedContent;e.encryptedContent={algorithm:b.derToOid(r.encAlgorithm),parameter:B.util.createBuffer(r.encParameter.value),content:B.util.createBuffer(a)}}if(r.content){var a="";if(B.util.isArray(r.content))for(var l=0;l<r.content.length;++l){if(r.content[l].type!==b.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=r.content[l].value}else a=r.content;e.content=B.util.createBuffer(a)}return e.version=r.version.charCodeAt(0),e.rawCapture=r,r}function sI(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case B.pki.oids["aes128-CBC"]:case B.pki.oids["aes192-CBC"]:case B.pki.oids["aes256-CBC"]:t=B.aes.createDecryptionCipher(e.encryptedContent.key);break;case B.pki.oids.desCBC:case B.pki.oids["des-EDE3-CBC"]:t=B.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}});var cI=ae((x6,uI)=>{"use strict";var ft=ge();di();ls();mc();fs();Te();var Uc=uI.exports=ft.ssh=ft.ssh||{};Uc.privateKeyToPutty=function(e,t,n){n=n||"",t=t||"";var r="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+r+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+n+`\r
`;var s=ft.util.createBuffer();Es(s,r),gr(s,e.e),gr(s,e.n);var a=ft.util.encode64(s.bytes(),64),l=Math.floor(a.length/66)+1;o+="Public-Lines: "+l+`\r
`,o+=a;var u=ft.util.createBuffer();gr(u,e.d),gr(u,e.p),gr(u,e.q),gr(u,e.qInv);var c;if(!t)c=ft.util.encode64(u.bytes(),64);else{var d=u.length()+16-1;d-=d%16;var f=Vc(u.bytes());f.truncate(f.length()-d+u.length()),u.putBuffer(f);var v=ft.util.createBuffer();v.putBuffer(Vc("\0\0\0\0",t)),v.putBuffer(Vc("\0\0\0",t));var m=ft.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(ft.util.createBuffer().fillWithByte(0,16)),m.update(u.copy()),m.finish();var y=m.output;y.truncate(16),c=ft.util.encode64(y.bytes(),64)}l=Math.floor(c.length/66)+1,o+=`\r
Private-Lines: `+l+`\r
`,o+=c;var E=Vc("putty-private-key-file-mac-key",t),x=ft.util.createBuffer();Es(x,r),Es(x,i),Es(x,n),x.putInt32(s.length()),x.putBuffer(s),x.putInt32(u.length()),x.putBuffer(u);var S=ft.hmac.create();return S.start("sha1",E),S.update(x.bytes()),o+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,o};Uc.publicKeyToOpenSSH=function(e,t){var n="ssh-rsa";t=t||"";var r=ft.util.createBuffer();return Es(r,n),gr(r,e.e),gr(r,e.n),n+" "+ft.util.encode64(r.bytes())+" "+t};Uc.privateKeyToOpenSSH=function(e,t){return t?ft.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):ft.pki.privateKeyToPem(e)};Uc.getPublicKeyFingerprint=function(e,t){t=t||{};var n=t.md||ft.md.md5.create(),r="ssh-rsa",i=ft.util.createBuffer();Es(i,r),gr(i,e.e),gr(i,e.n),n.start(),n.update(i.getBytes());var o=n.digest();if(t.encoding==="hex"){var s=o.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function gr(e,t){var n=t.toString(16);n[0]>="8"&&(n="00"+n);var r=ft.util.hexToBytes(n);e.putInt32(r.length),e.putBytes(r)}function Es(e,t){e.putInt32(t.length),e.putString(t)}function Vc(){for(var e=ft.md.sha1.create(),t=arguments.length,n=0;n<t;++n)e.update(arguments[n]);return e.digest()}});var fI=ae((I6,dI)=>{"use strict";dI.exports=ge();di();Nx();zn();uc();Pa();Qx();ls();Jx();rI();oI();_g();bc();no();Cg();Tg();lI();Mg();bg();dg();Tc();Sn();pg();cI();Lg();Te()});var rm=null;var Hc=1,qc=Symbol("SIGNAL");function qt(e){let t=rm;return rm=e,t}var im={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function PI(e){if(!(Kc(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Hc)){if(!e.producerMustRecompute(e)&&!zc(e)){e.dirty=!1,e.lastCleanEpoch=Hc;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Hc}}function om(e){return e&&(e.nextProducerIndex=0),qt(e)}function sm(e,t){if(qt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Kc(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Gc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function zc(e){Ga(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(PI(n),r!==n.version))return!0}return!1}function am(e){if(Ga(e),Kc(e))for(let t=0;t<e.producerNode.length;t++)Gc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Gc(e,t){if(LI(e),Ga(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)Gc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ga(i),i.producerIndexOfThis[r]=t}}function Kc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ga(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function LI(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function FI(){throw new Error}var BI=FI;function lm(e){BI=e}function le(e){return typeof e=="function"}function ho(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ka=ho(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var st=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){t=o instanceof Ka?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{um(o)}catch(s){t=t??[],s instanceof Ka?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ka(t)}}add(t){var n;if(t&&t!==this)if(this.closed)um(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&xi(n,t)}remove(t){let{_finalizers:n}=this;n&&xi(n,t),t instanceof e&&t._removeParent(this)}};st.EMPTY=(()=>{let e=new st;return e.closed=!0,e})();var Wc=st.EMPTY;function Wa(e){return e instanceof st||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function um(e){le(e)?e():e.unsubscribe()}var Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var po={setTimeout(e,t,...n){let{delegate:r}=po;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=po;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qa(e){po.setTimeout(()=>{let{onUnhandledError:t}=Rn;if(t)t(e);else throw e})}function bs(){}var cm=Qc("C",void 0,void 0);function dm(e){return Qc("E",void 0,e)}function fm(e){return Qc("N",e,void 0)}function Qc(e,t,n){return{kind:e,value:t,error:n}}var Ii=null;function go(e){if(Rn.useDeprecatedSynchronousErrorHandling){let t=!Ii;if(t&&(Ii={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Ii;if(Ii=null,n)throw r}}else e()}function hm(e){Rn.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=e)}var wi=class extends st{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wa(t)&&t.add(this)):this.destination=jI}static create(t,n,r){return new vr(t,n,r)}next(t){this.isStopped?Zc(fm(t),this):this._next(t)}error(t){this.isStopped?Zc(dm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Zc(cm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VI=Function.prototype.bind;function Yc(e,t){return VI.call(e,t)}var Xc=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ya(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ya(r)}else Ya(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ya(n)}}},vr=class extends wi{constructor(t,n,r){super();let i;if(le(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Rn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Yc(t.next,o),error:t.error&&Yc(t.error,o),complete:t.complete&&Yc(t.complete,o)}):i=t}this.destination=new Xc(i)}};function Ya(e){Rn.useDeprecatedSynchronousErrorHandling?hm(e):Qa(e)}function UI(e){throw e}function Zc(e,t){let{onStoppedNotification:n}=Rn;n&&po.setTimeout(()=>n(e,t))}var jI={closed:!0,next:bs,error:UI,complete:bs};var mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(e){return e}function Jc(...e){return ed(e)}function ed(e){return e.length===0?zt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=HI(n)?n:new vr(n,r,i);return go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pm(r),new r((i,o)=>{let s=new vr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[mo](){return this}pipe(...n){return ed(n)(this)}toPromise(n){return n=pm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function pm(e){var t;return(t=e??Rn.Promise)!==null&&t!==void 0?t:Promise}function $I(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}function HI(e){return e&&e instanceof wi||$I(e)&&Wa(e)}function td(e){return le(e?.lift)}function me(e){return t=>{if(td(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(e,t,n,r,i){return new nd(e,t,n,r,i)}var nd=class extends wi{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function vo(){return me((e,t)=>{let n=null;e._refCount++;let r=ve(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var yo=class extends Ie{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,td(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new st;let n=this.getSubject();t.add(this.source.subscribe(ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=st.EMPTY)}return t}refCount(){return vo()(this)}};var gm=ho(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class e extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Za(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gm}next(n){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wc:(this.currentObservers=null,o.push(n),new st(()=>{this.currentObservers=null,xi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return e.create=(t,n)=>new Za(t,n),e})(),Za=class extends Ne{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Wc}};var xt=class extends Ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var xs={now(){return(xs.delegate||Date).now()},delegate:void 0};var Xa=class extends Ne{constructor(t=1/0,n=1/0,r=xs){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ja=class extends st{constructor(t,n){super()}schedule(t,n=0){return this}};var Is={setInterval(e,t,...n){let{delegate:r}=Is;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Is;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var el=class extends Ja{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Is.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Is.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xi(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Co=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Co.now=xs.now;var tl=class extends Co{constructor(t,n=Co.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var qI=new tl(el),mm=qI;var tn=new Ie(e=>e.complete());function nl(e){return e&&le(e.schedule)}function rd(e){return e[e.length-1]}function rl(e){return le(rd(e))?e.pop():void 0}function Kn(e){return nl(rd(e))?e.pop():void 0}function vm(e,t){return typeof rd(e)=="number"?e.pop():t}function Cm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function ym(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _i(e){return this instanceof _i?(this.v=e,this):new _i(e)}function Em(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(v){return new Promise(function(m,y){o.push([f,v,m,y])>1||a(f,v)})})}function a(f,v){try{l(r[f](v))}catch(m){d(o[0][3],m)}}function l(f){f.value instanceof _i?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,v){f(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function bm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ym=="function"?ym(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var il=e=>e&&typeof e.length=="number"&&typeof e!="function";function ol(e){return le(e?.then)}function sl(e){return le(e[mo])}function al(e){return Symbol.asyncIterator&&le(e?.[Symbol.asyncIterator])}function ll(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ul=zI();function cl(e){return le(e?.[ul])}function dl(e){return Em(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield _i(n.read());if(i)return yield _i(void 0);yield yield _i(r)}}finally{n.releaseLock()}})}function fl(e){return le(e?.getReader)}function We(e){if(e instanceof Ie)return e;if(e!=null){if(sl(e))return GI(e);if(il(e))return KI(e);if(ol(e))return WI(e);if(al(e))return xm(e);if(cl(e))return QI(e);if(fl(e))return YI(e)}throw ll(e)}function GI(e){return new Ie(t=>{let n=e[mo]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KI(e){return new Ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function WI(e){return new Ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qa)})}function QI(e){return new Ie(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function xm(e){return new Ie(t=>{ZI(e,t).catch(n=>t.error(n))})}function YI(e){return xm(dl(e))}function ZI(e,t){var n,r,i,o;return Cm(this,void 0,void 0,function*(){try{for(n=bm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function nn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function hl(e,t=0){return me((n,r)=>{n.subscribe(ve(r,i=>nn(r,e,()=>r.next(i),t),()=>nn(r,e,()=>r.complete(),t),i=>nn(r,e,()=>r.error(i),t)))})}function pl(e,t=0){return me((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Im(e,t){return We(e).pipe(pl(t),hl(t))}function wm(e,t){return We(e).pipe(pl(t),hl(t))}function _m(e,t){return new Ie(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Sm(e,t){return new Ie(n=>{let r;return nn(n,t,()=>{r=e[ul](),nn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function gl(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ie(n=>{nn(n,t,()=>{let r=e[Symbol.asyncIterator]();nn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dm(e,t){return gl(dl(e),t)}function Tm(e,t){if(e!=null){if(sl(e))return Im(e,t);if(il(e))return _m(e,t);if(ol(e))return wm(e,t);if(al(e))return gl(e,t);if(cl(e))return Sm(e,t);if(fl(e))return Dm(e,t)}throw ll(e)}function Qe(e,t){return t?Tm(e,t):We(e)}function te(...e){let t=Kn(e);return Qe(e,t)}function Hr(e,t){let n=le(e)?e:()=>e,r=i=>i.error(n());return new Ie(t?i=>t.schedule(r,0,i):r)}function id(e){return!!e&&(e instanceof Ie||le(e.lift)&&le(e.subscribe))}var yr=ho(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Am(e){return e instanceof Date&&!isNaN(e)}function se(e,t){return me((n,r)=>{let i=0;n.subscribe(ve(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:XI}=Array;function JI(e,t){return XI(t)?e(...t):e(t)}function ml(e){return se(t=>JI(e,t))}var{isArray:ew}=Array,{getPrototypeOf:tw,prototype:nw,keys:rw}=Object;function vl(e){if(e.length===1){let t=e[0];if(ew(t))return{args:t,keys:null};if(iw(t)){let n=rw(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function iw(e){return e&&typeof e=="object"&&tw(e)===nw}function yl(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Cl(...e){let t=Kn(e),n=rl(e),{args:r,keys:i}=vl(e);if(r.length===0)return Qe([],t);let o=new Ie(ow(r,t,i?s=>yl(i,s):zt));return n?o.pipe(ml(n)):o}function ow(e,t,n=zt){return r=>{Mm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Mm(t,()=>{let u=Qe(e[l],t),c=!1;u.subscribe(ve(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mm(e,t,n){e?nn(n,e,t):t()}function Nm(e,t,n,r,i,o,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&t.complete()},v=y=>u<r?m(y):l.push(y),m=y=>{o&&t.next(y),u++;let E=!1;We(n(y,c++)).subscribe(ve(t,x=>{i?.(x),o?v(x):t.next(x)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;l.length&&u<r;){let x=l.shift();s?nn(t,s,()=>m(x)):m(x)}f()}catch(x){t.error(x)}}))};return e.subscribe(ve(t,v,()=>{d=!0,f()})),()=>{a?.()}}function pt(e,t,n=1/0){return le(t)?pt((r,i)=>se((o,s)=>t(r,o,i,s))(We(e(r,i))),n):(typeof t=="number"&&(n=t),me((r,i)=>Nm(r,i,e,n)))}function ws(e=1/0){return pt(zt,e)}function Rm(){return ws(1)}function Eo(...e){return Rm()(Qe(e,Kn(e)))}function El(e){return new Ie(t=>{We(e()).subscribe(t)})}function od(...e){let t=rl(e),{args:n,keys:r}=vl(e),i=new Ie(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;We(n[c]).subscribe(ve(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?yl(r,a):a),o.complete())}))}});return t?i.pipe(ml(t)):i}function sd(e=0,t,n=mm){let r=-1;return t!=null&&(nl(t)?n=t:r=t),new Ie(i=>{let o=Am(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ad(...e){let t=Kn(e),n=vm(e,1/0),r=e;return r.length?r.length===1?We(r[0]):ws(n)(Qe(r,t)):tn}function dn(e,t){return me((n,r)=>{let i=0;n.subscribe(ve(r,o=>e.call(t,o,i++)&&r.next(o)))})}function mt(e){return me((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ve(n,void 0,void 0,s=>{o=We(e(s,mt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function km(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(ve(s,c=>{let d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function qr(e,t){return le(t)?pt(e,t,1):pt(e,1)}function zr(e){return me((t,n)=>{let r=!1;t.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Cr(e){return e<=0?()=>tn:me((t,n)=>{let r=0;t.subscribe(ve(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function _s(e){return se(()=>e)}function ld(e,t=zt){return e=e??sw,me((n,r)=>{let i,o=!0;n.subscribe(ve(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function sw(e,t){return e===t}function bl(e=aw){return me((t,n)=>{let r=!1;t.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function aw(){return new yr}function Si(e){return me((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function kn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?dn((i,o)=>e(i,o,r)):zt,Cr(1),n?zr(t):bl(()=>new yr))}function bo(e){return e<=0?()=>tn:me((t,n)=>{let r=[];t.subscribe(ve(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ud(e,t){let n=arguments.length>=2;return r=>r.pipe(e?dn((i,o)=>e(i,o,r)):zt,bo(1),n?zr(t):bl(()=>new yr))}function cd(e,t){return me(km(e,t,arguments.length>=2,!0))}function Om(e={}){let{connector:t=()=>new Ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},v=()=>{f(),s=l=void 0,c=d=!1},m=()=>{let y=s;v(),y?.unsubscribe()};return me((y,E)=>{u++,!d&&!c&&f();let x=l=l??t();E.add(()=>{u--,u===0&&!d&&!c&&(a=dd(m,i))}),x.subscribe(E),!s&&u>0&&(s=new vr({next:S=>x.next(S),error:S=>{d=!0,f(),a=dd(v,n,S),x.error(S)},complete:()=>{c=!0,f(),a=dd(v,r),x.complete()}}),We(y).subscribe(s))})(o)}}function dd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new vr({next:()=>{r.unsubscribe(),e()}});return We(t(...n)).subscribe(r)}function fd(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,Om({connector:()=>new Xa(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ss(...e){let t=Kn(e);return me((n,r)=>{(t?Eo(e,n,t):Eo(e,n)).subscribe(r)})}function Gt(e,t){return me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ve(r,l=>{i?.unsubscribe();let u=0,c=o++;We(e(l,c)).subscribe(i=ve(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(e){return me((t,n)=>{We(e).subscribe(ve(n,()=>n.complete(),bs)),!n.closed&&t.subscribe(n)})}function gt(e,t,n){let r=le(e)||t||n?{next:e,error:t,complete:n}:e;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):zt}var E0="https://g.co/ng/security#xss",W=class extends Error{constructor(t,n){super(Jl(t,n)),this.code=t}};function Jl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var Ad=class extends Ne{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=hd(o),i&&(i=hd(i)),s&&(s=hd(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof st&&t.add(a),a}};function hd(e){return t=>{setTimeout(e,void 0,t)}}var Ye=Ad;var ye=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ye||{});function Wt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Wt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Md(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var b0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(b0||{}),Yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yn||{});function $s(e){return{toString:e}.toString()}var Er=globalThis;var So={},on=[];function $e(e){for(let t in e)if(e[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function lw(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}var uw=$e({\u0275cmp:$e}),cw=$e({\u0275dir:$e}),dw=$e({\u0275pipe:$e}),fw=$e({\u0275mod:$e}),Pl=$e({\u0275fac:$e}),Ds=$e({__NG_ELEMENT_ID__:$e}),Pm=$e({__NG_ENV_ID__:$e}),jt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(jt||{});function x0(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Nd(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];hw(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function I0(e){return e===3||e===4||e===6}function hw(e){return e.charCodeAt(0)===64}function Ms(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Lm(e,n,i,null,t[++r]):Lm(e,n,i,null,null))}}return e}function Lm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var w0="ng-template";function pw(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if(typeof o=="string"&&i){let s=e[r++];if(n&&o==="class"&&x0(s.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;r<e.length&&typeof(o=e[r++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function _0(e){return e.type===4&&e.value!==w0}function gw(e,t,n){let r=e.type===4&&!n?w0:e.value;return t===r}function mw(e,t,n){let r=4,i=e.attrs||[],o=Cw(i),s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!On(r)&&!On(l))return!1;if(s&&On(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!gw(e,l,n)||l===""&&t.length===1){if(On(r))return!1;s=!0}}else{let u=r&8?l:t[++a];if(r&8&&e.attrs!==null){if(!pw(e.attrs,u,n)){if(On(r))return!1;s=!0}continue}let c=r&8?"class":l,d=vw(c,i,_0(e),n);if(d===-1){if(On(r))return!1;s=!0;continue}if(u!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let v=r&8?f:null;if(v&&x0(v,u,0)!==-1||r&2&&u!==f){if(On(r))return!1;s=!0}}}}return On(r)||s}function On(e){return(e&1)===0}function vw(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Ew(t,e)}function S0(e,t,n=!1){for(let r=0;r<t.length;r++)if(mw(e,t[r],n))return!0;return!1}function yw(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function Cw(e){for(let t=0;t<e.length;t++){let n=e[t];if(I0(n))return t}return e.length}function Ew(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function bw(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Fm(e,t){return e?":not("+t.trim()+")":t}function xw(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!On(s)&&(t+=Fm(o,i),i=""),r=s,o=o||!On(r);n++}return i!==""&&(t+=Fm(o,i)),t}function Iw(e){return e.map(xw).join(",")}function ww(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!On(i))break;i=o}r++}return{attrs:t,classes:n}}function Re(e){return $s(()=>{let t=N0(e),n=Me(O({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===b0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||on,_:null,schemas:e.schemas||null,tView:null,id:""});R0(n);let r=e.dependencies;return n.directiveDefs=Vm(r,!1),n.pipeDefs=Vm(r,!0),n.id=Dw(n),n})}function _w(e){return Ai(e)||D0(e)}function Sw(e){return e!==null}function Vn(e){return $s(()=>({type:e.type,bootstrap:e.bootstrap||on,declarations:e.declarations||on,imports:e.imports||on,exports:e.exports||on,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Bm(e,t){if(e==null)return So;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=jt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==jt.None?[r,a]:r,t[o]=s):n[o]=r}return n}function $t(e){return $s(()=>{let t=N0(e);return R0(t),t})}function Mf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ai(e){return e[uw]||null}function D0(e){return e[cw]||null}function T0(e){return e[dw]||null}function A0(e){let t=Ai(e)||D0(e)||T0(e);return t!==null?t.standalone:!1}function M0(e,t){let n=e[fw]||null;if(!n&&t===!0)throw new Error(`Type ${Wt(e)} does not have '\u0275mod' property.`);return n}function N0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||So,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||on,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bm(e.inputs,t),outputs:Bm(e.outputs),debugInfo:null}}function R0(e){e.features?.forEach(t=>t(e))}function Vm(e,t){if(!e)return null;let n=t?T0:_w;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Sw)}function Dw(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}var Dr=0,pe=1,ne=2,It=3,Ln=4,pn=5,Ns=6,Rs=7,Fn=8,Do=9,br=10,rt=11,ks=12,Um=13,Oo=14,Bn=15,Hs=16,xo=17,xr=18,eu=19,k0=20,Ts=21,pd=22,Mi=23,hn=25,O0=1;var Ni=7,Ll=8,To=9,fn=10,Nf=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Nf||{});function Di(e){return Array.isArray(e)&&typeof e[O0]=="object"}function Tr(e){return Array.isArray(e)&&e[O0]===!0}function Rf(e){return(e.flags&4)!==0}function tu(e){return e.componentOffset>-1}function nu(e){return(e.flags&1)===1}function Kr(e){return!!e.template}function Tw(e){return(e[ne]&512)!==0}var P0="svg",Aw="math",Mw=!1;function Nw(){return Mw}function Zn(e){for(;Array.isArray(e);)e=e[Dr];return e}function L0(e,t){return Zn(t[e])}function bn(e,t){return Zn(t[e.index])}function F0(e,t){return e.data[t]}function B0(e,t){return e[t]}function Yr(e,t){let n=t[e];return Di(n)?n:n[Dr]}function Rw(e){return(e[ne]&4)===4}function kf(e){return(e[ne]&128)===128}function kw(e){return Tr(e[It])}function Ao(e,t){return t==null?null:e[t]}function V0(e){e[xo]=0}function Ow(e){e[ne]&1024||(e[ne]|=1024,kf(e)&&Os(e))}function Pw(e,t){for(;e>0;)t=t[Oo],e--;return t}function Of(e){return!!(e[ne]&9216||e[Mi]?.dirty)}function Rd(e){Of(e)?Os(e):e[ne]&64&&(Nw()?(e[ne]|=1024,Os(e)):e[br].changeDetectionScheduler?.notify())}function Os(e){e[br].changeDetectionScheduler?.notify();let t=Ps(e);for(;t!==null&&!(t[ne]&8192||(t[ne]|=8192,!kf(t)));)t=Ps(t)}function Lw(e,t){if((e[ne]&256)===256)throw new W(911,!1);e[Ts]===null&&(e[Ts]=[]),e[Ts].push(t)}function Ps(e){let t=e[It];return Tr(t)?t[It]:t}var ce={lFrame:K0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fw(){return ce.lFrame.elementDepthCount}function Bw(){ce.lFrame.elementDepthCount++}function Vw(){ce.lFrame.elementDepthCount--}function U0(){return ce.bindingsEnabled}function j0(){return ce.skipHydrationRootTNode!==null}function Uw(e){return ce.skipHydrationRootTNode===e}function jw(){ce.skipHydrationRootTNode=null}function we(){return ce.lFrame.lView}function dt(){return ce.lFrame.tView}function Le(e){return ce.lFrame.contextLView=e,e[Fn]}function Fe(e){return ce.lFrame.contextLView=null,e}function Qt(){let e=$0();for(;e!==null&&e.type===64;)e=e.parent;return e}function $0(){return ce.lFrame.currentTNode}function $w(){let e=ce.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Vi(e,t){let n=ce.lFrame;n.currentTNode=e,n.isParent=t}function Pf(){return ce.lFrame.isParent}function Lf(){ce.lFrame.isParent=!1}function Hw(){return ce.lFrame.contextLView}function H0(){let e=ce.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qw(){return ce.lFrame.bindingIndex}function zw(e){return ce.lFrame.bindingIndex=e}function ru(){return ce.lFrame.bindingIndex++}function Ff(e){let t=ce.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Gw(){return ce.lFrame.inI18n}function Kw(e,t){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=e,kd(t)}function Ww(){return ce.lFrame.currentDirectiveIndex}function kd(e){ce.lFrame.currentDirectiveIndex=e}function Qw(e){let t=ce.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function q0(){return ce.lFrame.currentQueryIndex}function Bf(e){ce.lFrame.currentQueryIndex=e}function Yw(e){let t=e[pe];return t.type===2?t.declTNode:t.type===1?e[pn]:null}function z0(e,t,n){if(n&ye.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&ye.Host);)if(i=Yw(o),i===null||(o=o[Oo],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=ce.lFrame=G0();return r.currentTNode=t,r.lView=e,!0}function Vf(e){let t=G0(),n=e[pe];ce.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function G0(){let e=ce.lFrame,t=e===null?null:e.child;return t===null?K0(e):t}function K0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function W0(){let e=ce.lFrame;return ce.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Q0=W0;function Uf(){let e=W0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zw(e){return(ce.lFrame.contextLView=Pw(e,ce.lFrame.contextLView))[Fn]}function Zr(){return ce.lFrame.selectedIndex}function Ri(e){ce.lFrame.selectedIndex=e}function jf(){let e=ce.lFrame;return F0(e.tView,e.selectedIndex)}function Y0(){ce.lFrame.currentNamespace=P0}function Xw(){return ce.lFrame.currentNamespace}var Z0=!0;function iu(){return Z0}function ou(e){Z0=e}function Jw(){return Po(Qt(),we())}function Po(e,t){return new gn(bn(e,t))}var gn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Jw}}return e})();function e_(e){return e instanceof gn?e.nativeElement:e}function t_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function n_(e){return e.flat(Number.POSITIVE_INFINITY)}function $f(e,t){e.forEach(n=>Array.isArray(n)?$f(n,t):t(n))}function X0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function r_(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function i_(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Hf(e,t,n){let r=qs(e,t);return r>=0?e[r|1]=n:(r=~r,i_(e,r,t,n)),r}function gd(e,t){let n=qs(e,t);if(n>=0)return e[n|1]}function qs(e,t){return o_(e,t,1)}function o_(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}function s_(){return this._results[Symbol.iterator]()}var Od=class e{get changes(){return this._changes??=new Ye}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=s_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=n_(t);(this._changesDetected=!t_(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function J0(e){return(e.flags&128)===128}var Pd;function ev(e){Pd=e}function a_(){if(Pd!==void 0)return Pd;if(typeof document<"u")return document;throw new W(210,!1)}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Un(e){return{providers:e.providers||[],imports:e.imports||[]}}function su(e){return jm(e,nv)||jm(e,rv)}function tv(e){return su(e)!==null}function jm(e,t){return e.hasOwnProperty(t)?e[t]:null}function l_(e){let t=e&&(e[nv]||e[rv]);return t||null}function $m(e){return e&&(e.hasOwnProperty(Hm)||e.hasOwnProperty(u_))?e[Hm]:null}var nv=$e({\u0275prov:$e}),Hm=$e({\u0275inj:$e}),rv=$e({ngInjectableDef:$e}),u_=$e({ngInjectorDef:$e}),Z=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},qf=new Z("",{providedIn:"root",factory:()=>c_}),c_="ng",zf=new Z(""),xn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var Gf=new Z("",{providedIn:"root",factory:()=>a_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var d_=$e({__forward_ref__:$e});function Xn(e){return e.__forward_ref__=Xn,e.toString=function(){return Wt(this())},e}function Kt(e){return iv(e)?e():e}function iv(e){return typeof e=="function"&&e.hasOwnProperty(d_)&&e.__forward_ref__===Xn}function ov(e){return e&&!!e.\u0275providers}function Mo(e){return typeof e=="string"?e:e==null?"":String(e)}function f_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Mo(e)}function h_(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new W(-200,e)}function Kf(e,t){throw new W(-201,!1)}var Ld;function p_(){return Ld}function rn(e){let t=Ld;return Ld=e,t}function sv(e,t,n){let r=su(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ye.Optional)return null;if(t!==void 0)return t;Kf(e,"Injector")}var g_={},Ls=g_,Fd="__NG_DI_FLAG__",Bl="ngTempTokenPath",m_="ngTokenPath",v_=/\n/gm,y_="\u0275",qm="__source",As;function Gr(e){let t=As;return As=e,t}function C_(e,t=ye.Default){if(As===void 0)throw new W(-203,!1);return As===null?sv(e,void 0,t):As.get(e,t&ye.Optional?null:void 0,t)}function G(e,t=ye.Default){return(p_()||C_)(Kt(e),t)}function $(e,t=ye.Default){return G(e,au(t))}function au(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bd(e){let t=[];for(let n=0;n<e.length;n++){let r=Kt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){let a=r[s],l=E_(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(G(i,o))}else t.push(G(r))}return t}function av(e,t){return e[Fd]=t,e.prototype[Fd]=t,e}function E_(e){return e[Fd]}function b_(e,t,n,r){let i=e[Bl];throw t[qm]&&i.unshift(t[qm]),e.message=x_(`
`+e.message,i,n,r),e[m_]=i,e[Bl]=null,e}function x_(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==y_?e.slice(2):e;let i=Wt(t);if(Array.isArray(t))i=t.map(Wt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Wt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(v_,`
  `)}`}var I_="h",w_="b";var __=()=>null;function Wf(e,t,n=!1){return __(e,t,n)}var Il="__parameters__";function S_(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function lv(e,t,n){return $s(()=>{let r=S_(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(Il)?l[Il]:Object.defineProperty(l,Il,{value:[]})[Il];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Qf=av(lv("Optional"),8);var uv=av(lv("SkipSelf"),4);function ki(e,t){let n=e.hasOwnProperty(Pl);return n?e[Pl]:null}var No=new Z(""),cv=new Z("",-1),dv=new Z(""),Vl=class{get(t,n=Ls){if(n===Ls){let r=new Error(`NullInjectorError: No provider for ${Wt(t)}!`);throw r.name="NullInjectorError",r}return n}};function Lo(e){return{\u0275providers:e}}function D_(...e){return{\u0275providers:fv(!0,e),\u0275fromNgModule:!0}}function fv(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return $f(t,s=>{let a=s;Vd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hv(i,o),n}function hv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Yf(i,o=>{t(o,r)})}}function Vd(e,t,n,r){if(e=Kt(e),!e)return!1;let i=null,o=$m(e),s=!o&&Ai(e);if(!o&&!s){let l=e.ngModule;if(o=$m(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Vd(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{$f(o.imports,c=>{Vd(c,t,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&hv(u,t)}if(!a){let u=ki(i)||(()=>new i);t({provide:i,useFactory:u,deps:on},i),t({provide:dv,useValue:i,multi:!0},i),t({provide:No,useValue:()=>G(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=e;Yf(l,c=>{t(c,u)})}}else return!1;return i!==e&&e.providers!==void 0}function Yf(e,t){for(let n of e)ov(n)&&(n=n.\u0275providers),Array.isArray(n)?Yf(n,t):t(n)}var T_=$e({provide:String,useValue:$e});function pv(e){return e!==null&&typeof e=="object"&&T_ in e}function A_(e){return!!(e&&e.useExisting)}function M_(e){return!!(e&&e.useFactory)}function Ro(e){return typeof e=="function"}function N_(e){return!!e.useClass}var lu=new Z(""),Al={},R_={},md;function Zf(){return md===void 0&&(md=new Vl),md}var sn=class{},Fs=class extends sn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jd(t,s=>this.processProvider(s)),this.records.set(cv,Io(void 0,this)),i.has("environment")&&this.records.set(sn,Io(void 0,this));let o=this.records.get(lu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dv,on,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Gr(this),r=rn(void 0),i;try{return t()}finally{Gr(n),rn(r)}}get(t,n=Ls,r=ye.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Pm))return t[Pm](this);r=au(r);let i,o=Gr(this),s=rn(void 0);try{if(!(r&ye.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=F_(t)&&su(t);u&&this.injectableDefInScope(u)?l=Io(Ud(t),Al):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&ye.Self?Zf():this.parent;return n=r&ye.Optional&&n===Ls?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Bl]=a[Bl]||[]).unshift(Wt(t)),o)throw a;return b_(a,t,"R3InjectorError",this.source)}else throw a}finally{rn(s),Gr(o)}}resolveInjectorInitializers(){let t=Gr(this),n=rn(void 0),r;try{let i=this.get(No,on,ye.Self);for(let o of i)o()}finally{Gr(t),rn(n)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Wt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(t){t=Kt(t);let n=Ro(t)?t:Kt(t&&t.provide),r=O_(t);if(!Ro(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Io(void 0,Al,!0),i.factory=()=>Bd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Al&&(n.value=R_,n.value=n.factory()),typeof n.value=="object"&&n.value&&L_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Kt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ud(e){let t=su(e),n=t!==null?t.factory:ki(e);if(n!==null)return n;if(e instanceof Z)throw new W(204,!1);if(e instanceof Function)return k_(e);throw new W(204,!1)}function k_(e){if(e.length>0)throw new W(204,!1);let n=l_(e);return n!==null?()=>n.factory(e):()=>new e}function O_(e){if(pv(e))return Io(void 0,e.useValue);{let t=gv(e);return Io(t,Al)}}function gv(e,t,n){let r;if(Ro(e)){let i=Kt(e);return ki(i)||Ud(i)}else if(pv(e))r=()=>Kt(e.useValue);else if(M_(e))r=()=>e.useFactory(...Bd(e.deps||[]));else if(A_(e))r=()=>G(Kt(e.useExisting));else{let i=Kt(e&&(e.useClass||e.provide));if(P_(e))r=()=>new i(...Bd(e.deps));else return ki(i)||Ud(i)}return r}function Io(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function P_(e){return!!e.deps}function L_(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function F_(e){return typeof e=="function"||typeof e=="object"&&e instanceof Z}function jd(e,t){for(let n of e)Array.isArray(n)?jd(n,t):n&&ov(n)?jd(n.\u0275providers,t):t(n)}function Ar(e,t){e instanceof Fs&&e.assertNotDestroyed();let n,r=Gr(e),i=rn(void 0);try{return t()}finally{Gr(r),rn(i)}}function B_(e){return typeof e=="function"}var $d=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function mv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Mr(){return vv}function vv(e){return e.type.prototype.ngOnChanges&&(e.setInput=U_),V_}Mr.ngInherit=!0;function V_(){let e=Cv(this),t=e?.current;if(t){let n=e.previous;if(n===So)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function U_(e,t,n,r,i){let o=this.declaredInputs[r],s=Cv(e)||j_(e,{previous:So,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new $d(u&&u.currentValue,n,l===So),mv(e,t,i,n)}var yv="__ngSimpleChanges__";function Cv(e){return e[yv]||null}function j_(e,t){return e[yv]=t}var zm=null;var Wn=function(e,t,n){zm?.(e,t,n)};function $_(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=vv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function uu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function Ml(e,t,n){Ev(e,t,3,n)}function Nl(e,t,n,r){(e[ne]&3)===n&&Ev(e,t,n,r)}function vd(e,t){let n=e[ne];(n&3)===t&&(n&=16383,n+=1,e[ne]=n)}function Ev(e,t,n,r){let i=r!==void 0?e[xo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[xo]+=65536),(a<o||o==-1)&&(H_(e,n,t,l),e[xo]=(e[xo]&4294901760)+l+2),l++}function Gm(e,t){Wn(4,e,t);let n=qt(null);try{t.call(e)}finally{qt(n),Wn(5,e,t)}}function H_(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[ne]>>14<e[xo]>>16&&(e[ne]&3)===t&&(e[ne]+=16384,Gm(a,o)):Gm(a,o)}var _o=-1,Oi=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function q_(e){return e instanceof Oi}function z_(e){return(e.flags&8)!==0}function G_(e){return(e.flags&16)!==0}function bv(e){return e!==_o}function Ul(e){return e&32767}function K_(e){return e>>16}function jl(e,t){let n=K_(e),r=t;for(;n>0;)r=r[Oo],n--;return r}var Hd=!0;function $l(e){let t=Hd;return Hd=e,t}var W_=256,xv=W_-1,Iv=5,Q_=0,Qn={};function Y_(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ds)&&(r=n[Ds]),r==null&&(r=n[Ds]=Q_++);let i=r&xv,o=1<<i;t.data[e+(i>>Iv)]|=o}function Hl(e,t){let n=wv(e,t);if(n!==-1)return n;let r=t[pe];r.firstCreatePass&&(e.injectorIndex=t.length,yd(r.data,e),yd(t,null),yd(r.blueprint,null));let i=Xf(e,t),o=e.injectorIndex;if(bv(i)){let s=Ul(i),a=jl(i,t),l=a[pe].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function yd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Xf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Av(i),r===null)return _o;if(n++,i=i[Oo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _o}function qd(e,t,n){Y_(e,t,n)}function Z_(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(I0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function _v(e,t,n){if(n&ye.Optional||e!==void 0)return e;Kf(t,"NodeInjector")}function Sv(e,t,n,r){if(n&ye.Optional&&r===void 0&&(r=null),!(n&(ye.Self|ye.Host))){let i=e[Do],o=rn(void 0);try{return i?i.get(t,r,n&ye.Optional):sv(t,r,n&ye.Optional)}finally{rn(o)}}return _v(r,t,n)}function Dv(e,t,n,r=ye.Default,i){if(e!==null){if(t[ne]&2048&&!(r&ye.Self)){let s=tS(e,t,n,r,Qn);if(s!==Qn)return s}let o=Tv(e,t,n,r,Qn);if(o!==Qn)return o}return Sv(t,n,r,i)}function Tv(e,t,n,r,i){let o=J_(n);if(typeof o=="function"){if(!z0(t,e,r))return r&ye.Host?_v(i,n,r):Sv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ye.Optional))Kf(n);else return s}finally{Q0()}}else if(typeof o=="number"){let s=null,a=wv(e,t),l=_o,u=r&ye.Host?t[Bn][pn]:null;for((a===-1||r&ye.SkipSelf)&&(l=a===-1?Xf(e,t):t[a+8],l===_o||!Wm(r,!1)?a=-1:(s=t[pe],a=Ul(l),t=jl(l,t)));a!==-1;){let c=t[pe];if(Km(o,a,c.data)){let d=X_(a,t,n,s,r,u);if(d!==Qn)return d}l=t[a+8],l!==_o&&Wm(r,t[pe].data[a+8]===u)&&Km(o,a,t)?(s=c,a=Ul(l),t=jl(l,t)):a=-1}}return i}function X_(e,t,n,r,i,o){let s=t[pe],a=s.data[e+8],l=r==null?tu(a)&&Hd:r!=s&&(a.type&3)!==0,u=i&ye.Host&&o===a,c=Rl(a,s,n,l,u);return c!==null?Pi(t,s,c,a):Qn}function Rl(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,c=o>>20,d=r?a:a+c,f=i?a+c:u;for(let v=d;v<f;v++){let m=s[v];if(v<l&&n===m||v>=l&&m.type===n)return v}if(i){let v=s[l];if(v&&Kr(v)&&v.type===n)return l}return null}function Pi(e,t,n,r){let i=e[n],o=t.data;if(q_(i)){let s=i;s.resolving&&h_(f_(o[n]));let a=$l(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?rn(s.injectImpl):null,c=z0(e,r,ye.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&$_(n,o[n],t)}finally{u!==null&&rn(u),$l(a),s.resolving=!1,Q0()}}return i}function J_(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ds)?e[Ds]:void 0;return typeof t=="number"?t>=0?t&xv:eS:t}function Km(e,t,n){let r=1<<e;return!!(n[t+(e>>Iv)]&r)}function Wm(e,t){return!(e&ye.Self)&&!(e&ye.Host&&t)}var Ti=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Dv(this._tNode,this._lView,t,au(r),n)}};function eS(){return new Ti(Qt(),we())}function Ui(e){return $s(()=>{let t=e.prototype.constructor,n=t[Pl]||zd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Pl]||zd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zd(e){return iv(e)?()=>{let t=zd(Kt(e));return t&&t()}:ki(e)}function tS(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=Tv(o,s,n,r|ye.Self,Qn);if(a!==Qn)return a;let l=o.parent;if(!l){let u=s[k0];if(u){let c=u.get(n,Qn,r);if(c!==Qn)return c}l=Av(s),s=s[Oo]}o=l}return i}function Av(e){let t=e[pe],n=t.type;return n===2?t.declTNode:n===1?e[pn]:null}function zs(e){return Z_(Qt(),e)}function Qm(e,t=null,n=null,r){let i=Mv(e,t,n,r);return i.resolveInjectorInitializers(),i}function Mv(e,t=null,n=null,r,i=new Set){let o=[n||on,D_(e)];return r=r||(typeof e=="object"?void 0:Wt(e)),new Fs(o,t||Zf(),r||null,i)}var Fo=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Ls}static{this.NULL=new Vl}static create(n,r){if(Array.isArray(n))return Qm({name:""},r,n,"");{let i=n.name??"";return Qm({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=z({token:e,providedIn:"any",factory:()=>G(cv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})(),nS="ngOriginalError";function Cd(e){return e[nS]}var Ir=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Cd(t);for(;n&&Cd(n);)n=Cd(n);return n||null}},Nv=new Z("",{providedIn:"root",factory:()=>$(Ir).handleError.bind(void 0)});var Rv=!1,rS=new Z("",{providedIn:"root",factory:()=>Rv}),wl;function iS(){if(wl===void 0&&(wl=null,Er.trustedTypes))try{wl=Er.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wl}function cu(e){return iS()?.createHTML(e)||e}var _l;function oS(){if(_l===void 0&&(_l=null,Er.trustedTypes))try{_l=Er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _l}function Ym(e){return oS()?.createScriptURL(e)||e}var wr=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${E0})`}},Gd=class extends wr{getTypeName(){return"HTML"}},Kd=class extends wr{getTypeName(){return"Style"}},Wd=class extends wr{getTypeName(){return"Script"}},Qd=class extends wr{getTypeName(){return"URL"}},Yd=class extends wr{getTypeName(){return"ResourceURL"}};function jn(e){return e instanceof wr?e.changingThisBreaksApplicationSecurity:e}function Xr(e,t){let n=sS(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${E0})`)}return n===t}function sS(e){return e instanceof wr&&e.getTypeName()||null}function kv(e){return new Gd(e)}function Ov(e){return new Kd(e)}function Pv(e){return new Wd(e)}function Lv(e){return new Qd(e)}function Fv(e){return new Yd(e)}function aS(e){let t=new Xd(e);return lS()?new Zd(t):t}var Zd=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(cu(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}},Xd=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=cu(t),n}};function lS(){try{return!!new window.DOMParser().parseFromString(cu(""),"text/html")}catch{return!1}}var uS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function du(e){return e=String(e),e.match(uS)?e:"unsafe:"+e}function Nr(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Gs(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Bv=Nr("area,br,col,hr,img,wbr"),Vv=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uv=Nr("rp,rt"),cS=Gs(Uv,Vv),dS=Gs(Vv,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fS=Gs(Uv,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zm=Gs(Bv,dS,fS,cS),jv=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hS=Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pS=Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gS=Gs(jv,hS,pS),mS=Nr("script,style,template"),Jd=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(t){let n=t.nodeName.toLowerCase();if(!Zm.hasOwnProperty(n))return this.sanitizedSomething=!0,!mS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!gS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;jv[a]&&(l=du(l)),this.buf.push(" ",s,'="',Xm(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=t.nodeName.toLowerCase();Zm.hasOwnProperty(n)&&!Bv.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Xm(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}},vS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yS=/([^\#-~ |!])/g;function Xm(e){return e.replace(/&/g,"&amp;").replace(vS,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(yS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Sl;function $v(e,t){let n=null;try{Sl=Sl||aS(e);let r=t?String(t):"";n=Sl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Sl.getInertBodyElement(r)}while(r!==o);let a=new Jd().sanitizeChildren(Jm(n)||n);return cu(a)}finally{if(n){let r=Jm(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Jm(e){return"content"in e&&CS(e)?e.content:null}function CS(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var an=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(an||{});function $n(e){let t=qv();return t?t.sanitize(an.URL,e)||"":Xr(e,"URL")?jn(e):du(Mo(e))}function ES(e){let t=qv();if(t)return Ym(t.sanitize(an.RESOURCE_URL,e)||"");if(Xr(e,"ResourceURL"))return Ym(jn(e));throw new W(904,!1)}function bS(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?ES:$n}function Hv(e,t,n){return bS(t,n)(e)}function qv(){let e=we();return e&&e[br].sanitizer}var xS=/^>|^->|<!--|-->|--!>|<!-$/g,IS=/(<|>)/g,wS="\u200B$1\u200B";function _S(e){return e.replace(xS,t=>t.replace(IS,wS))}var zv=new Map,SS=0;function DS(){return SS++}function TS(e){zv.set(e[eu],e)}function AS(e){zv.delete(e[eu])}var e0="__ngContext__";function Wr(e,t){Di(t)?(e[e0]=t[eu],TS(t)):e[e0]=t}function Gv(e){return e instanceof Function?e():e}var _r=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_r||{}),MS;function Jf(e,t){return MS(e,t)}function wo(e,t,n,r,i){if(r!=null){let o,s=!1;Tr(r)?o=r:Di(r)&&(s=!0,r=r[Dr]);let a=Zn(r);e===0&&n!==null?i==null?Xv(t,n,a):ql(t,n,a,i||null,!0):e===1&&n!==null?ql(t,n,a,i||null,!0):e===2?GS(t,a,s):e===3&&t.destroyNode(a),o!=null&&WS(t,e,o,n,i)}}function NS(e,t){return e.createText(t)}function RS(e,t,n){e.setValue(t,n)}function kS(e,t){return e.createComment(_S(t))}function Kv(e,t,n){return e.createElement(t,n)}function OS(e,t){Wv(e,t),t[Dr]=null,t[pn]=null}function PS(e,t,n,r,i,o){r[Dr]=i,r[pn]=t,hu(e,r,n,1,i,o)}function Wv(e,t){hu(e,t,t[rt],2,null,null)}function LS(e){let t=e[ks];if(!t)return Ed(e[pe],e);for(;t;){let n=null;if(Di(t))n=t[ks];else{let r=t[fn];r&&(n=r)}if(!n){for(;t&&!t[Ln]&&t!==e;)Di(t)&&Ed(t[pe],t),t=t[It];t===null&&(t=e),Di(t)&&Ed(t[pe],t),n=t&&t[Ln]}t=n}}function FS(e,t,n,r){let i=fn+r,o=n.length;r>0&&(n[i-1][Ln]=t),r<o-fn?(t[Ln]=n[i],X0(n,fn+r,t)):(n.push(t),t[Ln]=null),t[It]=n;let s=t[Hs];s!==null&&n!==s&&BS(s,t);let a=t[xr];a!==null&&a.insertView(e),Rd(t),t[ne]|=128}function BS(e,t){let n=e[To],i=t[It][It][Bn];t[Bn]!==i&&(e[ne]|=Nf.HasTransplantedViews),n===null?e[To]=[t]:n.push(t)}function Qv(e,t){let n=e[To],r=n.indexOf(t);n.splice(r,1)}function ef(e,t){if(e.length<=fn)return;let n=fn+t,r=e[n];if(r){let i=r[Hs];i!==null&&i!==e&&Qv(i,r),t>0&&(e[n-1][Ln]=r[Ln]);let o=Fl(e,fn+t);OS(r[pe],r);let s=o[xr];s!==null&&s.detachView(o[pe]),r[It]=null,r[Ln]=null,r[ne]&=-129}return r}function Yv(e,t){if(!(t[ne]&256)){let n=t[rt];n.destroyNode&&hu(e,t,n,3,null,null),LS(t)}}function Ed(e,t){if(!(t[ne]&256)){t[ne]&=-129,t[ne]|=256,t[Mi]&&am(t[Mi]),US(e,t),VS(e,t),t[pe].type===1&&t[rt].destroy();let n=t[Hs];if(n!==null&&Tr(t[It])){n!==t[It]&&Qv(n,t);let r=t[xr];r!==null&&r.detachView(e)}AS(t)}}function VS(e,t){let n=e.cleanup,r=t[Rs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Rs]=null);let i=t[Ts];if(i!==null){t[Ts]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function US(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Oi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Wn(4,a,l);try{l.call(a)}finally{Wn(5,a,l)}}else{Wn(4,i,o);try{o.call(i)}finally{Wn(5,i,o)}}}}}function Zv(e,t,n){return jS(e,t.parent,n)}function jS(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[Dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Yn.None||o===Yn.Emulated)return null}return bn(r,n)}}function ql(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Xv(e,t,n){e.appendChild(t,n)}function t0(e,t,n,r,i){r!==null?ql(e,t,n,r,i):Xv(e,t,n)}function $S(e,t,n,r){e.removeChild(t,n,r)}function eh(e,t){return e.parentNode(t)}function HS(e,t){return e.nextSibling(t)}function Jv(e,t,n){return zS(e,t,n)}function qS(e,t,n){return e.type&40?bn(e,n):null}var zS=qS,n0;function fu(e,t,n,r){let i=Zv(e,r,t),o=t[rt],s=r.parent||t[pn],a=Jv(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)t0(o,i,n[l],a,!1);else t0(o,i,n,a,!1);n0!==void 0&&n0(o,r,t,n,i)}function kl(e,t){if(t!==null){let n=t.type;if(n&3)return bn(t,e);if(n&4)return tf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return kl(e,r);{let i=e[t.index];return Tr(i)?tf(-1,i):Zn(i)}}else{if(n&32)return Jf(t,e)()||Zn(e[t.index]);{let r=ey(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ps(e[Bn]);return kl(i,r)}else return kl(e,t.next)}}}return null}function ey(e,t){if(t!==null){let r=e[Bn][pn],i=t.projection;return r.projection[i]}return null}function tf(e,t){let n=fn+e+1;if(n<t.length){let r=t[n],i=r[pe].firstChild;if(i!==null)return kl(r,i)}return t[Ni]}function GS(e,t,n){let r=eh(e,t);r&&$S(e,r,t,n)}function th(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Wr(Zn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)th(e,t,n.child,r,i,o,!1),wo(t,e,i,a,o);else if(l&32){let u=Jf(n,r),c;for(;c=u();)wo(t,e,i,c,o);wo(t,e,i,a,o)}else l&16?ty(e,t,r,n,i,o):wo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function hu(e,t,n,r,i,o){th(n,r,e.firstChild,t,i,o,!1)}function KS(e,t,n){let r=t[rt],i=Zv(e,n,t),o=n.parent||t[pn],s=Jv(o,n,t);ty(r,0,t,n,i,s)}function ty(e,t,n,r,i,o){let s=n[Bn],l=s[pn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];wo(t,e,i,c,o)}else{let u=l,c=s[It];J0(r)&&(u.flags|=128),th(e,t,u,c,i,o,!0)}}function WS(e,t,n,r,i){let o=n[Ni],s=Zn(n);o!==s&&wo(t,e,r,o,i);for(let a=fn;a<n.length;a++){let l=n[a];hu(l[pe],l,e,t,r,o)}}function QS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),e.setStyle(n,r,i,o))}}function YS(e,t,n){e.setAttribute(t,"style",n)}function ny(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ry(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Nd(e,t,r),i!==null&&ny(e,t,i),o!==null&&YS(e,t,o)}var Hn={};function H(e=1){iy(dt(),we(),Zr()+e,!1)}function iy(e,t,n,r){if(!r)if((t[ne]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ml(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Nl(t,o,0,n)}Ri(n)}function q(e,t=ye.Default){let n=we();if(n===null)return G(e,t);let r=Qt();return Dv(r,n,Kt(e),t)}function oy(e,t,n,r,i,o){let s=qt(null);try{let a=null;i&jt.SignalBased&&(a=t[r][qc]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&jt.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):mv(t,a,r,o)}finally{qt(s)}}function ZS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ri(~i);else{let o=i,s=n[++r],a=n[++r];Kw(s,o);let l=t[o];a(2,l)}}}finally{Ri(-1)}}function pu(e,t,n,r,i,o,s,a,l,u,c){let d=t.blueprint.slice();return d[Dr]=i,d[ne]=r|4|128|8|64,(u!==null||e&&e[ne]&2048)&&(d[ne]|=2048),V0(d),d[It]=d[Oo]=e,d[Fn]=n,d[br]=s||e&&e[br],d[rt]=a||e&&e[rt],d[Do]=l||e&&e[Do]||null,d[pn]=o,d[eu]=DS(),d[Ns]=c,d[k0]=u,d[Bn]=t.type==2?e[Bn]:d,d}function Bo(e,t,n,r,i){let o=e.data[t];if(o===null)o=XS(e,t,n,r,i),Gw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=$w();o.injectorIndex=s===null?-1:s.injectorIndex}return Vi(o,!0),o}function XS(e,t,n,r,i){let o=$0(),s=Pf(),a=s?o:o&&o.parent,l=e.data[t]=iD(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function sy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ay(e,t,n,r,i){let o=Zr(),s=r&2;try{Ri(-1),s&&t.length>hn&&iy(e,t,hn,!1),Wn(s?2:0,i),n(r,i)}finally{Ri(o),Wn(s?3:1,i)}}function nh(e,t,n){if(Rf(t)){let r=qt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{qt(r)}}}function rh(e,t,n){U0()&&(cD(e,t,n,bn(n,t)),(n.flags&64)===64&&dy(e,t,n))}function ih(e,t,n=bn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function ly(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=oh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function oh(e,t,n,r,i,o,s,a,l,u,c){let d=hn+r,f=d+i,v=JS(d,f),m=typeof u=="function"?u():u;return v[pe]={type:e,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:c}}function JS(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Hn);return n}function eD(e,t,n,r){let o=r.get(rS,Rv)||n===Yn.ShadowDom,s=e.selectRootElement(t,o);return tD(s),s}function tD(e){nD(e)}var nD=()=>null;function rD(e,t,n,r){let i=py(t);i.push(n),e.firstCreatePass&&gy(e).push(r,i.length-1)}function iD(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return j0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function r0(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=jt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?i0(r,n,u,a,l):i0(r,n,u,a)}return r}function i0(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function oD(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,u=null;for(let c=r;c<i;c++){let d=o[c],f=n?n.get(d):null,v=f?f.inputs:null,m=f?f.outputs:null;l=r0(0,d.inputs,c,l,v),u=r0(1,d.outputs,c,u,m);let y=l!==null&&s!==null&&!_0(t)?bD(l,c,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}function sD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function uy(e,t,n,r,i,o,s,a){let l=bn(t,n),u=t.inputs,c;!a&&u!=null&&(c=u[r])?(ah(e,n,c,r,i),tu(t)&&aD(n,t.index)):t.type&3?(r=sD(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function aD(e,t){let n=Yr(t,e);n[ne]&16||(n[ne]|=64)}function sh(e,t,n,r){if(U0()){let i=r===null?null:{"":-1},o=fD(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&cy(e,t,n,s,i,a),i&&hD(n,r,i)}n.mergedAttrs=Ms(n.mergedAttrs,n.attrs)}function cy(e,t,n,r,i,o){for(let u=0;u<r.length;u++)qd(Hl(n,t),e,r[u].type);gD(n,e.data.length,r.length);for(let u=0;u<r.length;u++){let c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=sy(e,t,r.length,null);for(let u=0;u<r.length;u++){let c=r[u];n.mergedAttrs=Ms(n.mergedAttrs,c.hostAttrs),mD(e,n,t,l,c),pD(l,c,i),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}oD(e,n,o)}function lD(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;uD(s)!=a&&s.push(a),s.push(n,r,o)}}function uD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function cD(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;tu(n)&&vD(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Hl(n,t),Wr(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],u=Pi(t,e,a,n);if(Wr(u,t),s!==null&&ED(t,a-i,u,l,n,s),Kr(l)){let c=Yr(n.index,t);c[Fn]=Pi(t,e,a,n)}}}function dy(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ww();try{Ri(o);for(let a=r;a<i;a++){let l=e.data[a],u=t[a];kd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dD(l,u)}}finally{Ri(-1),kd(s)}}function dD(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function fD(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(S0(t,s.selectors,!1))if(r||(r=[]),Kr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;nf(e,t,l)}else r.unshift(s),nf(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function nf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function hD(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new W(-301,!1);r.push(t[i],o)}}}function pD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kr(t)&&(n[""]=e)}}function gD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function mD(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=ki(i.type,!0)),s=new Oi(o,Kr(i),q);e.blueprint[r]=s,n[r]=s,lD(e,t,r,sy(e,n,i.hostVars,Hn),i)}function vD(e,t,n){let r=bn(t,e),i=ly(n),o=e[br].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=gu(e,pu(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function yD(e,t,n,r,i,o){let s=bn(e,t);CD(t[rt],s,o,e.value,n,r,i)}function CD(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Mo(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function ED(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++],d=s[a++];oy(r,n,l,u,c,d)}}function bD(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function fy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function hy(e,t){let n=e.contentQueries;if(n!==null){let r=qt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Bf(o),a.contentQueries(2,t[s],s)}}}finally{qt(r)}}}function gu(e,t){return e[ks]?e[Um][Ln]=t:e[ks]=t,e[Um]=t,t}function rf(e,t,n){Bf(0);let r=qt(null);try{t(e,n)}finally{qt(r)}}function py(e){return e[Rs]||(e[Rs]=[])}function gy(e){return e.cleanup||(e.cleanup=[])}function my(e,t){let n=e[Do],r=n?n.get(Ir,null):null;r&&r.handleError(t)}function ah(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],u=t[s],c=e.data[s];oy(c,u,r,a,l,i)}}function vy(e,t,n){let r=L0(t,e);RS(e[rt],r,n)}function xD(e,t){let n=Yr(t,e),r=n[pe];ID(r,n);let i=n[Dr];i!==null&&n[Ns]===null&&(n[Ns]=Wf(i,n[Do])),lh(r,n,n[Fn])}function ID(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function lh(e,t,n){Vf(t);try{let r=e.viewQuery;r!==null&&rf(1,r,n);let i=e.template;i!==null&&ay(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[xr]?.finishViewCreation(e),e.staticContentQueries&&hy(e,t),e.staticViewQueries&&rf(2,e.viewQuery,n);let o=e.components;o!==null&&wD(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ne]&=-5,Uf()}}function wD(e,t){for(let n=0;n<t.length;n++)xD(e,t[n])}function _D(e,t,n,r){let i=t.tView,s=e[ne]&4096?4096:16,a=pu(e,i,n,s,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null),l=e[t.index];a[Hs]=l;let u=e[xr];return u!==null&&(a[xr]=u.createEmbeddedView(i)),lh(i,a,n),a}function o0(e,t){return!t||t.firstChild===null||J0(e)}function SD(e,t,n,r=!0){let i=t[pe];if(FS(i,t,e,n),r){let s=tf(n,e),a=t[rt],l=eh(a,e[Ni]);l!==null&&PS(i,e[pn],a,t,l,s)}let o=t[Ns];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zl(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(Zn(o)),Tr(o)&&DD(o,r);let s=n.type;if(s&8)zl(e,t,n.child,r);else if(s&32){let a=Jf(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=ey(t,n);if(Array.isArray(a))r.push(...a);else{let l=Ps(t[Bn]);zl(l[pe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function DD(e,t){for(let n=fn;n<e.length;n++){let r=e[n],i=r[pe].firstChild;i!==null&&zl(r[pe],r,i,t)}e[Ni]!==e[Dr]&&t.push(e[Ni])}var yy=[];function TD(e){return e[Mi]??AD(e)}function AD(e){let t=yy.pop()??Object.create(ND);return t.lView=e,t}function MD(e){e.lView[Mi]!==e&&(e.lView=null,yy.push(e))}var ND=Me(O({},im),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Os(e.lView)},consumerOnSignalRead(){this.lView[Mi]=this}});function Cy(e){return by(e[ks])}function Ey(e){return by(e[Ln])}function by(e){for(;e!==null&&!Tr(e);)e=e[Ln];return e}var xy=100;function Iy(e,t=!0,n=0){let r=e[br],i=r.rendererFactory,o=!1;o||i.begin?.();try{RD(e,n)}catch(s){throw t&&my(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function RD(e,t){of(e,t);let n=0;for(;Of(e);){if(n===xy)throw new W(103,!1);n++,of(e,1)}}function kD(e,t,n,r){let i=t[ne];if((i&256)===256)return;let o=!1;!o&&t[br].inlineEffectRunner?.flush(),Vf(t);let s=null,a=null;!o&&OD(e)&&(a=TD(t),s=om(a));try{V0(t),zw(e.bindingStartIndex),n!==null&&ay(e,t,n,2,r);let l=(i&3)===3;if(!o)if(l){let d=e.preOrderCheckHooks;d!==null&&Ml(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Nl(t,d,0,null),vd(t,0)}if(PD(t),wy(t,0),e.contentQueries!==null&&hy(e,t),!o)if(l){let d=e.contentCheckHooks;d!==null&&Ml(t,d)}else{let d=e.contentHooks;d!==null&&Nl(t,d,1),vd(t,1)}ZS(e,t);let u=e.components;u!==null&&Sy(t,u,0);let c=e.viewQuery;if(c!==null&&rf(2,c,r),!o)if(l){let d=e.viewCheckHooks;d!==null&&Ml(t,d)}else{let d=e.viewHooks;d!==null&&Nl(t,d,2),vd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[pd]){for(let d of t[pd])d();t[pd]=null}o||(t[ne]&=-73)}catch(l){throw Os(t),l}finally{a!==null&&(sm(a,s),MD(a)),Uf()}}function OD(e){return e.type!==2}function wy(e,t){for(let n=Cy(e);n!==null;n=Ey(n))for(let r=fn;r<n.length;r++){let i=n[r];_y(i,t)}}function PD(e){for(let t=Cy(e);t!==null;t=Ey(t)){if(!(t[ne]&Nf.HasTransplantedViews))continue;let n=t[To];for(let r=0;r<n.length;r++){let i=n[r],o=i[It];Ow(i)}}}function LD(e,t,n){let r=Yr(t,e);_y(r,n)}function _y(e,t){kf(e)&&of(e,t)}function of(e,t){let r=e[pe],i=e[ne],o=e[Mi],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&zc(o)),o&&(o.dirty=!1),e[ne]&=-9217,s)kD(r,e,r.template,e[Fn]);else if(i&8192){wy(e,1);let a=r.components;a!==null&&Sy(e,a,1)}}function Sy(e,t,n){for(let r=0;r<t.length;r++)LD(e,t[r],n)}function uh(e){for(e[br].changeDetectionScheduler?.notify();e;){e[ne]|=64;let t=Ps(e);if(Tw(e)&&!t)return e;e=t}return null}var Li=class{get rootNodes(){let t=this._lView,n=t[pe];return zl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(t){this._lView[Fn]=t}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[It];if(Tr(t)){let n=t[Ll],r=n?n.indexOf(this):-1;r>-1&&(ef(t,r),Fl(n,r))}this._attachedToViewContainer=!1}Yv(this._lView[pe],this._lView)}onDestroy(t){Lw(this._lView,t)}markForCheck(){uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Rd(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Iy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Wv(this._lView[pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=t,Rd(this._lView)}},Fi=(()=>{class e{static{this.__NG_ELEMENT_ID__=VD}}return e})(),FD=Fi,BD=class extends FD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=_D(this._declarationLView,this._declarationTContainer,t,{injector:n,dehydratedView:r});return new Li(i)}};function VD(){return mu(Qt(),we())}function mu(e,t){return e.type&4?new BD(t,e,Po(e,t)):null}var J4=new RegExp(`^(\\d+)*(${w_}|${I_})*(.*)`);var UD=()=>null;function s0(e,t){return UD(e,t)}var sf=class{},af=class{},Gl=class{};function jD(e){let t=Error(`No component factory found for ${Wt(e)}.`);return t[$D]=e,t}var $D="ngComponent";var lf=class{resolveComponentFactory(t){throw jD(t)}},vu=(()=>{class e{static{this.NULL=new lf}}return e})(),Bs=class{},Jn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>HD()}}return e})();function HD(){let e=we(),t=Qt(),n=Yr(t.index,e);return(Di(n)?n:e)[rt]}var qD=(()=>{class e{static{this.\u0275prov=z({token:e,providedIn:"root",factory:()=>null})}}return e})(),bd={};function zD(e){return typeof e=="function"&&e[qc]!==void 0}var a0=new Set;function ch(e){a0.has(e)||(a0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Dy(e){return zD(e)&&typeof e.set=="function"}function dh(e){let t=qt(null);try{return e()}finally{qt(t)}}function Ty(e){return KD(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function GD(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function KD(e){return e!==null&&(typeof e=="function"||typeof e=="object")}var uf=class{constructor(){}supports(t){return Ty(t)}create(t){return new cf(t)}},WD=(e,t)=>t,cf=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||WD}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<l0(r,i,o)?n:r,a=l0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){let v=f<o.length?o[f]:o[f]=0,m=v+f;c<=m&&m<u&&(o[f]=v+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Ty(t))throw new W(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,GD(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new df(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Kl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},df=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ff=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Kl=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new ff,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function l0(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function u0(){return new fh([new uf])}var fh=(()=>{class e{static{this.\u0275prov=z({token:e,providedIn:"root",factory:u0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||u0()),deps:[[e,new uv,new Qf]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new W(901,!1)}}return e})();var Jr=(()=>{class e{static{this.__NG_ELEMENT_ID__=QD}}return e})();function QD(e){return YD(Qt(),we(),(e&16)===16)}function YD(e,t,n){if(tu(e)&&!n){let r=Yr(e.index,t);return new Li(r,r)}else if(e.type&47){let r=t[Bn];return new Li(r,t)}return null}function c0(...e){}function ZD(){let e=typeof Er.requestAnimationFrame=="function",t=Er[e?"requestAnimationFrame":"setTimeout"],n=Er[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Ze=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=ZD().nativeRequestAnimationFrame,e1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new W(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,XD,c0,c0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},XD={};function hh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function JD(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Er,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hf(e),e.isCheckStableRunning=!0,hh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hf(e))}function e1(e){let t=()=>{JD(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(t1(a))return n.invokeTask(i,o,s,a);try{return d0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),f0(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return d0(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),f0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,hf(e),hh(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function hf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function d0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function f0(e){e._nesting--,hh(e)}function t1(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Ay=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Wl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Md(i,a);else if(o==2){let l=a,u=t[++s];r=Md(r,l+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ql=class extends vu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Ai(t);return new Vs(n,this.ngModule)}};function h0(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function n1(e){let t=e.toLowerCase();return t==="svg"?P0:t==="math"?Aw:null}var pf=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=au(r);let i=this.injector.get(t,bd,r);return i!==bd||n===bd?i:this.parentInjector.get(t,n,r)}},Vs=class extends Gl{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=h0(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return h0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Iw(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){i=i||this.ngModule;let o=i instanceof sn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new pf(t,o):t,a=s.get(Bs,null);if(a===null)throw new W(407,!1);let l=s.get(qD,null),u=s.get(Ay,null),c=s.get(sf,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:c},f=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",m=r?eD(f,r,this.componentDef.encapsulation,s):Kv(f,v,n1(v)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let E=null;m!==null&&(E=Wf(m,s,!0));let x=oh(0,null,null,1,0,null,null,null,null,null,null),S=pu(null,x,null,y,null,null,d,f,s,null,E);Vf(S);let _,k;try{let M=this.componentDef,N,ee=null;M.findHostDirectiveDefs?(N=[],ee=new Map,M.findHostDirectiveDefs(M,N,ee),N.push(M)):N=[M];let he=r1(S,m),ke=i1(he,m,M,N,S,d,f);k=F0(x,hn),m&&a1(f,M,m,r),n!==void 0&&l1(k,this.ngContentSelectors,n),_=s1(ke,M,N,ee,S,[u1]),lh(x,S,null)}finally{Uf()}return new gf(this.componentType,_,Po(k,S),S,k)}},gf=class extends af{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Li(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ah(o[pe],o,i,t,n),this.previousInputValues.set(t,n);let s=Yr(this._tNode.index,o);uh(s)}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function r1(e,t){let n=e[pe],r=hn;return e[r]=t,Bo(n,r,2,"#host",null)}function i1(e,t,n,r,i,o,s){let a=i[pe];o1(r,e,t,s);let l=null;t!==null&&(l=Wf(t,i[Do]));let u=o.rendererFactory.createRenderer(t,n),c=16;n.signals?c=4096:n.onPush&&(c=64);let d=pu(i,ly(n),null,c,i[e.index],e,o,u,null,null,l);return a.firstCreatePass&&nf(a,e,r.length-1),gu(i,d),i[e.index]=d}function o1(e,t,n,r){for(let i of e)t.mergedAttrs=Ms(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Wl(t,t.mergedAttrs,!0),n!==null&&ry(r,n,t))}function s1(e,t,n,r,i,o){let s=Qt(),a=i[pe],l=bn(s,i);cy(a,i,s,n,null,r);for(let c=0;c<n.length;c++){let d=s.directiveStart+c,f=Pi(i,a,d,s);Wr(f,i)}dy(a,i,s),l&&Wr(l,i);let u=Pi(i,a,s.directiveStart+s.componentOffset,s);if(e[Fn]=i[Fn]=u,o!==null)for(let c of o)c(u,t);return nh(a,s,i),u}function a1(e,t,n,r){if(r)Nd(e,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:o}=ww(t.selectors[0]);i&&Nd(e,n,i),o&&o.length>0&&ny(e,n,o.join(" "))}}function l1(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function u1(){let e=Qt();uu(we()[pe],e)}var Rr=(()=>{class e{static{this.__NG_ELEMENT_ID__=c1}}return e})();function c1(){let e=Qt();return Ny(e,we())}var d1=Rr,My=class extends d1{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){let t=Xf(this._hostTNode,this._hostLView);if(bv(t)){let n=jl(t,this._hostLView),r=Ul(t),i=n[pe].data[r+8];return new Ti(i,n)}else return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=p0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=s0(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,o0(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!B_(t),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?t:new Vs(Ai(t)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?u:this.parentInjector).get(sn,null);y&&(o=y)}let c=Ai(l.componentType??{}),d=s0(this._lContainer,c?.id??null),f=d?.firstChild??null,v=l.create(u,i,f,o);return this.insertImpl(v.hostView,a,o0(this._hostTNode,d)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(kw(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[It],u=new My(l,l[pn],l[It]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return SD(s,i,o,r),t.attachToViewContainerRef(),X0(xd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=p0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ef(this._lContainer,n);r&&(Fl(xd(this._lContainer),n),Yv(r[pe],r))}detach(t){let n=this._adjustIndex(t,-1),r=ef(this._lContainer,n);return r&&Fl(xd(this._lContainer),n)!=null?new Li(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function p0(e){return e[Ll]}function xd(e){return e[Ll]||(e[Ll]=[])}function Ny(e,t){let n,r=t[e.index];return Tr(r)?n=r:(n=fy(r,t,null,e),t[e.index]=n,gu(t,n)),h1(n,t,e,r),new My(n,e,t)}function f1(e,t){let n=e[rt],r=n.createComment(""),i=bn(t,e),o=eh(n,i);return ql(n,o,r,HS(n,i),!1),r}var h1=m1,p1=()=>!1;function g1(e,t,n){return p1(e,t,n)}function m1(e,t,n,r){if(e[Ni])return;let i;n.type&8?i=Zn(r):i=f1(t,n),e[Ni]=i}var mf=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},vf=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)ph(t,n).matches!==null&&this.queries[n].setDirty()}},yf=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=w1(t):this.predicate=t}},Cf=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ef=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,v1(n,o)),this.matchTNodeWithReadOption(t,n,Rl(n,t,o,!1,!1))}else r===Fi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Rl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===Rr||i===Fi&&n.type&4)this.addMatch(n.index,-2);else{let o=Rl(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function v1(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function y1(e,t){return e.type&11?Po(e,t):e.type&4?mu(e,t):null}function C1(e,t,n,r){return n===-1?y1(t,e):n===-2?E1(e,t,r):Pi(e,e[pe],n,t)}function E1(e,t,n){if(n===gn)return Po(t,e);if(n===Fi)return mu(t,e);if(n===Rr)return Ny(t,e)}function Ry(e,t,n,r){let i=t[xr].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(C1(t,c,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function bf(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Ry(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],c=t[-l];for(let d=fn;d<c.length;d++){let f=c[d];f[Hs]===f[It]&&bf(f[pe],f,u,r)}if(c[To]!==null){let d=c[To];for(let f=0;f<d.length;f++){let v=d[f];bf(v[pe],v,u,r)}}}}}return r}function b1(e,t){return e[xr].queries[t].queryList}function x1(e,t,n){let r=new Od((n&4)===4);return rD(e,t,r,r.destroy),(t[xr]??=new vf).queries.push(new mf(r))-1}function I1(e,t,n){let r=dt();return r.firstCreatePass&&(_1(r,new yf(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),x1(r,we(),t)}function w1(e){return e.split(",").map(t=>t.trim())}function _1(e,t,n){e.queries===null&&(e.queries=new Cf),e.queries.track(new Ef(t,n))}function ph(e,t){return e.queries.getByIndex(t)}function S1(e,t){let n=e[pe],r=ph(n,t);return r.crossesNgTemplate?bf(n,e,t,[]):Ry(n,e,r,t)}function D1(e){return Object.getPrototypeOf(e.prototype).constructor}function ei(e){let t=D1(e.type),n=!0,r=[e];for(;t;){let i;if(Kr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new W(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Dl(e.inputs),s.inputTransforms=Dl(e.inputTransforms),s.declaredInputs=Dl(e.declaredInputs),s.outputs=Dl(e.outputs);let a=i.hostBindings;a&&R1(e,a);let l=i.viewQuery,u=i.contentQueries;if(l&&M1(e,l),u&&N1(e,u),T1(e,i),lw(e.outputs,i.outputs),Kr(i)&&i.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ei&&(n=!1)}}t=Object.getPrototypeOf(t)}A1(r)}function T1(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function A1(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ms(i.hostAttrs,n=Ms(n,i.hostAttrs))}}function Dl(e){return e===So?{}:e===on?[]:e}function M1(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function N1(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function R1(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function gh(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}var Qr=class{},Us=class{};var xf=class extends Qr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ql(this);let i=M0(t);this._bootstrapComponents=Gv(i.bootstrap),this._r3Injector=Mv(t,n,[{provide:Qr,useValue:this},{provide:vu,useValue:this.componentFactoryResolver},...r],Wt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},If=class extends Us{constructor(t){super(),this.moduleType=t}create(t){return new xf(this.moduleType,t,[])}};var Yl=class extends Qr{constructor(t){super(),this.componentFactoryResolver=new Ql(this),this.instance=null;let n=new Fs([...t.providers,{provide:Qr,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],t.parent||Zf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function mh(e,t,n=null){return new Yl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Vo=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function k1(e,t,n){return e[t]=n}function Sr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function O1(e,t,n,r){let i=Sr(e,t,n);return Sr(e,t+1,r)||i}function P1(e,t,n,r,i,o,s,a,l){let u=t.consts,c=Bo(t,e,4,s||null,Ao(u,a));sh(t,n,c,Ao(u,l)),uu(t,c);let d=c.tView=oh(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}function at(e,t,n,r,i,o,s,a){let l=we(),u=dt(),c=e+hn,d=u.firstCreatePass?P1(c,u,l,t,n,r,i,o,s):u.data[c];Vi(d,!1);let f=L1(u,l,d,e);iu()&&fu(u,l,f,d),Wr(f,l);let v=fy(f,l,f,d);return l[c]=v,gu(l,v),g1(v,d,l),nu(d)&&rh(u,l,d),s!=null&&ih(l,d,a),at}var L1=F1;function F1(e,t,n,r){return ou(!0),t[rt].createComment("")}function vt(e,t,n,r){let i=we(),o=ru();if(Sr(i,o,t)){let s=dt(),a=jf();yD(a,i,e,t,n,r)}return vt}function B1(e,t,n,r){return Sr(e,ru(),n)?t+Mo(n)+r:Hn}function V1(e,t,n,r,i,o){let s=qw(),a=O1(e,s,n,i);return Ff(2),a?t+Mo(n)+r+Mo(i)+o:Hn}function Tl(e,t){return e<<17|t<<2}function Bi(e){return e>>17&32767}function U1(e){return(e&2)==2}function j1(e,t){return e&131071|t<<17}function wf(e){return e|2}function ko(e){return(e&131068)>>2}function Id(e,t){return e&-131069|t<<2}function $1(e){return(e&1)===1}function _f(e){return e|1}function H1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Bi(s),l=ko(s);e[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||qs(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let f=Bi(e[a+1]);e[r+1]=Tl(f,a),f!==0&&(e[f+1]=Id(e[f+1],r)),e[a+1]=j1(e[a+1],r)}else e[r+1]=Tl(a,0),a!==0&&(e[a+1]=Id(e[a+1],r)),a=r;else e[r+1]=Tl(l,0),a===0?a=r:e[l+1]=Id(e[l+1],r),l=r;u&&(e[r+1]=wf(e[r+1])),g0(e,c,r,!0),g0(e,c,r,!1),q1(t,c,e,r,o),s=Tl(a,l),o?t.classBindings=s:t.styleBindings=s}function q1(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&qs(o,t)>=0&&(n[r+1]=_f(n[r+1]))}function g0(e,t,n,r){let i=e[n+1],o=t===null,s=r?Bi(i):ko(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];z1(l,t)&&(a=!0,e[s+1]=r?_f(u):wf(u)),s=r?Bi(u):ko(u)}a&&(e[n+1]=r?wf(i):_f(i))}function z1(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?qs(e,t)>=0:!1}var Pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function G1(e){return e.substring(Pn.key,Pn.keyEnd)}function K1(e){return W1(e),ky(e,Oy(e,0,Pn.textEnd))}function ky(e,t){let n=Pn.textEnd;return n===t?-1:(t=Pn.keyEnd=Q1(e,Pn.key=t,n),Oy(e,t,n))}function W1(e){Pn.key=0,Pn.keyEnd=0,Pn.value=0,Pn.valueEnd=0,Pn.textEnd=e.length}function Oy(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Q1(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function X(e,t,n){let r=we(),i=ru();if(Sr(r,i,t)){let o=dt(),s=jf();uy(o,s,r,e,t,r[rt],n,!1)}return X}function Sf(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";ah(e,n,o[s],s,r)}function Uo(e,t,n){return Py(e,t,n,!1),Uo}function kr(e,t){return Py(e,t,null,!0),kr}function In(e){Z1(rT,Y1,e,!0)}function Y1(e,t){for(let n=K1(t);n>=0;n=ky(t,n))Hf(e,G1(t),!0)}function Py(e,t,n,r){let i=we(),o=dt(),s=Ff(2);if(o.firstUpdatePass&&Fy(o,e,s,r),t!==Hn&&Sr(i,s,t)){let a=o.data[Zr()];By(o,a,i,i[rt],e,i[s+1]=oT(t,n),r,s)}}function Z1(e,t,n,r){let i=dt(),o=Ff(2);i.firstUpdatePass&&Fy(i,null,o,r);let s=we();if(n!==Hn&&Sr(s,o,n)){let a=i.data[Zr()];if(Vy(a,r)&&!Ly(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Md(l,n||"")),Sf(i,a,s,n,r)}else iT(i,a,s,s[rt],s[o+1],s[o+1]=nT(e,t,n),r,o)}}function Ly(e,t){return t>=e.expandoStartIndex}function Fy(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Zr()],s=Ly(e,n);Vy(o,r)&&t===null&&!s&&(t=!1),t=X1(i,o,t,r),H1(i,o,t,n,s,r)}}function X1(e,t,n,r){let i=Qw(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=wd(null,e,t,n,r),n=js(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=wd(i,e,t,n,r),o===null){let l=J1(e,t,r);l!==void 0&&Array.isArray(l)&&(l=wd(null,e,t,l[1],r),l=js(l,t.attrs,r),eT(e,t,r,l))}else o=tT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function J1(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ko(r)!==0)return e[Bi(r)]}function eT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Bi(i)]=r}function tT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=js(r,s,n)}return js(r,t.attrs,n)}function wd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=js(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function js(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Hf(e,s,n?!0:t[++o]))}return e===void 0?null:e}function nT(e,t,n){if(n==null||n==="")return on;let r=[],i=jn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function rT(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Hf(e,r,n)}function iT(e,t,n,r,i,o,s,a){i===Hn&&(i=on);let l=0,u=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;c!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,v=u<o.length?o[u+1]:void 0,m=null,y;c===d?(l+=2,u+=2,f!==v&&(m=d,y=v)):d===null||c!==null&&c<d?(l+=2,m=c):(u+=2,m=d,y=v),m!==null&&By(e,t,n,r,m,y,s,a),c=l<i.length?i[l]:null,d=u<o.length?o[u]:null}}function By(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],c=$1(u)?m0(l,t,n,i,ko(u),s):void 0;if(!Zl(c)){Zl(o)||U1(u)&&(o=m0(l,null,n,i,a,s));let d=L0(Zr(),n);QS(r,s,d,i,o)}}function m0(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[i+1];f===Hn&&(f=d?on:void 0);let v=d?gd(f,r):c===r?f:void 0;if(u&&!Zl(v)&&(v=gd(l,r)),Zl(v)&&(a=v,s))return a;let m=e[i+1];i=s?Bi(m):ko(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=gd(l,r))}return a}function Zl(e){return e!==void 0}function oT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Wt(jn(e)))),e}function Vy(e,t){return(e.flags&(t?8:16))!==0}function sT(e,t,n,r,i,o){let s=t.consts,a=Ao(s,i),l=Bo(t,e,2,r,a);return sh(t,n,l,Ao(s,o)),l.attrs!==null&&Wl(l,l.attrs,!1),l.mergedAttrs!==null&&Wl(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function L(e,t,n,r){let i=we(),o=dt(),s=hn+e,a=i[rt],l=o.firstCreatePass?sT(s,o,i,t,n,r):o.data[s],u=aT(o,i,l,a,t,e);i[s]=u;let c=nu(l);return Vi(l,!0),ry(a,u,l),(l.flags&32)!==32&&iu()&&fu(o,i,u,l),Fw()===0&&Wr(u,i),Bw(),c&&(rh(o,i,l),nh(o,l,i)),r!==null&&ih(i,l),L}function F(){let e=Qt();Pf()?Lf():(e=e.parent,Vi(e,!1));let t=e;Uw(t)&&jw(),Vw();let n=dt();return n.firstCreatePass&&(uu(n,e),Rf(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&z_(t)&&Sf(n,t,we(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&G_(t)&&Sf(n,t,we(),t.stylesWithoutHost,!1),F}function oe(e,t,n,r){return L(e,t,n,r),F(),oe}var aT=(e,t,n,r,i,o)=>(ou(!0),Kv(r,i,Xw()));function lT(e,t,n,r,i){let o=t.consts,s=Ao(o,r),a=Bo(t,e,8,"ng-container",s);s!==null&&Wl(a,s,!0);let l=Ao(o,i);return sh(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function ji(e,t,n){let r=we(),i=dt(),o=e+hn,s=i.firstCreatePass?lT(o,i,r,t,n):i.data[o];Vi(s,!0);let a=uT(i,r,s,e);return r[o]=a,iu()&&fu(i,r,a,s),Wr(a,r),nu(s)&&(rh(i,r,s),nh(i,s,r)),n!=null&&ih(r,s),ji}function $i(){let e=Qt(),t=dt();return Pf()?Lf():(e=e.parent,Vi(e,!1)),t.firstCreatePass&&(uu(t,e),Rf(e)&&t.queries.elementEnd(e)),$i}var uT=(e,t,n,r)=>(ou(!0),kS(t[rt],""));function tt(){return we()}var Xl="en-US";var cT=Xl;function dT(e){typeof e=="string"&&(cT=e.toLowerCase().replace(/_/g,"-"))}function re(e,t,n,r){let i=we(),o=dt(),s=Qt();return Uy(o,i,i[rt],s,e,t,r),re}function fT(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Rs],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Uy(e,t,n,r,i,o,s){let a=nu(r),u=e.firstCreatePass&&gy(e),c=t[Fn],d=py(t),f=!0;if(r.type&3||s){let y=bn(r,t),E=s?s(y):y,x=d.length,S=s?k=>s(Zn(k[r.index])):r.index,_=null;if(!s&&a&&(_=fT(e,t,i,r.index)),_!==null){let k=_.__ngLastListenerFn__||_;k.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=y0(r,t,c,o,!1);let k=n.listen(E,i,o);d.push(o,k),u&&u.push(i,S,x,x+1)}}else o=y0(r,t,c,o,!1);let v=r.outputs,m;if(f&&v!==null&&(m=v[i])){let y=m.length;if(y)for(let E=0;E<y;E+=2){let x=m[E],S=m[E+1],M=t[x][S].subscribe(o),N=d.length;if(d.push(o,M),u){let ee=typeof M=="function"?N+1:-(N+1);u.push(i,r.index,N,ee)}}}}function v0(e,t,n,r){try{return Wn(6,t,n),n(r)!==!1}catch(i){return my(e,i),!1}finally{Wn(7,t,n)}}function y0(e,t,n,r,i){return function o(s){if(s===Function)return r;let a=e.componentOffset>-1?Yr(e.index,t):t;uh(a);let l=v0(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=v0(t,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function ie(e=1){return Zw(e)}function hT(e,t){let n=null,r=yw(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?S0(e,o,!0):bw(r,o))return i}return n}function vh(e){let t=we()[Bn][pn];if(!t.projection){let n=e?e.length:1,r=t.projection=r_(n,null),i=r.slice(),o=t.child;for(;o!==null;){let s=e?hT(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function yh(e,t=0,n){let r=we(),i=dt(),o=Bo(i,hn+e,16,null,n||null);o.projection===null&&(o.projection=t),Lf(),(!r[Ns]||j0())&&(o.flags&32)!==32&&KS(i,r,o)}function yu(e,t,n){I1(e,t,n)}function Ks(e){let t=we(),n=dt(),r=q0();Bf(r+1);let i=ph(n,r);if(e.dirty&&Rw(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=S1(t,r);e.reset(o,e_),e.notifyOnChanges()}return!0}return!1}function Ws(){return b1(we(),q0())}function pT(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function jo(e){let t=Hw();return B0(t,hn+e)}function Xe(e,t=""){let n=we(),r=dt(),i=e+hn,o=r.firstCreatePass?Bo(r,i,1,t,null):r.data[i],s=gT(r,n,o,t,e);n[i]=s,iu()&&fu(r,n,s,o),Vi(o,!1)}var gT=(e,t,n,r,i)=>(ou(!0),NS(t[rt],r));function er(e){return jy("",e,""),er}function jy(e,t,n){let r=we(),i=B1(r,e,t,n);return i!==Hn&&vy(r,Zr(),i),jy}function Ch(e,t,n,r,i){let o=we(),s=V1(o,e,t,n,r,i);return s!==Hn&&vy(o,Zr(),s),Ch}function Hi(e,t,n){Dy(t)&&(t=t());let r=we(),i=ru();if(Sr(r,i,t)){let o=dt(),s=jf();uy(o,s,r,e,t,r[rt],n,!1)}return Hi}function $o(e,t){let n=Dy(e);return n&&e.set(t),n}function qi(e,t){let n=we(),r=dt(),i=Qt();return Uy(r,n,n[rt],i,e,t),qi}function mT(e,t,n){let r=dt();if(r.firstCreatePass){let i=Kr(e);Df(n,r.data,r.blueprint,i,!0),Df(t,r.data,r.blueprint,i,!1)}}function Df(e,t,n,r,i){if(e=Kt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Df(e[o],t,n,r,i);else{let o=dt(),s=we(),a=Qt(),l=Ro(e)?e:Kt(e.provide),u=gv(e),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ro(e)||!e.multi){let v=new Oi(u,i,q),m=Sd(l,t,i?c:c+f,d);m===-1?(qd(Hl(a,s),o,l),_d(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[m]=v,s[m]=v)}else{let v=Sd(l,t,c+f,d),m=Sd(l,t,c,c+f),y=v>=0&&n[v],E=m>=0&&n[m];if(i&&!E||!i&&!y){qd(Hl(a,s),o,l);let x=CT(i?yT:vT,n.length,i,r,u);!i&&E&&(n[m].providerFactory=x),_d(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=$y(n[i?m:v],u,!i&&r);_d(o,e,v>-1?v:m,x)}!i&&r&&E&&n[m].componentProviders++}}}function _d(e,t,n,r){let i=Ro(t),o=N_(t);if(i||o){let l=(o?Kt(t.useClass):t).prototype.ngOnDestroy;if(l){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function $y(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Sd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function vT(e,t,n,r){return Tf(this.multi,[])}function yT(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Pi(n,n[pe],this.providerFactory.index,r);o=a.slice(0,s),Tf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Tf(i,o);return o}function Tf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function CT(e,t,n,r,i){let o=new Oi(e,n,q);return o.multi=[],o.index=t,o.componentProviders=0,$y(o,i,r&&!n),o}function zi(e,t=[]){return n=>{n.providersResolver=(r,i)=>mT(r,i?i(e):e,t)}}var ET=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=fv(!1,n.type),i=r.length>0?mh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(G(sn))})}}return e})();function Be(e){ch("NgStandalone"),e.getStandaloneInjector=t=>t.get(ET).getOrCreateStandaloneInjector(e)}function Hy(e,t,n,r){return qy(we(),H0(),e,t,n,r)}function bT(e,t){let n=e[t];return n===Hn?void 0:n}function qy(e,t,n,r,i,o){let s=t+n;return Sr(e,s,i)?k1(e,s+1,o?r.call(o,i):r(i)):bT(e,s+1)}function Eh(e,t){let n=dt(),r,i=e+hn;n.firstCreatePass?(r=xT(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ki(r.type,!0)),s,a=rn(q);try{let l=$l(!1),u=o();return $l(l),pT(n,we(),i,u),u}finally{rn(a)}}function xT(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function bh(e,t,n){let r=e+hn,i=we(),o=B0(i,r);return IT(i,r)?qy(i,H0(),t,o.transform,n,o):o.transform(n)}function IT(e,t){return e[pe].data[t].pure}function Cu(e,t){return mu(e,t)}var Eu=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var zy=new Z("");function ti(e){return!!e&&typeof e.then=="function"}function xh(e){return!!e&&typeof e.subscribe=="function"}var Gy=new Z(""),Ky=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(Gy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ti(o))n.push(o);else if(xh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bu=new Z("");function wT(){lm(()=>{throw new W(600,!1)})}function _T(e){return e.isBoundToModule}function ST(e,t,n){try{let r=n();return ti(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ho=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(Nv),this.afterRenderEffectManager=$(Ay),this.componentTypes=[],this.components=[],this.isStable=$(Vo).hasPendingTasks.pipe(se(n=>!n)),this._injector=$(sn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Gl;if(!this._injector.get(Ky).done){let f=!i&&A0(n),v=!1;throw new W(405,v)}let s;i?s=n:s=this._injector.get(vu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=_T(s)?void 0:this._injector.get(Qr),l=r||s.selector,u=s.create(Fo.NULL,[],l,a),c=u.location.nativeElement,d=u.injector.get(zy,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Dd(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0,r=this.afterRenderEffectManager;for(;;){if(n===xy)throw new W(103,!1);let i=n===0;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!Td(o)||this.detectChangesInView(o,s,i);if(n++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Td(o))&&(r.execute(),!this._views.some(({_lView:o})=>Td(o))))break}}detectChangesInView(n,r,i){let o;i?(o=0,n[ne]|=1024):n[ne]&64?o=0:o=1,Iy(n,r,o)}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Dd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(bu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Dd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Dd(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Td(e){return Of(e)}var Af=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ih=(()=>{class e{compileModuleSync(n){return new If(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=M0(n),o=Gv(i.declarations).reduce((s,a)=>{let l=Ai(a);return l&&s.push(new Vs(l)),s},[]);return new Af(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var DT=(()=>{class e{constructor(){this.zone=$(Ze),this.applicationRef=$(Ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function TT(e){return[{provide:Ze,useFactory:e},{provide:No,multi:!0,useFactory:()=>{let t=$(DT,{optional:!0});return()=>t.initialize()}},{provide:No,multi:!0,useFactory:()=>{let t=$(RT);return()=>{t.initialize()}}},{provide:Nv,useFactory:AT}]}function AT(){let e=$(Ze),t=$(Ir);return n=>e.runOutsideAngular(()=>t.handleError(n))}function MT(e){let t=TT(()=>new Ze(NT(e)));return Lo([[],t])}function NT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var RT=(()=>{class e{constructor(){this.subscription=new st,this.initialized=!1,this.zone=$(Ze),this.pendingTasks=$(Vo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kT(){return typeof $localize<"u"&&$localize.locale||Xl}var wh=new Z("",{providedIn:"root",factory:()=>$(wh,ye.Optional|ye.SkipSelf)||kT()});var Wy=new Z("");var Ol=null;function OT(e=[],t){return Fo.create({name:t,providers:[{provide:lu,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Ol=null])},...e]})}function PT(e=[]){if(Ol)return Ol;let t=OT(e);return Ol=t,wT(),LT(t),t}function LT(e){e.get(zf,null)?.forEach(n=>n())}function Qy(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=PT(r),o=[MT(),...n||[]],a=new Yl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ze);return l.run(()=>{a.resolveInjectorInitializers();let u=a.get(Ir,null),c;l.runOutsideAngular(()=>{c=l.onError.subscribe({next:v=>{u.handleError(v)}})});let d=()=>a.destroy(),f=i.get(Wy);return f.add(d),a.onDestroy(()=>{c.unsubscribe(),f.delete(d)}),ST(u,l,()=>{let v=a.get(Ky);return v.runInitializers(),v.donePromise.then(()=>{let m=a.get(wh,Xl);dT(m||Xl);let y=a.get(Ho);return t!==void 0&&y.bootstrap(t),y})})})}catch(t){return Promise.reject(t)}}function ni(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var tC=null;function Or(){return tC}function nC(e){tC??=e}var xu=class{};var Yt=new Z(""),rC=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(FT),providedIn:"platform"})}}return e})();var FT=(()=>{class e extends rC{constructor(){super(),this._doc=$(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(n){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function iC(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Yy(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Gi(e){return e&&e[0]!=="?"?"?"+e:e}var zo=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(oC),providedIn:"root"})}}return e})(),BT=new Z(""),oC=(()=>{class e extends zo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Gi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Gi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(G(rC),G(BT,8))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Qs=(()=>{class e{constructor(n){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=jT(Yy(Zy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gi(r))}normalize(n){return e.stripTrailingSlash(UT(this._basePath,Zy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Gi}static{this.joinWithSlash=iC}static{this.stripTrailingSlash=Yy}static{this.\u0275fac=function(r){return new(r||e)(G(zo))}}static{this.\u0275prov=z({token:e,factory:()=>VT(),providedIn:"root"})}}return e})();function VT(){return new Qs(G(zo))}function UT(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Zy(e){return e.replace(/\/index.html$/,"")}function jT(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Iu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var _h=/\s+/,Xy=[],sC=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Xy,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(_h):Xy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(_h):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(_h).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(q(gn),q(Jn))}}static{this.\u0275dir=$t({type:e,selectors:[["","ngClass",""]],inputs:{klass:[jt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var Sh=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},aC=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Sh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Jy(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Jy(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(q(Rr),q(Fi),q(fh))}}static{this.\u0275dir=$t({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Jy(e,t){e.context.$implicit=t.item}var ri=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new Dh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(q(Rr),q(Fi))}}static{this.\u0275dir=$t({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Dh=class{constructor(){this.$implicit=null,this.ngIf=null}};function eC(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Wt(t)}'.`)}function $T(e,t){return new W(2100,!1)}var Th=class{createSubscription(t,n){return dh(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){dh(()=>t.unsubscribe())}},Ah=class{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}},HT=new Ah,qT=new Th,lC=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ti(n))return HT;if(xh(n))return qT;throw $T(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(q(Jr,16))}}static{this.\u0275pipe=Mf({name:"async",type:e,pure:!1,standalone:!0})}}return e})();var Go=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Vn({type:e})}static{this.\u0275inj=Un({})}}return e})(),Nh="browser",zT="server";function Pr(e){return e===Nh}function Rh(e){return e===zT}var qo=class{};var Zs=class{},_u=class{},Ki=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Ph=class{encodeKey(t){return uC(t)}encodeValue(t){return uC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function WT(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var QT=/%(\d[a-f0-9])/gi,YT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uC(e){return encodeURIComponent(e).replace(QT,(t,n)=>YT[n]??t)}function wu(e){return`${e}`}var ii=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ph,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WT(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(wu):[wu(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(wu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(wu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Lh=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ZT(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function dC(e){return typeof Blob<"u"&&e instanceof Blob}function fC(e){return typeof FormData<"u"&&e instanceof FormData}function XT(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ys=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(ZT(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ki,this.context??=new Lh,!this.params)this.params=new ii,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:cC(this.body)||dC(this.body)||fC(this.body)||XT(this.body)||typeof this.body=="string"?this.body:this.body instanceof ii?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fC(this.body)?null:dC(this.body)?this.body.type||null:cC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,s=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,a=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,c=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),u)),new e(n,r,o,{params:u,headers:l,context:c,reportProgress:a,responseType:i,withCredentials:s})}},Ko=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ko||{}),Xs=class{constructor(t,n=Tu.Ok,r="OK"){this.headers=t.headers||new Ki,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Fh=class e extends Xs{constructor(t={}){super(t),this.type=Ko.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Su=class e extends Xs{constructor(t={}){super(t),this.type=Ko.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Du=class extends Xs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Tu=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Tu||{});function Oh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Wi=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ys)o=n;else{let l;i.headers instanceof Ki?l=i.headers:l=new Ki(i.headers);let u;i.params&&(i.params instanceof ii?u=i.params:u=new ii({fromObject:i.params})),o=new Ys(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=te(o).pipe(qr(l=>this.handler.handle(l)));if(n instanceof Ys||i.observe==="events")return s;let a=s.pipe(dn(l=>l instanceof Su));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(se(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ii().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Oh(i,r))}post(n,r,i={}){return this.request("POST",n,Oh(i,r))}put(n,r,i={}){return this.request("PUT",n,Oh(i,r))}static{this.\u0275fac=function(r){return new(r||e)(G(Zs))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function JT(e,t){return t(e)}function eA(e,t,n){return(r,i)=>Ar(n,()=>t(r,o=>e(o,i)))}var gC=new Z(""),tA=new Z(""),nA=new Z("");var hC=(()=>{class e extends Zs{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=$(Vo);let i=$(nA,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(gC),...this.injector.get(tA,[])]));this.chain=i.reduceRight((o,s)=>eA(o,s,this.injector),JT)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Si(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(G(_u),G(sn))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();var rA=/^\)\]\}',?\n/;function iA(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var pC=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Qe(r.\u0275loadImpl()):te(null)).pipe(Gt(()=>new Ie(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,E)=>s.setRequestHeader(y,E.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&s.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let y=s.statusText||"OK",E=new Ki(s.getAllResponseHeaders()),x=iA(s)||n.url;return l=new Fh({headers:E,status:s.status,statusText:y,url:x}),l},c=()=>{let{headers:y,status:E,statusText:x,url:S}=u(),_=null;E!==Tu.NoContent&&(_=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=_?Tu.Ok:0);let k=E>=200&&E<300;if(n.responseType==="json"&&typeof _=="string"){let M=_;_=_.replace(rA,"");try{_=_!==""?JSON.parse(_):null}catch(N){_=M,k&&(k=!1,_={error:N,text:_})}}k?(o.next(new Su({body:_,headers:y,status:E,statusText:x,url:S||void 0})),o.complete()):o.error(new Du({error:_,headers:y,status:E,statusText:x,url:S||void 0}))},d=y=>{let{url:E}=u(),x=new Du({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(x)},f=!1,v=y=>{f||(o.next(u()),f=!0);let E={type:Ko.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},m=y=>{let E={type:Ko.UploadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),o.next(E)};return s.addEventListener("load",c),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Ko.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",c),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(G(qo))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),mC=new Z(""),oA="XSRF-TOKEN",sA=new Z("",{providedIn:"root",factory:()=>oA}),aA="X-XSRF-TOKEN",lA=new Z("",{providedIn:"root",factory:()=>aA}),Au=class{},uA=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Iu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(G(Yt),G(xn),G(sA))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function cA(e,t){let n=e.url.toLowerCase();if(!$(mC)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=$(Au).getToken(),i=$(lA);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function vC(...e){let t=[Wi,pC,hC,{provide:Zs,useExisting:hC},{provide:_u,useExisting:pC},{provide:gC,useValue:cA,multi:!0},{provide:mC,useValue:!0},{provide:Au,useClass:uA}];for(let n of e)t.push(...n.\u0275providers);return Lo(t)}var jh=class extends xu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$h=class e extends jh{static makeCurrent(){nC(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=dA();return n==null?null:fA(n)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Iu(document.cookie,t)}},Js=null;function dA(){return Js=Js||document.querySelector("base"),Js?Js.getAttribute("href"):null}function fA(e){return new URL(e,document.baseURI).pathname}var hA=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),Hh=new Z(""),bC=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(G(Hh),G(Ze))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),Mu=class{constructor(t){this._doc=t}},Vh="ng-app-id",xC=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rh(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Vh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Vh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Vh,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(G(Yt),G(qf),G(Gf,8),G(xn))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),Uh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zh=/%COMP%/g,IC="%COMP%",pA=`_nghost-${IC}`,gA=`_ngcontent-${IC}`,mA=!0,vA=new Z("",{providedIn:"root",factory:()=>mA});function yA(e){return gA.replace(zh,e)}function CA(e){return pA.replace(zh,e)}function wC(e,t){return t.map(n=>n.replace(zh,e))}var yC=(()=>{class e{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Rh(a),this.defaultRenderer=new ea(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r=Me(O({},r),{encapsulation:Yn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Nu?i.applyToHost(n):i instanceof ta&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yn.Emulated:o=new Nu(l,u,r,this.appId,c,s,a,d);break;case Yn.ShadowDom:return new qh(l,u,n,r,s,a,this.nonce,d);default:o=new ta(l,u,r,c,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(G(bC),G(xC),G(qf),G(vA),G(Yt),G(xn),G(Ze),G(Gf))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),ea=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Uh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(CC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(CC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Uh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Uh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(_r.DashCase|_r.Important)?t.style.setProperty(n,r,i&_r.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&_r.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Or().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function CC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qh=class extends ea{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=wC(i.id,i.styles);for(let c of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ta=class extends ea{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?wC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nu=class extends ta{constructor(t,n,r,i,o,s,a,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,u),this.contentAttr=yA(u),this.hostAttr=CA(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},EA=(()=>{class e extends Mu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(G(Yt))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),EC=["alt","control","meta","shift"],bA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},IA=(()=>{class e extends Mu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),EC.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=bA[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),EC.forEach(s=>{if(s!==i){let a=xA[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(G(Yt))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function _C(e,t){return Qy(O({rootComponent:e},wA(t)))}function wA(e){return{appProviders:[...AA,...e?.providers??[]],platformProviders:TA}}function _A(){$h.makeCurrent()}function SA(){return new Ir}function DA(){return ev(document),document}var TA=[{provide:xn,useValue:Nh},{provide:zf,useValue:_A,multi:!0},{provide:Yt,useFactory:DA,deps:[]}];var AA=[{provide:lu,useValue:"root"},{provide:Ir,useFactory:SA,deps:[]},{provide:Hh,useClass:EA,multi:!0,deps:[Yt,Ze,xn]},{provide:Hh,useClass:IA,multi:!0,deps:[Yt]},yC,xC,bC,{provide:Bs,useExisting:yC},{provide:qo,useClass:hA,deps:[]},[]];var SC=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(G(Yt))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var na=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=G(MA),i},providedIn:"root"})}}return e})(),MA=(()=>{class e extends na{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case an.NONE:return r;case an.HTML:return Xr(r,"HTML")?jn(r):$v(this._doc,String(r)).toString();case an.STYLE:return Xr(r,"Style")?jn(r):r;case an.SCRIPT:if(Xr(r,"Script"))return jn(r);throw new W(5200,!1);case an.URL:return Xr(r,"URL")?jn(r):du(String(r));case an.RESOURCE_URL:if(Xr(r,"ResourceURL"))return jn(r);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(n){return kv(n)}bypassSecurityTrustStyle(n){return Ov(n)}bypassSecurityTrustScript(n){return Pv(n)}bypassSecurityTrustUrl(n){return Lv(n)}bypassSecurityTrustResourceUrl(n){return Fv(n)}static{this.\u0275fac=function(r){return new(r||e)(G(Yt))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var de="primary",va=Symbol("RouteTitle"),Zh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xo(e){return new Zh(e)}function NA(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function RA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!tr(e[n],t[n]))return!1;return!0}function tr(e,t){let n=e?Xh(e):void 0,r=t?Xh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RC(e[i],t[i]))return!1;return!0}function Xh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function RC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function kC(e){return e.length>0?e[e.length-1]:null}function li(e){return id(e)?e:ti(e)?Qe(Promise.resolve(e)):te(e)}var kA={exact:PC,subset:LC},OC={exact:OA,subset:PA,ignored:()=>!0};function DC(e,t,n){return kA[n.paths](e.root,t.root,n.matrixParams)&&OC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function OA(e,t){return tr(e,t)}function PC(e,t,n){if(!Yi(e.segments,t.segments)||!Ou(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!PC(e.children[r],t.children[r],n))return!1;return!0}function PA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>RC(e[n],t[n]))}function LC(e,t,n){return FC(e,t,t.segments,n)}function FC(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Yi(i,n)||t.hasChildren()||!Ou(i,n,r))}else if(e.segments.length===n.length){if(!Yi(e.segments,n)||!Ou(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!LC(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Yi(e.segments,i)||!Ou(e.segments,i,r)||!e.children[de]?!1:FC(e.children[de],t,o,r)}}function Ou(e,t,n){return t.every((r,i)=>OC[n](e[i].parameters,r.parameters))}var oi=class{constructor(t=new Oe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return BA.serialize(this)}},Oe=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pu(this)}},Qi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return VC(this)}};function LA(e,t){return Yi(e,t)&&e.every((n,r)=>tr(n.parameters,t[r].parameters))}function Yi(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function FA(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===de&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==de&&(n=n.concat(t(i,r)))}),n}var wp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>new Fu,providedIn:"root"})}}return e})(),Fu=class{parse(t){let n=new ep(t);return new oi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ra(t.root,!0)}`,r=jA(t.queryParams),i=typeof t.fragment=="string"?`#${VA(t.fragment)}`:"";return`${n}${r}${i}`}},BA=new Fu;function Pu(e){return e.segments.map(t=>VC(t)).join("/")}function ra(e,t){if(!e.hasChildren())return Pu(e);if(t){let n=e.children[de]?ra(e.children[de],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${ra(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FA(e,(r,i)=>i===de?[ra(e.children[de],!1)]:[`${i}:${ra(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[de]!=null?`${Pu(e)}/${n[0]}`:`${Pu(e)}/(${n.join("//")})`}}function BC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ru(e){return BC(e).replace(/%3B/gi,";")}function VA(e){return encodeURI(e)}function Jh(e){return BC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lu(e){return decodeURIComponent(e)}function TC(e){return Lu(e.replace(/\+/g,"%20"))}function VC(e){return`${Jh(e.path)}${UA(e.parameters)}`}function UA(e){return Object.entries(e).map(([t,n])=>`;${Jh(t)}=${Jh(n)}`).join("")}function jA(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ru(n)}=${Ru(i)}`).join("&"):`${Ru(n)}=${Ru(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var $A=/^[^\/()?;#]+/;function Kh(e){let t=e.match($A);return t?t[0]:""}var HA=/^[^\/()?;=#]+/;function qA(e){let t=e.match(HA);return t?t[0]:""}var zA=/^[^=?&#]+/;function GA(e){let t=e.match(zA);return t?t[0]:""}var KA=/^[^&#]+/;function WA(e){let t=e.match(KA);return t?t[0]:""}var ep=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[de]=new Oe(t,n)),r}parseSegment(){let t=Kh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(t),new Qi(Lu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=qA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kh(this.remaining);i&&(r=i,this.capture(r))}t[Lu(n)]=Lu(r)}parseQueryParam(t){let n=GA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=WA(this.remaining);s&&(r=s,this.capture(r))}let i=TC(n),o=TC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=de);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[de]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new W(4011,!1)}};function UC(e){return e.segments.length>0?new Oe([],{[de]:e}):e}function jC(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=jC(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Oe(e.segments,t);return QA(n)}function QA(e){if(e.numberOfChildren===1&&e.children[de]){let t=e.children[de];return new Oe(e.segments.concat(t.segments),t.children)}return e}function Jo(e){return e instanceof oi}function YA(e,t,n=null,r=null){let i=$C(e);return HC(i,t,n,r)}function $C(e){let t;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new Oe(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=UC(r);return t??i}function HC(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Wh(i,i,i,n,r);let o=ZA(t);if(o.toRoot())return Wh(i,i,new Oe([],{}),n,r);let s=XA(o,i,e),a=s.processChildren?sa(s.segmentGroup,s.index,o.commands):zC(s.segmentGroup,s.index,o.commands);return Wh(i,s.segmentGroup,a,n,r)}function Bu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ua(e){return typeof e=="object"&&e!=null&&e.outlets}function Wh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;e===t?s=n:s=qC(e,t,n);let a=UC(jC(s));return new oi(a,o,i)}function qC(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=qC(o,t,n)}),new Oe(e.segments,r)}var Vu=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bu(r[0]))throw new W(4003,!1);let i=r.find(ua);if(i&&i!==kC(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Vu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Vu(n,t,r)}var Yo=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function XA(e,t,n){if(e.isAbsolute)return new Yo(t,!0,0);if(!n)return new Yo(t,!1,NaN);if(n.parent===null)return new Yo(n,!0,0);let r=Bu(e.commands[0])?0:1,i=n.segments.length-1+r;return JA(n,i,e.numberOfDoubleDots)}function JA(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Yo(r,!1,i-o)}function eM(e){return ua(e[0])?e[0].outlets:{[de]:e}}function zC(e,t,n){if(e??=new Oe([],{}),e.segments.length===0&&e.hasChildren())return sa(e,t,n);let r=tM(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Oe(e.segments.slice(0,r.pathIndex),{});return o.children[de]=new Oe(e.segments.slice(r.pathIndex),e.children),sa(o,0,i)}else return r.match&&i.length===0?new Oe(e.segments,{}):r.match&&!e.hasChildren()?tp(e,t,n):r.match?sa(e,0,i):tp(e,t,n)}function sa(e,t,n){if(n.length===0)return new Oe(e.segments,{});{let r=eM(n),i={};if(Object.keys(r).some(o=>o!==de)&&e.children[de]&&e.numberOfChildren===1&&e.children[de].segments.length===0){let o=sa(e.children[de],t,n);return new Oe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=zC(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(e.segments,i)}}function tM(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ua(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!MC(l,u,s))return o;r+=2}else{if(!MC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ua(o)){let l=nM(o.outlets);return new Oe(r,l)}if(i===0&&Bu(n[0])){let l=e.segments[t];r.push(new Qi(l.path,AC(n[0]))),i++;continue}let s=ua(o)?o.outlets[de]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bu(a)?(r.push(new Qi(s,AC(a))),i+=2):(r.push(new Qi(s,{})),i++)}return new Oe(r,{})}function nM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=tp(new Oe([],{}),0,r))}),t}function AC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function MC(e,t,n){return e==n.path&&tr(t,n.parameters)}var aa="imperative",wt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(wt||{}),_n=class{constructor(t,n){this.id=t,this.url=n}},ca=class extends _n{constructor(t,n,r="imperative",i=null){super(t,n),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},si=class extends _n{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(wn||{}),np=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(np||{}),ai=class extends _n{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zi=class extends _n{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=wt.NavigationSkipped}},da=class extends _n{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uu=class extends _n{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends _n{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends _n{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},op=class extends _n{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends _n{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class{constructor(t){this.route=t,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lp=class{constructor(t){this.route=t,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{constructor(t){this.snapshot=t,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{constructor(t){this.snapshot=t,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{constructor(t){this.snapshot=t,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{constructor(t){this.snapshot=t,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fa=class{},ha=class{constructor(t){this.url=t}};var hp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gu,this.attachRef=null}},Gu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hp,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ju=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=pp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=pp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=gp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return gp(t,this._root).map(n=>n.value)}};function pp(e,t){if(e===t.value)return t;for(let n of t.children){let r=pp(e,n);if(r)return r}return null}function gp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=gp(e,n);if(r.length)return r.unshift(t),r}return[]}var mn=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var $u=class extends ju{constructor(t,n){super(t),this.snapshot=n,Sp(this,t)}toString(){return this.snapshot.toString()}};function GC(e){let t=rM(e),n=new xt([new Qi("",{})]),r=new xt({}),i=new xt({}),o=new xt({}),s=new xt(""),a=new Xi(n,r,o,s,i,de,e,t.root);return a.snapshot=t.root,new $u(new mn(a,[]),t)}function rM(e){let t={},n={},r={},i="",o=new pa([],t,r,i,n,de,e,null,{});return new Hu("",new mn(o,[]))}var Xi=class{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(u=>u[va]))??te(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Xo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Xo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:O(O({},t.params),e.params),data:O(O({},t.data),e.data),resolve:O(O(O(O({},e.data),t.data),i?.data),e._resolvedData)}:r={params:O({},e.params),data:O({},e.data),resolve:O(O({},e.data),e._resolvedData??{})},i&&WC(i)&&(r.resolve[va]=i.title),r}var pa=class{get title(){return this.data?.[va]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Hu=class extends ju{constructor(t,n){super(n),this.url=t,Sp(this,n)}toString(){return KC(this._root)}};function Sp(e,t){t.value._routerState=e,t.children.forEach(n=>Sp(e,n))}function KC(e){let t=e.children.length>0?` { ${e.children.map(KC).join(", ")} } `:"";return`${e.value}${t}`}function Qh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,tr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),tr(t.params,n.params)||e.paramsSubject.next(n.params),RA(t.url,n.url)||e.urlSubject.next(n.url),tr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mp(e,t){let n=tr(e.params,t.params)&&LA(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||mp(e.parent,t.parent))}function WC(e){return typeof e.title=="string"||e.title===null}var Dp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=$(Gu),this.location=$(Rr),this.changeDetector=$(Jr),this.environmentInjector=$(sn),this.inputBinder=$(Tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vp(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=$t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mr]})}}return e})(),vp=class{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Xi?this.route:t===Gu?this.childContexts:this.parent.get(t,n)}},Tp=new Z("");function iM(e,t,n){let r=ga(e,t._root,n?n._root:void 0);return new $u(r,t)}function ga(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=oM(e,t,n);return new mn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ga(e,a)),s}}let r=sM(t.value),i=t.children.map(o=>ga(e,o));return new mn(r,i)}}function oM(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ga(e,r,i);return ga(e,r)})}function sM(e){return new Xi(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}var QC="ngNavigationCancelingError";function YC(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Jo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=ZC(!1,wn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[QC]=!0,n.cancellationCode=t,n}function aM(e){return XC(e)&&Jo(e.url)}function XC(e){return!!e&&e[QC]}var lM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["ng-component"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(r,i){r&1&&oe(0,"router-outlet")},dependencies:[Dp],encapsulation:2})}}return e})();function uM(e,t){return e.providers&&!e._injector&&(e._injector=mh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ap(e){let t=e.children&&e.children.map(Ap),n=t?Me(O({},e),{children:t}):O({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=lM),n}function nr(e){return e.outlet||de}function cM(e,t){let n=e.filter(r=>nr(r)===t);return n.push(...e.filter(r=>nr(r)!==t)),n}function ya(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dM=(e,t,n,r)=>se(i=>(new yp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),yp=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Qh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Qo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Qo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Qo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Qo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cp(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Qh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qh(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=ya(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},qu=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zo=class{constructor(t,n){this.component=t,this.route=n}};function fM(e,t,n){let r=e._root,i=t?t._root:null;return ia(r,i,n,[r.value])}function hM(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ts(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!tv(e)?e:t.get(e):r}function ia(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(t);return e.children.forEach(s=>{pM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>la(a,n.getContext(s),i)),i}function pM(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=gM(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new qu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ia(e,t,a?a.children:null,r,i):ia(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zo(a.outlet.component,s))}else s&&la(t,a,i),i.canActivateChecks.push(new qu(r)),o.component?ia(e,null,a?a.children:null,r,i):ia(e,null,n,r,i);return i}function gM(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Yi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yi(e.url,t.url)||!tr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mp(e,t)||!tr(e.queryParams,t.queryParams);case"paramsChange":default:return!mp(e,t)}}function la(e,t,n){let r=Qo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?la(s,t.children.getContext(o),n):la(s,null,n):la(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Zo(t.outlet.component,i)):n.canDeactivateChecks.push(new Zo(null,i)):n.canDeactivateChecks.push(new Zo(null,i))}function Ca(e){return typeof e=="function"}function mM(e){return typeof e=="boolean"}function vM(e){return e&&Ca(e.canLoad)}function yM(e){return e&&Ca(e.canActivate)}function CM(e){return e&&Ca(e.canActivateChild)}function EM(e){return e&&Ca(e.canDeactivate)}function bM(e){return e&&Ca(e.canMatch)}function JC(e){return e instanceof yr||e?.name==="EmptyError"}var ku=Symbol("INITIAL_VALUE");function es(){return Gt(e=>Cl(e.map(t=>t.pipe(Cr(1),Ss(ku)))).pipe(se(t=>{for(let n of t)if(n!==!0){if(n===ku)return ku;if(n===!1||n instanceof oi)return n}return!0}),dn(t=>t!==ku),Cr(1)))}function xM(e,t){return pt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(Me(O({},n),{guardsResult:!0})):IM(s,r,i,e).pipe(pt(a=>a&&mM(a)?wM(r,o,e,t):te(a)),se(a=>Me(O({},n),{guardsResult:a})))})}function IM(e,t,n,r){return Qe(e).pipe(pt(i=>AM(i.component,i.route,n,t,r)),kn(i=>i!==!0,!0))}function wM(e,t,n,r){return Qe(t).pipe(qr(i=>Eo(SM(i.route.parent,r),_M(i.route,r),TM(e,i.path,n),DM(e,i.route,n))),kn(i=>i!==!0,!0))}function _M(e,t){return e!==null&&t&&t(new dp(e)),te(!0)}function SM(e,t){return e!==null&&t&&t(new up(e)),te(!0)}function DM(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>El(()=>{let s=ya(t)??n,a=ts(o,s),l=yM(a)?a.canActivate(t,e):Ar(s,()=>a(t,e));return li(l).pipe(kn())}));return te(i).pipe(es())}function TM(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>hM(s)).filter(s=>s!==null).map(s=>El(()=>{let a=s.guards.map(l=>{let u=ya(s.node)??n,c=ts(l,u),d=CM(c)?c.canActivateChild(r,e):Ar(u,()=>c(r,e));return li(d).pipe(kn())});return te(a).pipe(es())}));return te(o).pipe(es())}function AM(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let l=ya(t)??i,u=ts(a,l),c=EM(u)?u.canDeactivate(e,t,n,r):Ar(l,()=>u(e,t,n,r));return li(c).pipe(kn())});return te(s).pipe(es())}function MM(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=ts(s,e),l=vM(a)?a.canLoad(t,n):Ar(e,()=>a(t,n));return li(l)});return te(o).pipe(es(),eE(r))}function eE(e){return Jc(gt(t=>{if(Jo(t))throw YC(e,t)}),se(t=>t===!0))}function NM(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=ts(s,e),l=bM(a)?a.canMatch(t,n):Ar(e,()=>a(t,n));return li(l)});return te(o).pipe(es(),eE(r))}var ma=class{constructor(t){this.segmentGroup=t||null}},zu=class extends Error{constructor(t){super(),this.urlTree=t}};function Wo(e){return Hr(new ma(e))}function RM(e){return Hr(new W(4e3,!1))}function kM(e){return Hr(ZC(!1,wn.GuardRejected))}var Cp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[de])return RM(t.redirectTo);i=i.children[de]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new zu(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new oi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Oe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OM(e,t,n,r,i){let o=Mp(e,t,n);return o.matched?(r=uM(t,r),NM(r,t,n,i).pipe(se(s=>s===!0?o:O({},Ep)))):te(o)}function Mp(e,t,n){if(t.path==="**")return PM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?O({},Ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||NA)(n,e,t);if(!i)return O({},Ep);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function PM(e){return{matched:!0,parameters:e.length>0?kC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function NC(e,t,n,r){return n.length>0&&BM(e,n,r)?{segmentGroup:new Oe(t,FM(r,new Oe(n,e.children))),slicedSegments:[]}:n.length===0&&VM(e,n,r)?{segmentGroup:new Oe(e.segments,LM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Oe(e.segments,e.children),slicedSegments:n}}function LM(e,t,n,r){let i={};for(let o of n)if(Ku(e,t,o)&&!r[nr(o)]){let s=new Oe([],{});i[nr(o)]=s}return O(O({},r),i)}function FM(e,t){let n={};n[de]=t;for(let r of e)if(r.path===""&&nr(r)!==de){let i=new Oe([],{});n[nr(r)]=i}return n}function BM(e,t,n){return n.some(r=>Ku(e,t,r)&&nr(r)!==de)}function VM(e,t,n){return n.some(r=>Ku(e,t,r))}function Ku(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function UM(e,t,n,r){return nr(e)!==r&&(r===de||!Ku(t,n,e))?!1:Mp(t,e,n).matched}function jM(e,t,n){return t.length===0&&!e.children[n]}var bp=class{};function $M(e,t,n,r,i,o,s="emptyOnly"){return new xp(e,t,n,r,i,s,o).recognize()}var HM=31,xp=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new W(4002,`'${t.segmentGroup}'`)}recognize(){let t=NC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(se(n=>{let r=new pa([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new mn(r,n),o=new Hu("",i),s=YA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,de).pipe(mt(r=>{if(r instanceof zu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ma?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=_p(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(se(o=>o instanceof mn?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Qe(i).pipe(qr(o=>{let s=r.children[o],a=cM(n,o);return this.processSegmentGroup(t,a,s,o)}),cd((o,s)=>(o.push(...s),o)),zr(null),ud(),pt(o=>{if(o===null)return Wo(r);let s=tE(o);return qM(s),te(s)}))}processSegment(t,n,r,i,o,s){return Qe(n).pipe(qr(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(mt(l=>{if(l instanceof ma)return te(null);throw l}))),kn(a=>!!a),mt(a=>{if(JC(a))return jM(r,i,o)?te(new bp):Wo(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return UM(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Wo(i):Wo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:c}=Mp(n,i,o);if(!a)return Wo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HM&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(pt(f=>this.processSegment(t,r,n,f.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=OM(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Gt(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Gt(({routes:l})=>{let u=r._loadedInjector??t,{consumedSegments:c,remainingSegments:d,parameters:f}=a,v=new pa(c,f,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,GM(r),nr(r),r.component??r._loadedComponent??null,r,KM(r)),{segmentGroup:m,slicedSegments:y}=NC(n,c,d,l);if(y.length===0&&m.hasChildren())return this.processChildren(u,l,m).pipe(se(x=>x===null?null:new mn(v,x)));if(l.length===0&&y.length===0)return te(new mn(v,[]));let E=nr(r)===o;return this.processSegment(u,l,m,y,E?de:o,!0).pipe(se(x=>new mn(v,x instanceof mn?[x]:[])))}))):Wo(n)))}getChildConfig(t,n,r){return n.children?te({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):MM(t,n,r,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(t,n).pipe(gt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):kM(n))):te({routes:[],injector:t})}};function qM(e){e.sort((t,n)=>t.value.outlet===de?-1:n.value.outlet===de?1:t.value.outlet.localeCompare(n.value.outlet))}function zM(e){let t=e.value.routeConfig;return t&&t.path===""}function tE(e){let t=[],n=new Set;for(let r of e){if(!zM(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=tE(r.children);t.push(new mn(r.value,i))}return t.filter(r=>!n.has(r))}function GM(e){return e.data||{}}function KM(e){return e.resolve||{}}function WM(e,t,n,r,i,o){return pt(s=>$M(e,t,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:l})=>Me(O({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function QM(e,t){return pt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of nE(l))s.add(u);let a=0;return Qe(s).pipe(qr(l=>o.has(l)?YM(l,r,e,t):(l.data=_p(l,l.parent,e).resolve,te(void 0))),gt(()=>a++),bo(1),pt(l=>a===s.size?te(n):tn))})}function nE(e){let t=e.children.map(n=>nE(n)).flat();return[e,...t]}function YM(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!WC(i)&&(o[va]=i.title),ZM(o,e,t,r).pipe(se(s=>(e._resolvedData=s,e.data=_p(e,e.parent,n).resolve,null)))}function ZM(e,t,n,r){let i=Xh(e);if(i.length===0)return te({});let o={};return Qe(i).pipe(pt(s=>XM(e[s],t,n,r).pipe(kn(),gt(a=>{o[s]=a}))),bo(1),_s(o),mt(s=>JC(s)?tn:Hr(s)))}function XM(e,t,n,r){let i=ya(t)??r,o=ts(e,i),s=o.resolve?o.resolve(t,n):Ar(i,()=>o(t,n));return li(s)}function Yh(e){return Gt(t=>{let n=e(t);return n?Qe(n).pipe(se(()=>t)):te(t)})}var rE=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[va]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(JM),providedIn:"root"})}}return e})(),JM=(()=>{class e extends rE{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(G(SC))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Np=new Z("",{providedIn:"root",factory:()=>({})}),Rp=new Z(""),eN=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(Ih)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=li(n.loadComponent()).pipe(se(iE),gt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Si(()=>{this.componentLoaders.delete(n)})),i=new yo(r,()=>new Ne).pipe(vo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=tN(r,this.compiler,n,this.onLoadEndListener).pipe(Si(()=>{this.childrenLoaders.delete(r)})),s=new yo(o,()=>new Ne).pipe(vo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tN(e,t,n,r){return li(e.loadChildren()).pipe(se(iE),pt(i=>i instanceof Us||Array.isArray(i)?te(i):Qe(t.compileModuleAsync(i))),se(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Rp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ap),injector:o}}))}function nN(e){return e&&typeof e=="object"&&"default"in e}function iE(e){return nN(e)?e.default:e}var kp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(rN),providedIn:"root"})}}return e})(),rN=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iN=new Z("");var oN=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=$(eN),this.environmentInjector=$(sn),this.urlSerializer=$(wp),this.rootContexts=$(Gu),this.location=$(Qs),this.inputBindingEnabled=$(Tp,{optional:!0})!==null,this.titleStrategy=$(rE),this.options=$(Np,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(kp),this.createViewTransition=$(iN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let n=i=>this.events.next(new ap(i)),r=i=>this.events.next(new lp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Me(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new xt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:aa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dn(o=>o.id!==0),se(o=>Me(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Gt(o=>{this.currentTransition=o;let s=!1,a=!1;return te(o).pipe(gt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Me(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gt(l=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&c!=="reload"){let d="";return this.events.next(new Zi(l.id,this.urlSerializer.serialize(l.rawUrl),d,np.IgnoredSameUrlNavigation)),l.resolve(null),tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(Gt(d=>{let f=this.transitions?.getValue();return this.events.next(new ca(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?tn:Promise.resolve(d)}),WM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Me(O({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Uu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:v,restoredState:m,extras:y}=l,E=new ca(d,this.urlSerializer.serialize(f),v,m);this.events.next(E);let x=GC(this.rootComponentType).snapshot;return this.currentTransition=o=Me(O({},l),{targetSnapshot:x,urlAfterRedirects:f,extras:Me(O({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,te(o)}else{let d="";return this.events.next(new Zi(l.id,this.urlSerializer.serialize(l.extractedUrl),d,np.IgnoredByUrlHandlingStrategy)),l.resolve(null),tn}}),gt(l=>{let u=new rp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),se(l=>(this.currentTransition=o=Me(O({},l),{guards:fM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),xM(this.environmentInjector,l=>this.events.next(l)),gt(l=>{if(o.guardsResult=l.guardsResult,Jo(l.guardsResult))throw YC(this.urlSerializer,l.guardsResult);let u=new ip(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),dn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",wn.GuardRejected),!1)),Yh(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(gt(u=>{let c=new op(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Gt(u=>{let c=!1;return te(u).pipe(QM(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",wn.NoDataFromResolver)}}))}),gt(u=>{let c=new sp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),Yh(l=>{let u=c=>{let d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(gt(f=>{c.component=f}),se(()=>{})));for(let f of c.children)d.push(...u(f));return d};return Cl(u(l.targetSnapshot.root)).pipe(zr(null),Cr(1))}),Yh(()=>this.afterPreactivation()),Gt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,c=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return c?Qe(c).pipe(se(()=>o)):te(o)}),se(l=>{let u=iM(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Me(O({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),gt(()=>{this.events.next(new fa)}),dM(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Cr(1),gt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),xl(this.transitionAbortSubject.pipe(gt(l=>{throw l}))),Si(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",wn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),mt(l=>{if(a=!0,XC(l))this.events.next(new ai(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),aM(l)?this.events.next(new ha(l.url)):o.resolve(!1);else{this.events.next(new da(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return tn}))}))}cancelNavigationTransition(n,r,i){let o=new ai(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sN(e){return e!==aa}var aN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(lN),providedIn:"root"})}}return e})(),Ip=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},lN=(()=>{class e extends Ip{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ui(e)))(i||e)}})()}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>$(uN),providedIn:"root"})}}return e})(),uN=(()=>{class e extends oE{constructor(){super(...arguments),this.location=$(Qs),this.urlSerializer=$(wp),this.options=$(Np,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(kp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new oi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ca)this.stateMemento=this.createStateMemento();else if(n instanceof Zi)this.rawUrlTree=r.initialUrl;else if(n instanceof Uu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof fa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof ai&&(n.code===wn.GuardRejected||n.code===wn.NoDataFromResolver)?this.restoreHistory(r):n instanceof da?this.restoreHistory(r,!0):n instanceof si&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=O(O({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ui(e)))(i||e)}})()}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(oa||{});function cN(e,t){e.events.pipe(dn(n=>n instanceof si||n instanceof ai||n instanceof da||n instanceof Zi),se(n=>n instanceof si||n instanceof Zi?oa.COMPLETE:(n instanceof ai?n.code===wn.Redirect||n.code===wn.SupersededByNewNavigation:!1)?oa.REDIRECTING:oa.FAILED),dn(n=>n!==oa.REDIRECTING),Cr(1)).subscribe(()=>{t()})}function dN(e){throw e}var fN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Op=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=$(Eu),this.stateManager=$(oE),this.options=$(Np,{optional:!0})||{},this.pendingTasks=$(Vo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(oN),this.urlSerializer=$(wp),this.location=$(Qs),this.urlHandlingStrategy=$(kp),this._events=new Ne,this.errorHandler=this.options.errorHandler||dN,this.navigated=!1,this.routeReuseStrategy=$(aN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(Rp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(Tp,{optional:!0}),this.eventsSubscription=new st,this.isNgZoneEnabled=$(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ai&&r.code!==wn.Redirect&&r.code!==wn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof si)this.navigated=!0;else if(r instanceof ha){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||sN(i.source)};this.scheduleNavigation(s,aa,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}gN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),aa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=O({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ap),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a){case"merge":c=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=$C(f)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return HC(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,aa,null,r)}navigate(n,r={skipLocationChange:!1}){return pN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},fN):r===!1?i=O({},hN):i=r,Jo(n))return DC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return DC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});let c=this.pendingTasks.add();return cN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new W(4008,!1)}function gN(e){return!(e instanceof fa)&&!(e instanceof ha)}var Wu=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof si&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Hv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(q(Op),q(Xi),zs("tabindex"),q(Jn),q(gn),q(zo))}}static{this.\u0275dir=$t({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[jt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ni],skipLocationChange:[jt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ni],replaceUrl:[jt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ni],routerLink:"routerLink"},standalone:!0,features:[gh,Mr]})}}return e})();var mN=new Z("");function sE(e,...t){return Lo([{provide:Rp,multi:!0,useValue:e},[],{provide:Xi,useFactory:vN,deps:[Op]},{provide:bu,multi:!0,useFactory:yN},t.map(n=>n.\u0275providers)])}function vN(e){return e.routerState.root}function yN(){let e=$(Fo);return t=>{let n=e.get(Ho);if(t!==n.components[0])return;let r=e.get(Op),i=e.get(CN);e.get(EN)===1&&r.initialNavigation(),e.get(bN,null,ye.Optional)?.setUpPreloading(),e.get(mN,null,ye.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CN=new Z("",{factory:()=>new Ne}),EN=new Z("",{providedIn:"root",factory:()=>1});var bN=new Z("");function Fp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var eo=Fp();function fE(e){eo=e}var hE=/[&<>"']/,xN=new RegExp(hE.source,"g"),pE=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,IN=new RegExp(pE.source,"g"),wN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aE=e=>wN[e];function vn(e,t){if(t){if(hE.test(e))return e.replace(xN,aE)}else if(pE.test(e))return e.replace(IN,aE);return e}var _N=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function SN(e){return e.replace(_N,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var DN=/(^|[^\[])\^/g;function Ve(e,t){let n=typeof e=="string"?e:e.source;t=t||"";let r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(DN,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}function lE(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}var ba={exec:()=>null};function uE(e,t){let n=e.replace(/\|/g,(o,s,a)=>{let l=!1,u=s;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Qu(e,t,n){let r=e.length;if(r===0)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o===t&&!n)i++;else if(o!==t&&n)i++;else break}return e.slice(0,r-i)}function TN(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function cE(e,t,n,r){let i=t.href,o=t.title?vn(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;let a={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:o,text:vn(s)}}function AN(e,t){let n=e.match(/^(\s+)(?:```)/);if(n===null)return t;let r=n[1];return t.split(`
`).map(i=>{let o=i.match(/^\s+/);if(o===null)return i;let[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}var rs=class{options;rules;lexer;constructor(t){this.options=t||eo}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Qu(r,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let r=n[0],i=AN(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){let i=Qu(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Qu(r.replace(/^ *>[ \t]?/gm,""),`
`);let i=this.lexer.state.top;this.lexer.state.top=!0;let o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:o,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim(),i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",u=!1;for(;t;){let c=!1;if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;a=n[0],t=t.substring(a.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),f=t.split(`
`,1)[0],v=0;this.options.pedantic?(v=2,l=d.trimStart()):(v=n[2].search(/[^ ]/),v=v>4?1:v,l=d.slice(v),v+=n[1].length);let m=!1;if(!d&&/^ *$/.test(f)&&(a+=f+`
`,t=t.substring(f.length+1),c=!0),!c){let x=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;t;){let M=t.split(`
`,1)[0];if(f=M,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_.test(f)||k.test(f)||x.test(f)||S.test(t))break;if(f.search(/[^ ]/)>=v||!f.trim())l+=`
`+f.slice(v);else{if(m||d.search(/[^ ]/)>=4||_.test(d)||k.test(d)||S.test(d))break;l+=`
`+f}!m&&!f.trim()&&(m=!0),a+=M+`
`,t=t.substring(M.length+1),d=f.slice(v)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let y=null,E;this.options.gfm&&(y=/^\[[ xX]\] /.exec(l),y&&(E=y[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!y,checked:E,loose:!1,text:l,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=l.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){let d=o.items[c].tokens.filter(v=>v.type==="space"),f=d.length>0&&d.some(v=>/\n.*\n/.test(v.raw));o.loose=f}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:o}}}table(t){let n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;let r=uE(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),o=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let a of i)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(let a of r)s.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of o)s.rows.push(uE(a,s.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return s}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:vn(n[1])}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let s=Qu(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=TN(n[2],"()");if(s>-1){let l=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),cE(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(/\s+/g," "),o=n[i.toLowerCase()];if(!o){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return cE(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...i[0]].length-1,a,l,u=s,c=0,d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+s);(i=d.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);let f=[...i[0]][0].length,v=t.slice(0,s+i.index+f+l);if(Math.min(s,l)%2){let y=v.slice(1,-1);return{type:"em",raw:v,text:y,tokens:this.lexer.inlineTokens(y)}}let m=v.slice(2,-2);return{type:"strong",raw:v,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," "),i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=vn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=vn(n[1]),i="mailto:"+r):(r=vn(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let n;if(n=this.rules.inline.url.exec(t)){let r,i;if(n[2]==="@")r=vn(n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(o!==n[0]);r=vn(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=vn(n[0]),{type:"text",raw:n[0],text:r}}}},MN=/^(?: *(?:\n|$))+/,NN=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,RN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ia=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,gE=/(?:[*+-]|\d{1,9}[.)])/,mE=Ve(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,gE).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Bp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ON=/^[^\n]+/,Vp=/(?!\s*\])(?:\\.|[^\[\]\\])+/,PN=Ve(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Vp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),LN=Ve(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,gE).getRegex(),Xu="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Up=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,FN=Ve("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Up).replace("tag",Xu).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vE=Ve(Bp).replace("hr",Ia).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xu).getRegex(),BN=Ve(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",vE).getRegex(),jp={blockquote:BN,code:NN,def:PN,fences:RN,heading:kN,hr:Ia,html:FN,lheading:mE,list:LN,newline:MN,paragraph:vE,table:ba,text:ON},dE=Ve("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ia).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xu).getRegex(),VN=Me(O({},jp),{table:dE,paragraph:Ve(Bp).replace("hr",Ia).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",dE).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xu).getRegex()}),UN=Me(O({},jp),{html:Ve(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Up).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ba,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ve(Bp).replace("hr",Ia).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mE).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),yE=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,jN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,CE=/^( {2,}|\\)\n(?!\s*$)/,$N=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,wa="\\p{P}\\p{S}",HN=Ve(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,wa).getRegex(),qN=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,zN=Ve(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,wa).getRegex(),GN=Ve("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,wa).getRegex(),KN=Ve("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,wa).getRegex(),WN=Ve(/\\([punct])/,"gu").replace(/punct/g,wa).getRegex(),QN=Ve(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),YN=Ve(Up).replace("(?:-->|$)","-->").getRegex(),ZN=Ve("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",YN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,XN=Ve(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Zu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),EE=Ve(/^!?\[(label)\]\[(ref)\]/).replace("label",Zu).replace("ref",Vp).getRegex(),bE=Ve(/^!?\[(ref)\](?:\[\])?/).replace("ref",Vp).getRegex(),JN=Ve("reflink|nolink(?!\\()","g").replace("reflink",EE).replace("nolink",bE).getRegex(),$p={_backpedal:ba,anyPunctuation:WN,autolink:QN,blockSkip:qN,br:CE,code:jN,del:ba,emStrongLDelim:zN,emStrongRDelimAst:GN,emStrongRDelimUnd:KN,escape:yE,link:XN,nolink:bE,punctuation:HN,reflink:EE,reflinkSearch:JN,tag:ZN,text:$N,url:ba},eR=Me(O({},$p),{link:Ve(/^!?\[(label)\]\((.*?)\)/).replace("label",Zu).getRegex(),reflink:Ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zu).getRegex()}),Pp=Me(O({},$p),{escape:Ve(yE).replace("])","~|])").getRegex(),url:Ve(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),tR=Me(O({},Pp),{br:Ve(CE).replace("{2,}","*").getRegex(),text:Ve(Pp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Yu={normal:jp,gfm:VN,pedantic:UN},Ea={normal:$p,gfm:Pp,breaks:tR,pedantic:eR},Lr=class e{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||eo,this.options.tokenizer=this.options.tokenizer||new rs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Yu.normal,inline:Ea.normal};this.options.pedantic?(n.block=Yu.pedantic,n.inline=Ea.pedantic):this.options.gfm&&(n.block=Yu.gfm,this.options.breaks?n.inline=Ea.breaks:n.inline=Ea.gfm),this.tokenizer.rules=n}static get rules(){return{block:Yu,inline:Ea}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));let r,i,o,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,i,o,s=t,a,l,u;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,s,u)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0,d=t.slice(1),f;this.options.extensions.startInline.forEach(v=>{f=v.call({lexer:this},d),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=t.substring(0,c+1))}if(r=this.tokenizer.inlineText(o)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},rr=class{options;constructor(t){this.options=t||eo}code(t,n,r){let i=(n||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+vn(i)+'">'+(r?t:vn(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:vn(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,n){return t}heading(t,n,r){return`<h${n}>${t}</h${n}>
`}hr(){return`<hr>
`}list(t,n,r){let i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+t+"</"+i+`>
`}listitem(t,n,r){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){let r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){let i=lE(t);if(i===null)return r;t=i;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){let i=lE(t);if(i===null)return r;t=i;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=">",o}text(t){return t}},xa=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}},Fr=class e{options;renderer;textRenderer;constructor(t){this.options=t||eo,this.options.renderer=this.options.renderer||new rr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xa}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(t,n=!0){let r="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){let s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){r+=a||"";continue}}switch(o.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{let s=o;r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,SN(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{let s=o;r+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{let s=o,a="",l="";for(let c=0;c<s.header.length;c++)l+=this.renderer.tablecell(this.parseInline(s.header[c].tokens),{header:!0,align:s.align[c]});a+=this.renderer.tablerow(l);let u="";for(let c=0;c<s.rows.length;c++){let d=s.rows[c];l="";for(let f=0;f<d.length;f++)l+=this.renderer.tablecell(this.parseInline(d[f].tokens),{header:!1,align:s.align[f]});u+=this.renderer.tablerow(l)}r+=this.renderer.table(a,u);continue}case"blockquote":{let s=o,a=this.parse(s.tokens);r+=this.renderer.blockquote(a);continue}case"list":{let s=o,a=s.ordered,l=s.start,u=s.loose,c="";for(let d=0;d<s.items.length;d++){let f=s.items[d],v=f.checked,m=f.task,y="";if(f.task){let E=this.renderer.checkbox(!!v);u?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=E+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=E+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:E+" "}):y+=E+" "}y+=this.parse(f.tokens,u),c+=this.renderer.listitem(y,m,!!v)}r+=this.renderer.list(c,a,l);continue}case"html":{let s=o;r+=this.renderer.html(s.text,s.block);continue}case"paragraph":{let s=o;r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;i+1<t.length&&t[i+1].type==="text";)s=t[++i],a+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);r+=n?this.renderer.paragraph(a):a;continue}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}parseInline(t,n){n=n||this.renderer;let r="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){let s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=s||"";continue}}switch(o.type){case"escape":{let s=o;r+=n.text(s.text);break}case"html":{let s=o;r+=n.html(s.text);break}case"link":{let s=o;r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{let s=o;r+=n.image(s.href,s.title,s.text);break}case"strong":{let s=o;r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{let s=o;r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{let s=o;r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{let s=o;r+=n.del(this.parseInline(s.tokens,n));break}case"text":{let s=o;r+=n.text(s.text);break}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}},ns=class{options;constructor(t){this.options=t||eo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}},Lp=class{defaults=Fp();options=this.setOptions;parse=this.#e(Lr.lex,Fr.parse);parseInline=this.#e(Lr.lexInline,Fr.parseInline);Parser=Fr;Renderer=rr;TextRenderer=xa;Lexer=Lr;Tokenizer=rs;Hooks=ns;constructor(...t){this.use(...t)}walkTokens(t,n){let r=[];for(let i of t)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let o=i;for(let s of o.header)r=r.concat(this.walkTokens(s.tokens,n));for(let s of o.rows)for(let a of s)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{let o=i;r=r.concat(this.walkTokens(o.items,n));break}default:{let o=i;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let a=o[s].flat(1/0);r=r.concat(this.walkTokens(a,n))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,n)))}}return r}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i=O({},r);if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=n.renderers[o.name];s?n.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=n[o.level];s?s.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),i.extensions=n),r.renderer){let o=this.defaults.renderer||new rr(this.defaults);for(let s in r.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;let a=s,l=r.renderer[a],u=o[a];o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d||""}}i.renderer=o}if(r.tokenizer){let o=this.defaults.tokenizer||new rs(this.defaults);for(let s in r.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,l=r.tokenizer[a],u=o[a];o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}i.tokenizer=o}if(r.hooks){let o=this.defaults.hooks||new ns;for(let s in r.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;let a=s,l=r.hooks[a],u=o[a];ns.passThroughHooks.has(s)?o[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(o,c)).then(f=>u.call(o,f));let d=l.call(o,c);return u.call(o,d)}:o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}i.hooks=o}if(r.walkTokens){let o=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults=O(O({},this.defaults),i)}),this}setOptions(t){return this.defaults=O(O({},this.defaults),t),this}lexer(t,n){return Lr.lex(t,n??this.defaults)}parser(t,n){return Fr.parse(t,n??this.defaults)}#e(t,n){return(r,i)=>{let o=O({},i),s=O(O({},this.defaults),o);this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);let a=this.#t(!!s.silent,!!s.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(l=>t(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>n(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let l=t(r,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=n(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return a(l)}}}#t(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+vn(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},Ji=new Lp;function De(e,t){return Ji.parse(e,t)}De.options=De.setOptions=function(e){return Ji.setOptions(e),De.defaults=Ji.defaults,fE(De.defaults),De};De.getDefaults=Fp;De.defaults=eo;De.use=function(...e){return Ji.use(...e),De.defaults=Ji.defaults,fE(De.defaults),De};De.walkTokens=function(e,t){return Ji.walkTokens(e,t)};De.parseInline=Ji.parseInline;De.Parser=Fr;De.parser=Fr.parse;De.Renderer=rr;De.TextRenderer=xa;De.Lexer=Lr;De.lexer=Lr.lex;De.Tokenizer=rs;De.Hooks=ns;De.parse=De;var w5=De.options,_5=De.setOptions,S5=De.use,D5=De.walkTokens,T5=De.parseInline;var A5=Fr.parse,M5=Lr.lex;var nR="Copy",rR="Copied",iR=(()=>{class e{constructor(){this._buttonClick$=new Ne,this.copied$=this._buttonClick$.pipe(Gt(()=>ad(te(!0),sd(3e3).pipe(_s(!1)))),ld(),fd(1)),this.copiedText$=this.copied$.pipe(Ss(!1),se(n=>n?rR:nR))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Be],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,i){r&1&&(L(0,"button",0),re("click",function(){return i.onCopyToClipboardClick()}),Eh(1,"async"),Xe(2),Eh(3,"async"),F()),r&2&&(kr("copied",bh(1,3,i.copied$)),H(2),er(bh(3,5,i.copiedText$)))},dependencies:[lC],encapsulation:2,changeDetection:0})}}return e})(),oR=new Z("CLIPBOARD_OPTIONS");var IE=new Z("MARKED_EXTENSIONS"),sR=new Z("MARKED_OPTIONS"),aR="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",lR="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",uR="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",cR="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",dR="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",fR="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",wE=new Z("SECURITY_CONTEXT");var hR=(()=>{class e{get options(){return this._options}set options(n){this._options=O(O({},this.DEFAULT_MARKED_OPTIONS),n)}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,r,i,o,s,a,l){this.clipboardOptions=n,this.extensions=r,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=l,this.DEFAULT_MARKED_OPTIONS={renderer:new rr},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Ne,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,r=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:i,inline:o,emoji:s,mermaid:a,disableSanitizer:l}=r,u=O(O({},this.options),r.markedOptions),c=u.renderer||this.renderer||new rr;this.extensions&&(this.renderer=this.extendsRendererForExtensions(c)),a&&(this.renderer=this.extendsRendererForMermaid(c));let d=this.trimIndentation(n),f=i?this.decodeHtml(d):d,v=s?this.parseEmoji(f):f,m=this.parseMarked(v,u,o);return(l?m:this.sanitizer.sanitize(this.securityContext,m))||""}render(n,r=this.DEFAULT_RENDER_OPTIONS,i){let{clipboard:o,clipboardOptions:s,katex:a,katexOptions:l,mermaid:u,mermaidOptions:c}=r;o&&this.renderClipboard(n,i,O(O(O({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),s)),a&&this.renderKatex(n,O(O({},this.DEFAULT_KATEX_OPTIONS),l)),u&&this.renderMermaid(n,O(O({},this.DEFAULT_MERMAID_OPTIONS),c)),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error(fR);return this.http.get(n,{responseType:"text"}).pipe(se(r=>this.handleExtension(n,r)))}highlight(n){if(!Pr(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);let r=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Pr(this.platform))return n;let r=document.createElement("textarea");return r.innerHTML=n,r.value}extendsRendererForExtensions(n){let r=n;return r.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&De.use(...this.extensions),r.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){let r=n;if(r.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return n;let i=n.code;return n.code=function(o,s,a){return s==="mermaid"?`<div class="mermaid">${o}</div>`:i.call(this,o,s,a)},r.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,r){let i=n.lastIndexOf("://"),o=i>-1?n.substring(i+4):n,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",l=a.lastIndexOf("."),u=l>-1?a.substring(l+1):"";return u&&u!=="md"?"```"+u+`
`+r+"\n```":r}parseMarked(n,r,i=!1){if(r.renderer){let o=O({},r.renderer);delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete r.renderer,De.use({renderer:o})}return i?De.parseInline(n,r):De.parse(n,r)}parseEmoji(n){if(!Pr(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(aR);return joypixels.shortnameToUnicode(n)}renderKatex(n,r){if(Pr(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(lR);renderMathInElement(n,r)}}renderClipboard(n,r,i){if(!Pr(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(cR);if(!r)throw new Error(dR);let{buttonComponent:o,buttonTemplate:s}=i,a=n.querySelectorAll("pre");for(let l=0;l<a.length;l++){let u=a.item(l),c=document.createElement("div");c.style.position="relative",u.parentNode.insertBefore(c,u),c.appendChild(u);let d=document.createElement("div");d.style.position="absolute",d.style.top=".5em",d.style.right=".5em",d.style.opacity="0",d.style.transition="opacity 250ms ease-out",c.insertAdjacentElement("beforeend",d),u.onmouseover=()=>d.style.opacity="1",u.onmouseout=()=>d.style.opacity="0";let f;o?f=r.createComponent(o).hostView:s?f=r.createEmbeddedView(s):f=r.createComponent(iR).hostView;let v;f.rootNodes.forEach(m=>{m.onmouseover=()=>d.style.opacity="1",d.appendChild(m),v=new ClipboardJS(m,{text:()=>u.innerText})}),f.onDestroy(()=>v.destroy())}}renderMermaid(n,r=this.DEFAULT_MERMAID_OPTIONS){if(!Pr(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(uR);let i=n.querySelectorAll(".mermaid");i.length!==0&&(mermaid.initialize(r),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let r;return n.split(`
`).map(i=>{let o=r;return i.length>0&&(o=isNaN(o)?i.search(/\S|$/):Math.min(i.search(/\S|$/),o)),isNaN(r)&&(r=o),o?i.substring(o):i}).join(`
`)}static{this.\u0275fac=function(r){return new(r||e)(G(oR,8),G(IE,8),G(sR,8),G(xn),G(wE),G(Wi,8),G(na))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function _E(e){return[hR,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:IE,useValue:e?.markedExtensions??[]},{provide:wE,useValue:e?.sanitize??an.HTML}]}var xE;(function(e){let t;(function(i){i.Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox"})(t=e.SecurityLevel||(e.SecurityLevel={}));let n;(function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"})(n=e.Theme||(e.Theme={}));let r;(function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"})(r=e.LogLevel||(e.LogLevel={}))})(xE||(xE={}));var SE=(()=>{class e{onClick(n){var r=n,i=r.nextElementSibling;n!=null&&(r.classList.toggle("active"),i.style.maxHeight?i.style.maxHeight="":i.style.maxHeight=i.scrollHeight+"px")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-about"]],standalone:!0,features:[Be],decls:6,vars:0,consts:[[1,"container"],["type","button",1,"collapsible",3,"click"],[1,"content"]],template:function(r,i){r&1&&(L(0,"div",0)(1,"button",1),re("click",function(s){return i.onClick(s.target)}),Xe(2,"Purpose"),F(),L(3,"div",2)(4,"p"),Xe(5,"Explore interesting ideas and showcase the results."),F()()())},styles:['.collapsible[_ngcontent-%COMP%]{background-color:#000;color:#fff;cursor:pointer;padding:10px;width:100%;border:none;text-align:center;outline:none;font-size:20px}.active[_ngcontent-%COMP%], .collapsible[_ngcontent-%COMP%]:hover{background-color:#3e3e3e}.content[_ngcontent-%COMP%]{padding:0 18px;background-color:#f6f4f4;max-height:0;overflow:hidden;transition:max-height .2s ease-out}.collapsible[_ngcontent-%COMP%]:after{content:"\\2795";font-size:20px;color:#fff;float:right;margin-left:5px}.active[_ngcontent-%COMP%]:after{content:"\\2796"}.container[_ngcontent-%COMP%]{width:90%;padding:2.5% 0 0}']})}}return e})();var PE=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(q(Jn),q(gn))}}static{this.\u0275dir=$t({type:e})}}return e})(),pR=(()=>{class e extends PE{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ui(e)))(i||e)}})()}static{this.\u0275dir=$t({type:e,features:[ei]})}}return e})(),nc=new Z("");var gR={provide:nc,useExisting:Xn(()=>rc),multi:!0};function mR(){let e=Or()?Or().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var vR=new Z(""),rc=(()=>{class e extends PE{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mR())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(q(Jn),q(gn),q(vR,8))}}static{this.\u0275dir=$t({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[zi([gR]),ei]})}}return e})();function yR(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function CR(e){return e!=null&&typeof e.length=="number"}var Ta=new Z(""),ER=new Z("");function bR(e){return yR(e.value)?{required:!0}:null}function xR(e){return t=>CR(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function DE(e){return null}function LE(e){return e!=null}function FE(e){return ti(e)?Qe(e):e}function BE(e){let t={};return e.forEach(n=>{t=n!=null?O(O({},t),n):t}),Object.keys(t).length===0?null:t}function VE(e,t){return t.map(n=>n(e))}function IR(e){return!e.validate}function UE(e){return e.map(t=>IR(t)?t:n=>t.validate(n))}function wR(e){if(!e)return null;let t=e.filter(LE);return t.length==0?null:function(n){return BE(VE(n,t))}}function jE(e){return e!=null?wR(UE(e)):null}function _R(e){if(!e)return null;let t=e.filter(LE);return t.length==0?null:function(n){let r=VE(n,t).map(FE);return od(r).pipe(se(BE))}}function $E(e){return e!=null?_R(UE(e)):null}function TE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function SR(e){return e._rawValidators}function DR(e){return e._rawAsyncValidators}function Hp(e){return e?Array.isArray(e)?e:[e]:[]}function ec(e,t){return Array.isArray(e)?e.includes(t):e===t}function AE(e,t){let n=Hp(t);return Hp(e).forEach(i=>{ec(n,i)||n.push(i)}),n}function ME(e,t){return Hp(t).filter(n=>!ec(e,n))}var tc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$E(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qp=class extends tc{get formDirective(){return null}get path(){return null}},Da=class extends tc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zp=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},TR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fj=Me(O({},TR),{"[class.ng-submitted]":"isSubmitted"}),ic=(()=>{class e extends zp{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(q(Da,2))}}static{this.\u0275dir=$t({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ei]})}}return e})();var _a="VALID",Ju="INVALID",is="PENDING",Sa="DISABLED";function AR(e){return(oc(e)?e.validators:e)||null}function MR(e){return Array.isArray(e)?jE(e):e||null}function NR(e,t){return(oc(t)?t.asyncValidators:e)||null}function RR(e){return Array.isArray(e)?$E(e):e||null}function oc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Gp=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_a}get invalid(){return this.status===Ju}get pending(){return this.status==is}get disabled(){return this.status===Sa}get enabled(){return this.status!==Sa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(AE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(AE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ME(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ME(t,this._rawAsyncValidators))}hasValidator(t){return ec(this._rawValidators,t)}hasAsyncValidator(t){return ec(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=is,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Sa,this.errors=null,this._forEachChild(r=>{r.disable(Me(O({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(O({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(Me(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Me(O({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===is)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sa:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=is,this._hasOwnPendingAsyncValidator=!0;let n=FE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Sa:this.errors?Ju:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(is)?is:this._anyControlsHaveStatus(Ju)?Ju:_a}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=MR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=RR(this._rawAsyncValidators)}};var HE=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>Kp}),Kp="always";function kR(e,t){return[...t.path,e]}function OR(e,t,n=Kp){LR(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),FR(e,t),VR(e,t),BR(e,t),PR(e,t)}function NE(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function PR(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function LR(e,t){let n=SR(e);t.validator!==null?e.setValidators(TE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=DR(e);t.asyncValidator!==null?e.setAsyncValidators(TE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();NE(t._rawValidators,i),NE(t._rawAsyncValidators,i)}function FR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&qE(e,t)})}function BR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&qE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function qE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function VR(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function UR(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function jR(e){return Object.getPrototypeOf(e.constructor)===pR}function $R(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===rc?n=o:jR(o)?r=o:i=o}),i||r||n||null}function RE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function kE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var HR=class extends Gp{constructor(t=null,n,r){super(AR(n),NR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){kE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var qR={provide:Da,useExisting:Xn(()=>Aa)},OE=Promise.resolve(),Aa=(()=>{class e extends Da{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new HR,this._registered=!1,this.name="",this.update=new Ye,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$R(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),UR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){OR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){OE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ni(r);OE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?kR(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(q(qp,9),q(Ta,10),q(ER,10),q(nc,10),q(Jr,8),q(HE,8))}}static{this.\u0275dir=$t({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[jt.None,"disabled","isDisabled"],model:[jt.None,"ngModel","model"],options:[jt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zi([qR]),ei,Mr]})}}return e})();function zR(e){return typeof e=="number"?e:parseInt(e,10)}var zE=(()=>{class e{constructor(){this._validator=DE}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):DE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=$t({type:e,features:[Mr]})}}return e})();var GR={provide:Ta,useExisting:Xn(()=>Wp),multi:!0};var Wp=(()=>{class e extends zE{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ni,this.createValidator=n=>bR}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ui(e)))(i||e)}})()}static{this.\u0275dir=$t({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vt("required",i._enabled?"":null)},inputs:{required:"required"},features:[zi([GR]),ei]})}}return e})();var KR={provide:Ta,useExisting:Xn(()=>Qp),multi:!0},Qp=(()=>{class e extends zE{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>zR(n),this.createValidator=n=>xR(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ui(e)))(i||e)}})()}static{this.\u0275dir=$t({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&vt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[zi([KR]),ei]})}}return e})();var WR=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Vn({type:e})}static{this.\u0275inj=Un({})}}return e})();var os=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:HE,useValue:n.callSetDisabledState??Kp}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Vn({type:e})}static{this.\u0275inj=Un({imports:[WR]})}}return e})();var QR=["resizeSensor"],YR=["aceEditor"],ZR=["previewContainer"];function XR(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Bold"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Bold.title),H(),In(n.options.customIcons.Bold.fontClass)}}function JR(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Italic"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Italic.title),H(),In(n.options.customIcons.Italic.fontClass)}}function e2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Heading"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Heading.title),H(),In(n.options.customIcons.Heading.fontClass)}}function t2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Reference"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Reference.title),H(),In(n.options.customIcons.Reference.fontClass)}}function n2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Link"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Link.title),H(),In(n.options.customIcons.Link.fontClass)}}function r2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Image"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.Image.title),H(),In(n.options.customIcons.Image.fontClass)}}function i2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Ul"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.UnorderedList.title),H(),In(n.options.customIcons.UnorderedList.fontClass)}}function o2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Ol"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.OrderedList.title),H(),In(n.options.customIcons.OrderedList.fontClass)}}function s2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.insertContent("Code"))}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.buttonText.CodeBlock.title),H(),In(n.options.customIcons.CodeBlock.fontClass)}}function a2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.togglePreview())}),oe(1,"i"),F()}if(e&2){let n=ie(2);vt("title",n.showPreviewPanel?n.buttonText.HidePreview.title:n.buttonText.ShowPreview.title),H(),In(n.showPreviewPanel?n.options.customIcons.ShowPreview.fontClass:n.options.customIcons.HidePreview.fontClass)}}function l2(e,t){if(e&1){let n=tt();L(0,"button",19),re("click",function(){Le(n);let i=ie(2);return Fe(i.fullScreen())}),oe(1,"i"),F()}if(e&2){let n=ie(2);kr("active",n.isFullScreen),vt("title",n.buttonText.Fullscreen.title),H(),In(n.options.customIcons.FullScreen.fontClass)}}function u2(e,t){if(e&1&&(L(0,"div",14)(1,"div",15),at(2,XR,2,3,"button",16)(3,JR,2,3,"button",16)(4,e2,2,3,"button",16)(5,t2,2,3,"button",16),F(),L(6,"div",15),at(7,n2,2,3,"button",16)(8,r2,2,3,"button",16),F(),L(9,"div",15),at(10,i2,2,3,"button",16)(11,o2,2,3,"button",16)(12,s2,2,3,"button",16),F(),L(13,"div",15),at(14,a2,2,3,"button",16),F(),L(15,"div",15),yh(16),F(),L(17,"div",17),at(18,l2,2,5,"button",18),F()()),e&2){let n=ie();H(2),X("ngIf",!n.hideIcons.Bold),H(),X("ngIf",!n.hideIcons.Italic),H(),X("ngIf",!n.hideIcons.Heading),H(),X("ngIf",!n.hideIcons.Reference),H(2),X("ngIf",!n.hideIcons.Link),H(),X("ngIf",!n.hideIcons.Image),H(2),X("ngIf",!n.hideIcons.Ul),H(),X("ngIf",!n.hideIcons.Ol),H(),X("ngIf",!n.hideIcons.Code),H(2),X("ngIf",!n.hideIcons.TogglePreview),H(4),X("ngIf",!n.hideIcons.FullScreen)}}function c2(e,t){e&1&&(Y0(),L(0,"svg",25),oe(1,"path",26),F())}function d2(e,t){e&1&&oe(0,"div",27)}function f2(e,t){if(e&1&&(L(0,"div",20)(1,"div",21),at(2,c2,2,0,"svg",22)(3,d2,1,0,"div",23),L(4,"div",24),Xe(5),F()()()),e&2){let n=ie();H(2),X("ngIf",!n.isUploading),H(),X("ngIf",n.isUploading),H(2),er(n.isUploading?n.uploadText.Uploading:n.uploadText.Drag)}}function h2(e,t){if(e&1&&(L(0,"div",28)(1,"div",29),Xe(2),F(),oe(3,"div",30),F()),e&2){let n=ie();H(2),Ch(" ",n.markdownValue==null?null:n.markdownValue.length," / ",n.maxlength," ")}}function p2(e,t){if(e&1){let n=tt();L(0,"md-editor-resize-sensor",31),re("resize",function(i){Le(n);let o=ie();return Fe(o.mdEditorResize(i))}),F()}}var g2=[[["","custom-btns",""]]],m2=["[custom-btns]"],sc={en:{Buttons:{Bold:{title:"Bold",initText:"Bold Text"},Italic:{title:"Italic",initText:"Italic Text"},Heading:{title:"Heading"},Reference:{title:"Reference"},Link:{title:"Link"},Image:{title:"Image"},UnorderedList:{title:"Unordered List",initText:""},OrderedList:{title:"Ordered List",initText:""},CodeBlock:{title:"Code Block",initText:"Source Code"},ShowPreview:{title:"Show Preview"},HidePreview:{title:"Hide Preview"},Fullscreen:{title:"Fullscreen"}},Upload:{Drag:"Drag it here",Uploading:"Uploading"}}},ac={fontAwesome4:{Bold:{fontClass:"fa fa-bold"},Italic:{fontClass:"fa fa-italic"},Heading:{fontClass:"fa fa-header"},Reference:{fontClass:"fa fa-quote-left"},Link:{fontClass:"fa fa-link"},Image:{fontClass:"fa fa-image"},UnorderedList:{fontClass:"fa fa-list-ul"},OrderedList:{fontClass:"fa fa-list-ol"},CodeBlock:{fontClass:"fa fa-file-code-o"},ShowPreview:{fontClass:"fa fa-eye"},HidePreview:{fontClass:"fa fa-eye-slash"},FullScreen:{fontClass:"fa fa-arrows-alt"},CheckBox_UnChecked:{fontClass:"fa fa-square-o"},CheckBox_Checked:{fontClass:"fa fa-check-square"}},fontAwesome5:{Bold:{fontClass:"fas fa-bold"},Italic:{fontClass:"fas fa-italic"},Heading:{fontClass:"fas fa-heading"},Reference:{fontClass:"fas fa-quote-left"},Link:{fontClass:"fas fa-link"},Image:{fontClass:"fas fa-image"},UnorderedList:{fontClass:"fas fa-list-ul"},OrderedList:{fontClass:"fas fa-list-ol"},CodeBlock:{fontClass:"fas fa-file-code"},ShowPreview:{fontClass:"fas fa-eye"},HidePreview:{fontClass:"fas fa-eye-slash"},FullScreen:{fontClass:"fas fa-compress"},CheckBox_UnChecked:{fontClass:"far fa-square"},CheckBox_Checked:{fontClass:"fas fa-check-square"}},fontAwesome6:{Bold:{fontClass:"fa-solid fa-bold"},Italic:{fontClass:"fa-solid fa-italic"},Heading:{fontClass:"fa-solid fa-heading"},Reference:{fontClass:"fa-solid fa-quote-left"},Link:{fontClass:"fa-solid fa-link"},Image:{fontClass:"fa-solid fa-image"},UnorderedList:{fontClass:"fa-solid fa-list-ul"},OrderedList:{fontClass:"fa-solid fa-list-ol"},CodeBlock:{fontClass:"fa-solid fa-file-code"},ShowPreview:{fontClass:"fa-solid fa-eye"},HidePreview:{fontClass:"fa-solid fa-eye-slash"},FullScreen:{fontClass:"fa-solid fa-maximize"},CheckBox_UnChecked:{fontClass:"fa-regular fa-square"},CheckBox_Checked:{fontClass:"fa-solid fa-check-square"}}},v2=(()=>{class e{constructor(n){this._ngZone=n,this.interval=500,this.resize=new Ye,this.sizeInfo={width:0,height:0}}ngAfterViewInit(){this.sizeInfo={width:this.resizeSensor.nativeElement.offsetWidth,height:this.resizeSensor.nativeElement.offsetHeight},this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.detectSize()},this.interval)})}detectSize(){let n=this.resizeSensor.nativeElement.offsetWidth,r=this.resizeSensor.nativeElement.offsetHeight;(this.sizeInfo.width!==n||this.sizeInfo.height!==r)&&(this.sizeInfo={width:n,height:r},this.resize.emit(this.sizeInfo)),setTimeout(()=>{this.detectSize()},this.interval)}}return e.\u0275fac=function(n){return new(n||e)(q(Ze))},e.\u0275cmp=Re({type:e,selectors:[["md-editor-resize-sensor"]],viewQuery:function(n,r){if(n&1&&yu(QR,7),n&2){let i;Ks(i=Ws())&&(r.resizeSensor=i.first)}},inputs:{interval:"interval"},outputs:{resize:"resize"},decls:2,vars:0,consts:[[1,"md-editor-resize-sensor"],["resizeSensor",""]],template:function(n,r){n&1&&oe(0,"div",0,1)},styles:[".md-editor-resize-sensor[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1}"]}),e})(),KE={showPreviewPanel:!0,showBorder:!0,hideIcons:[],usingFontAwesome5:!1,scrollPastEnd:0,enablePreviewContentClick:!1,resizable:!1,customIcons:ac.fontAwesome4,locales:sc,placeholder:""},WE=(()=>{class e{constructor(n,r=!1,i,o,s){this.platform=n,this.required=r,this._ngZone=i,this._renderer2=o,this._domSanitizer=s,this.hideToolbar=!1,this.height="300px",this._locale="en",this._maxlength=-1,this._mode="editor",this._options=Object.assign({},KE),this.onEditorLoaded=new Ye,this.onPreviewDomChanged=new Ye,this.hideIcons={},this.showPreviewPanel=!0,this.isFullScreen=!1,this.dragover=!1,this.isUploading=!1,this.valueChanges=new Ne,this._onChange=a=>{},this._onTouched=()=>{}}get locale(){return this._locale||"en"}set locale(n){this._locale=n}get maxlength(){return this._maxlength}set maxlength(n){Number.isInteger(n)||(n=parseInt(n,10)),Number.isInteger(n)&&(this._maxlength=n)}get mode(){return this._mode}set mode(n){this._mode=!n||["editor","preview"].indexOf(n.toLowerCase())===-1?"editor":n,setTimeout(()=>{this._aceEditorIns&&typeof this._aceEditorIns.resize=="function"&&this._aceEditorIns.resize()},100)}get options(){return this._options}set options(n){let r=Object.assign({},KE,n),i=ac.fontAwesome4;n.fontAwesomeVersion&&["4","5","6"].indexOf(n.fontAwesomeVersion.toString())!==-1?i=ac[`fontAwesome${n.fontAwesomeVersion}`]:n.usingFontAwesome5&&(i=ac.fontAwesome5),typeof r.showPreviewPanel=="boolean"&&(this.showPreviewPanel=r.showPreviewPanel),r.customIcons=Object.assign({},i,n.customIcons);let o={};Array.isArray(r.hideIcons)&&r.hideIcons.forEach(s=>{s==="Refrence"&&(s="Reference"),o[s]=!0}),this.hideIcons=o,r.locales=Object.assign({},sc,n.locales),this._options=r,this._aceEditorIns&&this._aceEditorIns.setOption("placeholder",this.options.placeholder||"")}get localeText(){let n=Object.assign({},sc[this.locale],this.options.locales[this.locale]);return Object.assign({},sc.en,n)}get buttonText(){return this.localeText.Buttons}get uploadText(){return this.localeText.Upload}get markdownValue(){return this._markdownValue||""}set markdownValue(n){this._markdownValue=n||"",this.valueChanges.next(this.markdownValue)}get _hasUploadFunction(){return this.upload&&this.upload instanceof Function}get _isInBrowser(){return Pr(this.platform)}ngOnInit(){if(!this._isInBrowser)return;let n=new marked.Renderer;n.image=this._getRender("image"),n.code=this._getRender("code"),n.table=this._getRender("table"),n.listitem=this._getRender("listitem");let r={renderer:n,highlight:i=>hljs.highlightAuto(i).value};this._markedJsOpt=Object.assign({},r,this.options.markedjsOpt),this._markedJsOpt.sanitize===!0&&typeof this._markedJsOpt.sanitizer!="function"&&(this._markedJsOpt.sanitizer=i=>this._domSanitizer.sanitize(an.HTML,i))}ngAfterViewInit(){if(!this._isInBrowser)return;let n=this.aceEditorContainer.nativeElement,r=ace.edit(n);r.$blockScrolling=1/0,r.getSession().setUseWrapMode(!0),r.getSession().setMode("ace/mode/markdown"),r.setValue(this.markdownValue,1),r.setOption("scrollPastEnd",this._options.scrollPastEnd||0),r.on("change",i=>{if(this._isValueSettedByprogrammatically)return;let o=r.getValue();this._updateMarkdownValue(o,!0),this._onChange(this.markdownValue)}),r.on("blur",()=>{this._onTouched()}),r.setOption("placeholder",this.options.placeholder||""),this.onEditorLoaded.next(r),this._aceEditorIns=r}ngOnDestroy(){this._aceEditorIns&&this._aceEditorIns.destroy(),this.valueChanges&&this.valueChanges.complete()}writeValue(n){this._updateMarkdownValue(n,!1)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){let r=null;return this.required&&this.markdownValue.length===0&&(r={required:!0}),this.maxlength>0&&this.markdownValue.length>this.maxlength&&(r={maxlength:!0}),r}insertContent(n,r){if(!this._aceEditorIns)return;let i=this._aceEditorIns.getSelectedText(),o=!!i,s=2,a="",l=this._aceEditorIns.selection.getRange();switch(n){case"Bold":a=this.buttonText.Bold.initText??this.buttonText.Bold.title,i=`**${i||a}**`;break;case"Italic":a=this.buttonText.Italic.initText??this.buttonText.Italic.title,i=`*${i||a}*`,s=1;break;case"Heading":a=this.buttonText.Heading.initText??this.buttonText.Heading.title,i=`# ${i||a}`;break;case"Reference":a=this.buttonText.Reference.initText??this.buttonText.Reference.title,i=`> ${i||a}`;break;case"Link":i="[](http://)",s=1;break;case"Image":i="![](http://)";break;case"Ul":a=this.buttonText.UnorderedList.initText??this.buttonText.UnorderedList.title,i=`- ${i||a}`;break;case"Ol":a=this.buttonText.OrderedList.initText??this.buttonText.OrderedList.title,i=`1. ${i||a}`,s=3;break;case"Code":a=this.buttonText.CodeBlock.initText??this.buttonText.CodeBlock.title,i="```language\r\n"+(i||a)+"\r\n```",s=3;break;case"Custom":i=r,s=0;break}this._aceEditorIns.session.replace(l,i),o||(l.start.column+=s,l.end.column=l.start.column+a.length,this._aceEditorIns.selection.setRange(l)),this._aceEditorIns.focus()}togglePreview(){this.showPreviewPanel=!this.showPreviewPanel,this.editorResize()}previewPanelClick(n){this.options.enablePreviewContentClick!==!0&&(n.preventDefault(),n.stopImmediatePropagation())}fullScreen(){this.isFullScreen=!this.isFullScreen,this._renderer2.setStyle(document.body,"overflowY",this.isFullScreen?"hidden":"auto"),this.editorResize()}mdEditorResize(n){this.editorResize()}editorResize(n=100){this._aceEditorIns&&(this._aceEditorResizeTimer&&clearTimeout(this._aceEditorResizeTimer),this._aceEditorResizeTimer=setTimeout(()=>{this._aceEditorIns.resize(),this._aceEditorIns.focus()},n))}onDragover(n){n.stopImmediatePropagation(),n.preventDefault(),this._hasUploadFunction&&(this.dragover=!0)}onDrop(n){n.stopImmediatePropagation(),n.preventDefault(),this._uploadFiles(n.dataTransfer.files)}onDragleave(n){n.stopImmediatePropagation(),n.preventDefault(),this.dragover=!1,this._hasUploadFunction}onAceEditorPaste(n){n instanceof ClipboardEvent&&n.clipboardData.files.length>0&&this._uploadFiles(n.clipboardData.files)}_updateMarkdownValue(n,r=!1){let i=typeof n=="string"?n:(n||"").toString();this.markdownValue!==i&&(this.markdownValue=i,this._updateDom(),this._aceEditorIns&&!r&&(this._isValueSettedByprogrammatically=!0,this._aceEditorIns.setValue(i,1),this._isValueSettedByprogrammatically=!1))}_updateDom(){this._convertMarkdownToHtmlTimer&&clearTimeout(this._convertMarkdownToHtmlTimer),this._convertMarkdownToHtmlTimer=setTimeout(()=>{Promise.resolve(this.markdownValue).then(n=>this.preRender&&this.preRender instanceof Function?this.preRender(n):n).then(n=>{let r=marked(n||"",this._markedJsOpt);return this.postRender&&this.postRender instanceof Function?this.postRender(r):r}).then(n=>{this.previewHtml=this._domSanitizer.bypassSecurityTrustHtml(n),this.previewContainer&&this.previewContainer.nativeElement&&this._ngZone.runOutsideAngular(()=>{this._renderer2.setProperty(this.previewContainer.nativeElement,"innerHTML",n),setTimeout(()=>{this.onPreviewDomChanged.next(this.previewContainer.nativeElement)},100)})}).catch(n=>{console.error(n)})},100)}_getRender(n){let r=this.options&&this.options.customRender&&this.options.customRender[n];if(r&&typeof r=="function")return r;switch(n){case"image":return function(s,a,l){let u=`<img style="max-width: 100%;" src="${s}" alt="${l}"`;return a&&(u+=` title="${a}"`),u+=this.options.xhtml?"/>":">",u};case"code":return function(s,a){let l=!!(a&&hljs.getLanguage(a)),u="";if(l)u=hljs.highlight(a,s).value;else{let c=document.createElement("pre");c.innerText=s,u=c.innerHTML}return`<pre style="padding: 0; border-radius: 0;"><code class="hljs ${a}">${u}</code></pre>`};case"table":return function(s,a){return`<table class="table table-bordered">
<thead>
${s}</thead>
<tbody>
${a}</tbody>
</table>
`};case"listitem":let i=`<i class="${this.options.customIcons.CheckBox_Checked.fontClass}"></i> `,o=`<i class="${this.options.customIcons.CheckBox_UnChecked.fontClass}"></i> `;return function(s,a,l){return/^\s*\[[x ]\]\s*/.test(s)||s.startsWith("<input")?(s.startsWith("<input")?s=s.replace('<input disabled="" type="checkbox">',o).replace('<input checked="" disabled="" type="checkbox">',i):s=s.replace(/^\s*\[ \]\s*/,o).replace(/^\s*\[x\]\s*/,i),`<li>${s}</li>`):`<li>${s}</li>`}}}_uploadFiles(n){if(!(!this._hasUploadFunction||this.isUploading)){if(!n||n.length===0){this.dragover=!1;return}this.isUploading=!0,this.dragover=!0,Promise.resolve().then(()=>this.upload(n)).then(r=>{if(Array.isArray(r)){let i=[];for(let a of r){let l=`[${a.name}](${a.url})`;a.isImg&&(l=`!${l}`),i.push(l)}let o=this._aceEditorIns.selection.getRange(),s={start:{column:0,row:o.end.row+1},end:{column:0,row:o.end.row+1}};this._aceEditorIns.session.replace(s,`\r
`),this._aceEditorIns.selection.setRange(s),this._aceEditorIns.focus(),this.insertContent("Custom",i.join(`\r
`))}else console.warn("Invalid upload result. Please using follow this type `UploadResult`.");this.isUploading=!1,this.dragover=!1}).catch(r=>{console.error(r),this.isUploading=!1,this.dragover=!1})}}}return e.\u0275fac=function(n){return new(n||e)(q(xn),zs("required"),q(Ze),q(Jn),q(na))},e.\u0275cmp=Re({type:e,selectors:[["md-editor"]],viewQuery:function(n,r){if(n&1&&(yu(YR,7),yu(ZR,7)),n&2){let i;Ks(i=Ws())&&(r.aceEditorContainer=i.first),Ks(i=Ws())&&(r.previewContainer=i.first)}},inputs:{hideToolbar:"hideToolbar",height:"height",preRender:"preRender",postRender:"postRender",upload:"upload",locale:"locale",maxlength:"maxlength",mode:"mode",options:"options"},outputs:{onEditorLoaded:"onEditorLoaded",onPreviewDomChanged:"onPreviewDomChanged"},features:[zi([{provide:nc,useExisting:Xn(()=>e),multi:!0},{provide:Ta,useExisting:Xn(()=>e),multi:!0}])],ngContentSelectors:m2,decls:14,vars:16,consts:[[1,"md-editor-container"],[1,"md-layout"],["class","tool-bar",4,"ngIf"],[1,"editor-container"],[3,"dragover","drop","dragleave"],["class","drag-container",4,"ngIf"],["contenteditable","true",1,"editor-panel",3,"paste"],[1,"ace-editor"],["aceEditor",""],[1,"preview-container",3,"click"],[1,"preview-panel"],["previewContainer",""],["class","md-footer",4,"ngIf"],[3,"resize",4,"ngIf"],[1,"tool-bar"],[1,"btn-group"],["class","btn btn-sm btn-default","type","button",3,"click",4,"ngIf"],[1,"btn-group","pull-right","hide-split"],["class","btn btn-sm btn-default","type","button",3,"active","click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-default",3,"click"],[1,"drag-container"],[1,"upload-loading"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","fill","#fff",4,"ngIf"],["class","lds-dual-ring",4,"ngIf"],[1,"text"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","fill","#fff"],["d","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"],[1,"lds-dual-ring"],[1,"md-footer"],[1,"text-right","length-view"],[1,"resize-btn"],[3,"resize"]],template:function(n,r){n&1&&(vh(g2),L(0,"div",0)(1,"div",1),at(2,u2,19,11,"div",2),L(3,"div",3)(4,"div",4),re("dragover",function(o){return r.onDragover(o)})("drop",function(o){return r.onDrop(o)})("dragleave",function(o){return r.onDragleave(o)}),at(5,f2,6,3,"div",5),L(6,"div",6),re("paste",function(o){return r.onAceEditorPaste(o)}),oe(7,"div",7,8),F()(),L(9,"div",9),re("click",function(o){return r.previewPanelClick(o)}),oe(10,"div",10,11),F()(),at(12,h2,4,2,"div",12),F(),at(13,p2,1,0,"md-editor-resize-sensor",13),F()),n&2&&(Uo("height",r.height),kr("fullscreen",r.isFullScreen)("md-editor-resizable",r.options==null?null:r.options.resizable),H(2),X("ngIf",!r.hideToolbar&&r.mode!="preview"),H(2),Uo("display",r.mode=="preview"?"none":null),kr("dragover",r.dragover),H(),X("ngIf",r.isUploading),H(4),Uo("display",r.mode=="preview"||r.showPreviewPanel?"block":"none"),H(3),X("ngIf",r.maxlength>0&&r.mode!="preview"),H(),X("ngIf",r.options==null?null:r.options.resizable))},dependencies:[ri,v2],styles:['.md-editor-container[_ngcontent-%COMP%]{position:relative;height:100%;margin-bottom:15px;border:1px solid rgba(0,0,0,.1)}.md-editor-container.fullscreen[_ngcontent-%COMP%]{margin:0;position:fixed;border:0;top:0;left:0;width:100%!important;height:100%!important;z-index:99999999}.md-editor-container.md-editor-resizable[_ngcontent-%COMP%]:not(.fullscreen){resize:both;overflow:hidden;display:inline-block;width:100%}.md-editor-container.md-editor-resizable[_ngcontent-%COMP%]:not(.fullscreen)   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{height:calc(100% - 70px)}.md-editor-container.md-editor-resizable[_ngcontent-%COMP%]:not(.fullscreen)   .md-footer[_ngcontent-%COMP%]{z-index:-1}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px solid rgba(0,0,0,.1)}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{padding:6px}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]:first-child:before{display:none}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]:empty{display:none}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]:not(:empty):before{content:" ";background-color:#a9a9a9;width:1px;height:20px;left:0;top:12px;position:absolute}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group.hide-split[_ngcontent-%COMP%]:before{display:none}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:0}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{flex:1;display:flex;height:calc(100% - 100px)}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .drag-container[_ngcontent-%COMP%]{display:none}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div.dragover[_ngcontent-%COMP%]{position:relative;border:2px dashed lightgreen;box-sizing:border-box}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div.dragover[_ngcontent-%COMP%]   .drag-container[_ngcontent-%COMP%]{display:block;position:absolute;inset:0;z-index:10;background-color:#0006;display:flex;align-items:center;justify-content:center;font-size:50px;color:#fff}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div.dragover[_ngcontent-%COMP%]   .drag-container.drag-container-mask[_ngcontent-%COMP%]{background-color:transparent;z-index:11}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div.dragover[_ngcontent-%COMP%]   .drag-container[_ngcontent-%COMP%]   .upload-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div.dragover[_ngcontent-%COMP%]   .drag-container[_ngcontent-%COMP%]   .upload-loading[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;margin-top:10px}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .editor-panel[_ngcontent-%COMP%]{height:100%}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]   .editor-panel[_ngcontent-%COMP%]   .ace-editor[_ngcontent-%COMP%]{height:100%;min-height:100%}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{overflow:auto}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-panel[_ngcontent-%COMP%]{height:100%;border-left:1px solid rgba(0,0,0,.1);background-color:#fff;padding:10px}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .md-footer[_ngcontent-%COMP%]{background-color:#f0f0f0;border-top:1px solid rgba(0,0,0,.1);display:flex;align-items:center}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .md-footer[_ngcontent-%COMP%]   .length-view[_ngcontent-%COMP%]{flex:1;padding:4px 2px 0;font-size:12px;line-height:16px}.md-editor-container[_ngcontent-%COMP%]   .md-layout[_ngcontent-%COMP%]   .md-footer[_ngcontent-%COMP%]   .resize-btn[_ngcontent-%COMP%]{width:17px}.md-editor-container[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{float:right}.md-editor-container[_ngcontent-%COMP%]   .lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.md-editor-container[_ngcontent-%COMP%]   .lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border:6px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),e})(),QE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Vn({type:e}),e.\u0275inj=Un({imports:[Go,os]}),e})();var ir={production:!0,assets:"assets/",serverUrl:"http://192.168.1.15:3000/"};function Br(e){let t="";return t=e.error.message,console.debug("%s: %s | %s","Error Handler REST","handleError",t),Hr(()=>t)}function Yp(e){var t=new FormData;return t.append("pid",e.pid.toString()),t.append("title",e.title),t.append("descn",e.descn),t.append("pageUrl",e.pageUrl),e.file!=null&&t.append("file",e.file),t}function YE(e){var t=new FormData;return t.append("jwt",JSON.stringify(e)),t}var or=(()=>{class e{constructor(n){this.http=n,this.serverUrl=ir.serverUrl,this.refreshSubject=new Ne,this.selectSubject=new Ne,this.editSubject=new Ne,this.updateEditorContentSubject=new Ne}getProjects(){return console.debug("%s: %s | %s","ProjectService","getProjects","GET "+this.serverUrl+"projectlist"),this.http.get(this.serverUrl+"projectlist",{withCredentials:!0}).pipe(mt(Br))}addProject(n,r,i,o){return console.debug("%s: %s | %s","ProjectService","addProject","POST "+this.serverUrl+"addProject"),console.debug({title:n,descn:r,effort:i,file:o}),this.http.post(this.serverUrl+"addProject",Yp({pid:0,title:n,descn:r,pageUrl:i,selected:!0,file:o}),{withCredentials:!0}).pipe(mt(Br))}deleteProjects(n){return console.debug("%s: %s | %s","ProjectService","deleteProjects","POST "+this.serverUrl+"deleteProjects"),console.debug(n),this.http.post(this.serverUrl+"deleteProjects",{data:n},{withCredentials:!0}).pipe(mt(Br))}updateProject(n){return console.debug("%s: %s | %s","ProjectService","updateProject","POST "+this.serverUrl+"updateProject"),console.debug(n),this.http.post(this.serverUrl+"updateProject",Yp(n),{withCredentials:!0}).pipe(mt(Br))}refresh(){console.debug("%s: %s | %s","ProjectService","refresh","Refresh broadcast"),this.refreshSubject.next()}onRefresh(){return console.debug("%s: %s | %s","ProjectService","onRefresh","Refresh observable"),this.refreshSubject.asObservable()}select(n){console.debug("%s: %s | %s","ProjectService","select","Select broadcast"),this.selectSubject.next(n)}onSelect(){return console.debug("%s: %s | %s","ProjectService","onSelect","Select observable"),this.selectSubject.asObservable()}edit(){console.debug("%s: %s | %s","ProjectService","edit","Edit broadcast"),this.editSubject.next()}onEdit(){return console.debug("%s: %s | %s","ProjectService","onEdit","Edit observable"),this.editSubject.asObservable()}updateEditorContent(){console.debug("%s: %s | %s","ProjectService","upload","Update Local Storage broadcast"),this.updateEditorContentSubject.next()}onUpdateEditorContent(){return console.debug("%s: %s | %s","ProjectService","onUpload","Update LocalStorage observable"),this.updateEditorContentSubject.asObservable()}static{this.\u0275fac=function(r){return new(r||e)(G(Wi))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var mr=OI(fI());var cn=(()=>{class e{constructor(){this.AESkey=mr.default.random.getBytesSync(32),this.AESiv=mr.default.random.getBytesSync(32),this.storeSubject=new Ne,this.generateKeyAndIV()}generateKeyAndIV(){this.AESkey=mr.default.random.getBytesSync(32),this.AESiv=mr.default.random.getBytesSync(32)}saveData(n,r){localStorage.setItem(n,this.encrypt(r)),this.storeSubject.next(n)}saveDataBasic(n,r){localStorage.setItem(n,r),this.storeSubject.next(n)}getData(n){let r=localStorage.getItem(n)||"";return this.decrypt(r)}removeData(n){localStorage.removeItem(n),this.storeSubject.next(n)}clearData(){for(var n="",r=0;r<localStorage.length;r++)n=localStorage.key(r)||"",n!="login"&&localStorage.removeItem(n)}encrypt(n){var r=mr.default.cipher.createCipher("AES-CBC",this.AESkey);return r.start({iv:this.AESiv}),r.update(mr.default.util.createBuffer(n,"utf8")),r.finish(),r.output.getBytes()}decrypt(n){var r=mr.default.cipher.createDecipher("AES-CBC",this.AESkey);return r.start({iv:this.AESiv}),r.update(mr.default.util.createBuffer(n)),r.finish(),mr.default.util.encodeUtf8(r.output.getBytes())}onStore(){return this.storeSubject.asObservable()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var hI=(()=>{class e{constructor(n,r){this.pService=n,this.lss=r,this.assetPath=ir.assets,this.fileName=null}onFileSelected(n){var r=n.target,i=new FileReader;r.files!=null&&(this.fileName=r.files[0].name,i.readAsText(r.files[0],"UTF-8"),i.onload=o=>{o!=null&&o.target!=null&&o.target.result!=null&&(this.lss.saveData("File",o.target.result.toString()),this.pService.updateEditorContent())})}static{this.\u0275fac=function(r){return new(r||e)(q(or),q(cn))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-fileupload"]],standalone:!0,features:[Be],decls:5,vars:1,consts:[["type","file","accept",".md",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],[3,"click"],[1,"navimg",3,"src"]],template:function(r,i){if(r&1){let o=tt();L(0,"input",0,1),re("change",function(a){return i.onFileSelected(a)}),F(),L(2,"div",2)(3,"button",3),re("click",function(){Le(o);let a=jo(1);return Fe(a.click())}),oe(4,"img",4),F()()}r&2&&(H(4),X("src",i.assetPath+"clip.svg",$n))},styles:[".file-input[_ngcontent-%COMP%]{display:none}.file-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6.96px 8.68px;border:.667px;text-align:center;text-decoration:none;border:none;background-color:transparent}.file-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.navimg[_ngcontent-%COMP%]{height:14px;object-fit:contain}"]})}}return e})();var Ei=(()=>{class e{constructor(n,r){this.lss=n,this.http=r,this.serverUrl=ir.serverUrl,window.loginSubject=new Ne,window.loginSubject.asObservable().subscribe(i=>{console.debug("%s: %s | %s","AuthenticationService","window.loginSubject","POST "+this.serverUrl+"login"),this.http.post(this.serverUrl+"login",YE(i),{withCredentials:!0}).pipe(mt(Br)).subscribe(o=>{this.setButton(o.loginStatus)})})}getLoginStatus(){return this.lss.getData("login")!=""}isSignedIn(){console.debug("%s: %s | %s","AuthenticationService","isSignedIn","GET "+this.serverUrl+"isSignedIn"),this.http.get(this.serverUrl+"isSignedIn",{withCredentials:!0}).pipe(mt(Br)).subscribe(n=>{this.setButton(n.loginStatus)})}logout(){console.debug("%s: %s | %s","AuthenticationService","logout","GET "+this.serverUrl+"logout"),this.http.get(this.serverUrl+"logout",{withCredentials:!0}).pipe(mt(Br)).subscribe(n=>{this.setButton(n.loginStatus)})}setButton(n){var r=document.getElementsByClassName("googleButton")[0],i=document.getElementsByClassName("logout-btn")[0];n=="true"?(console.debug("%s: %s","AuthenticationService","Logged In"),this.lss.saveDataBasic("login","true"),r.style.display="none",i.style.display="block"):(console.debug("%s: %s","AuthenticationService","Logged Out"),this.lss.removeData("login"),r.style.display="flex",i.style.display="none")}static{this.\u0275fac=function(r){return new(r||e)(G(cn),G(Wi))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var pI=(()=>{class e{ngAfterViewInit(){var n=document.getElementsByClassName("tool-bar")[0];this.loggedIn=this.authService.getLoginStatus(),this.loggedIn?(n.style.pointerEvents="auto",n.style.opacity="1",this.closePreview()):(n.style.pointerEvents="none",n.style.opacity="0.4",this.fullPreview())}constructor(n,r,i){this.pService=n,this.lss=r,this.authService=i,this.content="",this.mode="editor",this.options={showPreviewPanel:!1,resizable:!1,enablePreviewContentClick:!0,hideIcons:["FullScreen"]},this.loggedIn=!1,this.preRenderFunc=o=>(this.lss.saveData("File",o),o),this.content=r.getData("File"),this.pService.onSelect().subscribe(o=>{o.selected&&o.file!=null?this.content=o.file:this.content=null}),this.pService.onUpdateEditorContent().subscribe(()=>{this.content=r.getData("File")}),this.lss.onStore().subscribe(o=>{o=="login"&&(this.loggedIn=i.getLoginStatus())})}postRenderFunc(n){return n}togglePreview(n){var r=n.target;r.className=="fa fa-eye"?this.fullPreview():r.className=="fa fa-eye-slash"?this.closePreview():r.className.includes("btn")&&(r=r.firstElementChild,r.className=="fa fa-eye"?this.fullPreview():(r.className="fa fa-eye-slash")&&this.closePreview())}fullPreview(){var n=document.getElementsByClassName("editor-container")[0],r=n.firstElementChild,i=n.lastElementChild;r.style.display="none",i.style.display="block",i.style.width="50vh"}closePreview(){var n=document.getElementsByClassName("editor-container")[0],r=n.firstElementChild,i=n.lastElementChild;r.style.display="block",i.style.display="none"}static{this.\u0275fac=function(r){return new(r||e)(q(or),q(cn),q(Ei))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-mdeditor"]],standalone:!0,features:[Be],decls:3,vars:6,consts:[["name","Content","required","","maxlength","1000",3,"preRender","postRender","ngModel","height","mode","options","ngModelChange","click"],["custom-btns",""]],template:function(r,i){r&1&&(L(0,"md-editor",0),qi("ngModelChange",function(s){return $o(i.content,s)||(i.content=s),s}),re("click",function(s){return i.togglePreview(s)}),L(1,"slot",1),oe(2,"app-fileupload"),F()()),r&2&&(X("preRender",i.preRenderFunc)("postRender",i.postRenderFunc),Hi("ngModel",i.content),X("height","100%")("mode",i.mode)("options",i.options))},dependencies:[os,ic,Wp,Qp,Aa,QE,WE,hI],styles:["md-editor[_ngcontent-%COMP%]{font-size:small;overflow-y:visible}"]})}}return e})();function tL(e,t){e&1&&oe(0,"app-mdeditor")}function nL(e,t){if(e&1){let n=tt();L(0,"div",3),re("click",function(){Le(n);let i=ie();return Fe(i.onClick())}),L(1,"h3"),Xe(2),F()()}if(e&2){let n=ie();H(2),er(n.loggedIn?"Click to Edit":"Click to View")}}var gI=(()=>{class e{constructor(n,r,i){this.pService=n,this.authService=r,this.lss=i,this.editMode=!1,this.loggedIn=!1,this.pService.onEdit().subscribe(()=>{this.editMode=!this.editMode}),this.lss.onStore().subscribe(o=>{o=="login"&&(this.loggedIn=r.getLoginStatus())})}onClick(){this.pService.edit()}static{this.\u0275fac=function(r){return new(r||e)(q(or),q(Ei),q(cn))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-showcase"]],standalone:!0,features:[Be],decls:4,vars:2,consts:[[1,"list-container"],[4,"ngIf","ngIfElse"],["placeholder",""],["id","placeholder",3,"click"]],template:function(r,i){if(r&1&&(L(0,"div",0),at(1,tL,1,0,"app-mdeditor",1)(2,nL,3,1,"ng-template",null,2,Cu),F()),r&2){let o=jo(3);H(),X("ngIf",i.editMode)("ngIfElse",o)}},dependencies:[pI,ri],styles:["#placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:medium solid lightgrey;height:100%}#placeholder[_ngcontent-%COMP%]:hover{cursor:pointer}#placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border:medium solid lightgrey;padding:1em;color:#d3d3d3;opacity:.6}"]})}}return e})();var rL=e=>({selected:e}),mI=(()=>{class e{constructor(){this.assetPath=ir.assets,this.listItem={pid:-1,title:"None",descn:"None",pageUrl:"",selected:!1,file:null},this.updateSelected=new Ye}ListItemComponent(){}onSelect(){console.debug("%s: %s | %s","ListItemComponent","onSelect","Select"),this.listItem.selected=!this.listItem.selected,this.updateSelected.emit(this.listItem)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-list-item"]],inputs:{listItem:"listItem"},outputs:{updateSelected:"updateSelected"},standalone:!0,features:[Be],decls:9,vars:7,consts:[[1,"item"],["id","indicator",3,"ngClass","click"],["id","content",3,"click"],[1,"valign",3,"routerLink"],[1,"itemimg",3,"src"]],template:function(r,i){r&1&&(L(0,"div",0)(1,"div",1),re("click",function(){return i.onSelect()}),F(),L(2,"div",2),re("click",function(){return i.onSelect()}),L(3,"h4"),Xe(4),F(),L(5,"p"),Xe(6),F()(),L(7,"a",3),oe(8,"img",4),F()()),r&2&&(H(),X("ngClass",Hy(5,rL,i.listItem.selected)),H(3),er(i.listItem.title),H(2),er(i.listItem.descn),H(),X("routerLink",i.listItem.pageUrl),H(),X("src",i.assetPath+"arrow-circle-right.svg",$n))},dependencies:[sC,Wu],styles:[".item[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#fcfcfc;border:1pt solid black;border-radius:5px;margin:2%;text-align:left;font-size:small}.item[_ngcontent-%COMP%]:hover{cursor:pointer}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0 .5% .5% 1%}.small[_ngcontent-%COMP%]{font-size:.8rem}#indicator[_ngcontent-%COMP%]{width:5%;margin-right:1%;border-top-left-radius:4px;border-bottom-left-radius:4px}#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.selected[_ngcontent-%COMP%]{background-color:#55cef0}.itemimg[_ngcontent-%COMP%]{height:2em;object-fit:contain;padding:0 2px 0 0}.valign[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return e})();function iL(e,t){if(e&1){let n=tt();ji(0),L(1,"button",4),re("click",function(){Le(n);let i=ie();return Fe(i.onSave())}),oe(2,"img",5),F(),L(3,"button",6),re("click",function(){Le(n);let i=ie();return Fe(i.onCancel())}),oe(4,"img",5),F(),$i()}if(e&2){let n=ie();H(),X("disabled",!n.loggedIn),H(),X("src",n.assetPath+"check.svg",$n),H(2),X("src",n.assetPath+"cross.svg",$n)}}function oL(e,t){if(e&1){let n=tt();ji(0),L(1,"button",4),re("click",function(){Le(n);let i=ie(2);return Fe(i.onEdit())}),oe(2,"img",5),F(),$i()}if(e&2){let n=ie(2);H(),X("disabled",!n.loggedIn),H(),X("src",n.assetPath+"edit.svg",$n)}}function sL(e,t){if(e&1){let n=tt();L(0,"button",4),re("click",function(){Le(n);let i=ie();return Fe(i.onAdd())}),oe(1,"img",5),F(),at(2,oL,3,2,"ng-container",3),L(3,"button",4),re("click",function(){Le(n);let i=ie();return Fe(i.onDelete())}),oe(4,"img",5),F()}if(e&2){let n=ie();X("disabled",!n.loggedIn),H(),X("src",n.assetPath+"plus.svg",$n),H(),X("ngIf",n.editItem.selected),H(),X("disabled",!n.loggedIn),H(),X("src",n.assetPath+"trash.svg",$n)}}function aL(e,t){if(e&1){let n=tt();ji(0),L(1,"div",7)(2,"input",8),qi("ngModelChange",function(i){Le(n);let o=ie();return $o(o.inTitle,i)||(o.inTitle=i),Fe(i)}),F(),oe(3,"br"),L(4,"input",9),qi("ngModelChange",function(i){Le(n);let o=ie();return $o(o.inDescn,i)||(o.inDescn=i),Fe(i)}),F(),oe(5,"br"),L(6,"input",10),qi("ngModelChange",function(i){Le(n);let o=ie();return $o(o.inPageUrl,i)||(o.inPageUrl=i),Fe(i)}),F(),oe(7,"br"),F(),$i()}if(e&2){let n=ie();H(2),X("disabled",!n.loggedIn),Hi("ngModel",n.inTitle),H(2),X("disabled",!n.loggedIn),Hi("ngModel",n.inDescn),H(2),X("disabled",!n.loggedIn),Hi("ngModel",n.inPageUrl)}}var vI=(()=>{class e{constructor(n,r,i){this.pService=n,this.lss=r,this.authService=i,this.assetPath=ir.assets,this.delete=new Ye,this.editItem={pid:0,title:"",descn:"",pageUrl:"",selected:!1,file:null},this.editMode=!1,this.loggedIn=!1,this.inTitle="",this.inDescn="",this.inPageUrl="",this.inFile=null,this.pService.onEdit().subscribe(()=>{this.editMode=!this.editMode}),n.onSelect().subscribe(o=>{this.editItem=o,this.editItem.selected?(this.inTitle=this.editItem.title,this.inDescn=this.editItem.descn,this.inPageUrl=this.editItem.pageUrl,this.inFile=this.editItem.file):this.reset()}),this.lss.onStore().subscribe(o=>{o=="login"&&(this.loggedIn=i.getLoginStatus())}),this.loggedIn=i.getLoginStatus()}onSave(){var n=new FormData;if(console.debug("%s: %s | %s","EditItemComponent","onSave","Save"),this.inFile=this.lss.getData("File"),this.inTitle==""&&this.inDescn==""&&this.inPageUrl==""){console.debug("%s: %s | %s","EditItemComponent","onSave","Save aborted");return}if(this.inTitle==this.editItem.title&&this.inDescn==this.editItem.descn&&this.inPageUrl==this.editItem.pageUrl&&this.inFile==this.editItem.file){console.debug("%s: %s | %s","EditItemComponent","onSave","Save aborted");return}this.editItem.pid!=0?this.pService.updateProject({pid:this.editItem.pid,title:this.inTitle,descn:this.inDescn,pageUrl:this.inPageUrl,selected:!0,file:this.inFile}).subscribe(r=>{console.debug("%s: %s | %s","EditItemComponent","onSave","Save finished -- Edit"),this.pService.refresh(),this.reset(),this.onCancel()}):this.pService.addProject(this.inTitle,this.inDescn,this.inPageUrl,this.inFile).subscribe(r=>{console.debug("%s: %s | %s","EditItemComponent","onSave","Add finished -- Edit"),this.pService.refresh(),this.reset(),this.onCancel()})}onCancel(){console.debug("%s: %s | %s","EditItemComponent","onCancel","Cancel"),this.reset(),this.pService.select(this.editItem),this.pService.edit()}onAdd(){console.debug("%s: %s | %s","EditItemComponent","onAdd","Add"),this.reset(),this.pService.select(this.editItem),this.pService.edit()}onEdit(){console.debug("%s: %s | %s","EditItemComponent","onEdit","Edit"),this.inTitle=this.editItem.title,this.inDescn=this.editItem.descn,this.inPageUrl=this.editItem.pageUrl,this.pService.edit()}onDelete(){console.debug("%s: %s | %s","EditItemComponent","onDelete","Delete"),this.lss.clearData(),this.delete.emit()}reset(){this.editItem={pid:0,title:"",descn:"",pageUrl:"",selected:!1,file:null},this.inTitle=this.editItem.title,this.inDescn=this.editItem.descn,this.inPageUrl="",this.inFile=this.editItem.file,this.lss.clearData()}static{this.\u0275fac=function(r){return new(r||e)(q(or),q(cn),q(Ei))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-edit-item"]],outputs:{delete:"delete"},standalone:!0,features:[Be],decls:5,vars:3,consts:[[1,"editnav"],[4,"ngIf","ngIfElse"],["standBy",""],[4,"ngIf"],[1,"active",3,"disabled","click"],[1,"navimg",3,"src"],[1,"active",3,"click"],["id","addItemForm"],["type","text","name","itemTitle","placeholder","Project Name",3,"disabled","ngModel","ngModelChange"],["type","text","name","itemDescn","placeholder","Project Description",3,"disabled","ngModel","ngModelChange"],["type","text","name","itemPageUrl","placeholder","View Page",3,"disabled","ngModel","ngModelChange"]],template:function(r,i){if(r&1&&(L(0,"div",0),at(1,iL,5,3,"ng-container",1)(2,sL,5,5,"ng-template",null,2,Cu),F(),at(4,aL,8,6,"ng-container",3)),r&2){let o=jo(3);H(),X("ngIf",i.editMode)("ngIfElse",o),H(3),X("ngIf",i.editMode&&i.loggedIn)}},dependencies:[ri,Go,os,rc,ic,Aa],styles:[".editnav[_ngcontent-%COMP%]{background-color:#fff;overflow:hidden}.editnav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:left;background-color:#e1dfdf;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px;border:none}.editnav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#55cef0;color:#fff;cursor:pointer}.navimg[_ngcontent-%COMP%]{height:1em;object-fit:contain}#addItemForm[_ngcontent-%COMP%]{margin:2%;background-color:#f0eeee;font-size:16px;line-height:2}input[_ngcontent-%COMP%]{opacity:.9;display:inline-block;margin:1%;border:none;background-color:#fcfcfc;border-radius:1px;outline:0;width:96%}"]})}}return e})();function lL(e,t){if(e&1){let n=tt();L(0,"div")(1,"app-list-item",4),re("updateSelected",function(i){Le(n);let o=ie(2);return Fe(o.onSelect(i))}),F()()}if(e&2){let n=t.$implicit;H(),X("listItem",n)}}function uL(e,t){if(e&1&&(ji(0),at(1,lL,2,1,"div",3),$i()),e&2){let n=ie();H(),X("ngForOf",n.pList)}}var yI=(()=>{class e{constructor(n,r){this.pService=n,this.lss=r,this.pList=[],this.selection={pid:0,title:"",descn:"",pageUrl:"",selected:!1,file:null},this.refreshList(),n.onRefresh().subscribe(()=>{console.debug("%s: %s | %s","ListComponent","Subscribe","Refresh received"),this.refreshList()}),n.onSelect().subscribe(i=>{this.selection=i,i.pid==0&&(this.pList=this.pList.map(o=>(o.selected=!1,o)))})}refreshList(){console.debug("%s: %s | %s","ListComponent","refreshList","Refreshing"),this.lss.clearData(),this.pService.getProjects().subscribe(n=>{this.pList=n})}onSelect(n){console.debug("%s: %s | %s","ListComponent","onSelect","Set selected attribute"),this.pList=this.pList.map(r=>(r.pid==n.pid?r.selected=n.selected:r.selected=!1,r)),this.pList.filter(r=>r.selected).length==1?this.selection=this.pList.filter(r=>r.selected)[0]:this.selection={pid:0,title:"",descn:"",pageUrl:"",selected:!1,file:null},this.lss.getData("File")==""&&this.selection.file!=null&&this.lss.saveData("File",this.selection.file),this.pService.select(this.selection),console.debug("%s: %s | %o","ListComponent","onSelect",this.pList)}onDelete(){console.debug("%s: %s | %s","ListComponent","onDelete","Delete");var n=this.pList.filter(r=>r.selected);this.pService.deleteProjects(n).subscribe(r=>{console.debug("%s: %s | %s","ListComponent","Subscribe","Delete finished"),this.refreshList(),this.selection={pid:0,title:"",descn:"",pageUrl:"",selected:!1,file:null},this.pService.select(this.selection)})}static{this.\u0275fac=function(r){return new(r||e)(q(or),q(cn))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-list"]],standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"list-container",3,"refresh"],["id","edit-bar",3,"delete"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"listItem","updateSelected"]],template:function(r,i){r&1&&(L(0,"div",0),re("refresh",function(){return i.refreshList()}),L(1,"app-edit-item",1),re("delete",function(){return i.onDelete()}),F(),at(2,uL,2,1,"ng-container",2),F()),r&2&&(H(2),X("ngIf",i.pList))},dependencies:[mI,vI,aC,ri],styles:["#edit-bar[_ngcontent-%COMP%]{position:sticky;top:0}"]})}}return e})();var CI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-splitscreen"]],standalone:!0,features:[Be],decls:3,vars:0,consts:[[1,"flex-half-container"],[1,"flex-half-container-item"]],template:function(r,i){r&1&&(L(0,"div",0),oe(1,"app-list",1)(2,"app-showcase",1),F())},dependencies:[yI,gI]})}}return e})();var EI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-subsetsuminput"]],standalone:!0,features:[Be],decls:2,vars:0,template:function(r,i){r&1&&(L(0,"p"),Xe(1,"subsetsuminput works!"),F())}})}}return e})();var bI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-chart"]],standalone:!0,features:[Be],decls:2,vars:0,template:function(r,i){r&1&&(L(0,"p"),Xe(1,"chart works!"),F())}})}}return e})();var xI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Re({type:e,selectors:[["app-subsetsum"]],standalone:!0,features:[Be],decls:5,vars:0,consts:[[1,"flex-half-container"],[1,"flex-half-container-item"]],template:function(r,i){r&1&&(L(0,"p"),Xe(1,"subsetsum works!"),F(),L(2,"div",0),oe(3,"app-subsetsuminput",1)(4,"app-chart",1),F())},dependencies:[EI,bI]})}}return e})();var II=[{path:"",title:"Project One",component:CI},{path:"about",title:"About",component:SE},{path:"subsetsum",title:"Subset Sum Algorithm",component:xI}];var wI={providers:[sE(II),vC(),_E()]};var _I=(()=>{class e{constructor(n,r){this.lss=n,this.auth=r,this.title="myweb"}ngOnInit(){this.loadGISLibrary(),this.auth.isSignedIn()}onLogout(){this.auth.logout()}loadGISLibrary(){let n=document.createElement("script");n.src="https://accounts.google.com/gsi/client",n.type="text/javascript",n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}static{this.\u0275fac=function(r){return new(r||e)(q(cn),q(Ei))}}static{this.\u0275cmp=Re({type:e,selectors:[["app-root"]],standalone:!0,features:[Be],decls:18,vars:0,consts:[["id","sticky-parallax-header"],["id","animation"],["id","title"],["id","author"],[1,"googleButton"],["id","g_id_onload","data-client_id","470042236186-4ktmsh2n5fi48ooagmobbfmdau5rlese.apps.googleusercontent.com","data-context","signin","data-ux_mode","popup","data-callback","handleGoogleLoginResponse","data-auto_prompt","false"],["data-type","standard","data-shape","rectangular","data-theme","outline","data-text","signin_with","data-size","medium","data-logo_alignment","left",1,"g_id_signin"],[1,"logout-btn",3,"click"],[1,"topnav"],["routerLink","",1,"active"],["routerLink","/about",1,"active"]],template:function(r,i){r&1&&(L(0,"div",0)(1,"div",1)(2,"p",2),Xe(3,"Project One"),F(),L(4,"p",3),Xe(5,"Website By: Vlado Smolovic"),F(),L(6,"div",4),oe(7,"div",5)(8,"div",6),F(),L(9,"div",7),re("click",function(){return i.onLogout()}),L(10,"p"),Xe(11,"Log Out"),F()()(),L(12,"div",8)(13,"a",9),Xe(14,"Home"),F(),L(15,"a",10),Xe(16,"About"),F()(),oe(17,"router-outlet"),F())},dependencies:[Dp,Wu],styles:[".topnav[_ngcontent-%COMP%]{overflow:hidden;line-height:1.2;display:flex;justify-content:center;border-top:1px solid black;border-bottom:1px solid black}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px;background-color:#f3f3f3;color:#000}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#55cef0}.googleButton[_ngcontent-%COMP%]{width:100%;margin:0 auto 8px;display:flex;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_sticky-parallax-header-move-and-size{0%{font-size:calc(8vw + 1em);padding-top:calc((105vh - 8vw - 1em)/2);padding-bottom:calc((105vh - 8vw - 1em)/2)}to{font-size:3em;padding-top:calc((18vh - 4em)/2);padding-bottom:calc((18vh - 4em)/2)}}#sticky-parallax-header[_ngcontent-%COMP%]{text-align:center;position:fixed;background-color:#fff;width:100%;top:0}#animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_sticky-parallax-header-move-and-size linear forwards;animation-timeline:scroll();animation-range:0vh 130vh}#title[_ngcontent-%COMP%]{margin:0}#author[_ngcontent-%COMP%]{font-size:medium;line-height:1.2;margin-top:0;margin-bottom:8px}.logout-btn[_ngcontent-%COMP%]{margin:0 auto 8px;width:100px;border:1px solid #dadce0;border-radius:4px;display:none}.logout-btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;color:#3c4043;text-decoration:none;font-family:arial,sans-serif;font-weight:500;font-size:14px;letter-spacing:.25px;line-height:2}.logout-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fff1f1}"]})}}return e})();_C(_I,wI).catch(e=>console.error(e));
